a framework for architect peer-to-peer receiv-driven overlai reza rejai depart of comput scienc univers of oregon reza@cs.uoregon.edu shad stafford depart of comput scienc univers of oregon staffor@cs.uoregon.edu abstract thi paper present a simpl and scalabl framework for  architect peer-to-peer overlai call peer-to-peer  receiverdriven overlai (or pro). pro is design for non-interact stream applic and it primari design goal is to  maxim deliv bandwidth (and thu deliv qualiti) to peer with heterogen and asymmetr bandwidth. to achiev thi goal, pro adopt a receiv-driven approach where each receiv (or particip peer) (i) independ discov other peer in the overlai through gossip, and (ii) selfishli determin the best subset of parent peer through which to connect to the overlai to maxim it own  deliv bandwidth. particip peer form an  unstructur overlai which is inher robust to high churn rate. furthermor, each receiv leverag congest control bandwidth from it parent as implicit signal to detect and react to long-term chang in network or overlai condit without ani explicit coordin with other particip peer. independ parent select by individu peer  dynam converg to an effici overlai structur. categori and subject descriptor: c.2.4  [computercommun network]: distribut system gener term: design, measur 1. introduct limit deploy of ip multicast ha motiv a new distribut paradigm over the internet base on overlai network where a group of particip end-system (or peer) form an overlai structur and activ particip in distribut of content without ani special support from the network (e.g., [7]). sinc overlai structur ar layer over the best-effort internet, ani approach for construct  overlai should address the follow fundament challeng: (i) scalabl with the number of particip peer, (ii)  robust to dynam of peer particip, (iii) adapt to variat of network bandwidth, and (iv)  accommod heterogen and asymmetri of bandwidth connect among particip peer[19]. cope with bandwidth  variat, heterogen and asymmetri ar particularli  import in design of peer-to-peer overlai for stream  applic becaus deliv qualiti to each peer is directli determin by it bandwidth connect to (other peer(s) on) the overlai. thi paper present a simpl framework for architect peer-to-peer receiv-driven overlai, call pro. pro can accommod a spectrum of non-interact stream  applic rang from playback to lectur-mode live  session. the main design philosophi in pro is that each peer should be allow to independ and selfishli  determin the best wai to connect to the overlai in order to maxim it own deliv qualiti. toward thi end, each peer can connect to the overlai topolog at multipl point (i.e., receiv content through multipl parent peer).  therefor, particip peer form an unstructur overlai that can gracefulli cope with high churn rate[5]. furthermor, have multipl parent peer accommod bandwidth  heterogen and asymmetri while improv resili against dynam of peer particip. pro consist of two kei compon: (i) gossip-base peer discoveri: each peer period exchang messag (i.e., gossip) with other known peer to progress learn about a subset of particip peer in the overlai that ar like to be good parent. gossip provid a  scalabl and effici approach to peer discoveri in unstructur peer-to-peer network that can be custom to guid  direct of discoveri toward peer with desir properti (e.g., peer with shorter distanc or higher bandwidth). (ii) receiv-driven parent select: given the collect  inform about other particip peer by gossip  mechan, each peer (or receiv) gradual improv it own deliv qualiti by dynam select a proper subset of parent peer that collect maxim provid  bandwidth to the receiv. sinc the avail bandwidth from differ particip peer to a receiv (and possibl  correl among them) can be measur onli at that receiv, a receiv-driven approach is the natur solut to maxim avail bandwidth to heterogen peer. furthermor, the avail bandwidth from parent peer serv as an  implicit signal for a receiv to detect and react to chang in network or overlai condit without ani explicit  coordin with other particip peer. independ parent select by individu peer lead to an effici overlai that maxim deliv qualiti to each peer. pro incorpor 42 sever damp function to ensur stabil of the overlai despit uncoordin action by differ peer. pro is part of a larger architectur that we have  develop for peer-to-peer stream. in our earlier work, we develop a mechan call pal [18] that enabl a  receiv to stream layer structur content from a given set of congest control sender. thu, pro and pal ar both receiv-driven but complement each other. more specif, pro determin a proper subset of parent peer that collect maxim deliv bandwidth to each  receiv wherea pal coordin in-time stream of  differ segment of multimedia content from these parent despit unpredict variat in their avail bandwidth. thi divis of function provid a great deal of  flexibl becaus it decoupl overlai construct from deliveri mechan. in thi paper, we primarili focu on the overlai construct mechan, or pro. the rest of thi paper is organ as follow: in section 2, we revisit the problem of overlai construct for  peerto-peer stream and identifi it two kei compon and explor their design space. we illustr the differ  between pro and previou solut, and justifi our design choic. we present our propos framework in section 3. in section 4 and 5, the kei compon of our framework ar describ in further detail. final, section 6 conclud the paper and present our futur plan. 2. revisit the problem construct a peer-to-peer overlai for stream  applic should not onli accommod global design goal such as scalabl and resili but also satisfi the local design goal of maxim deliv qualiti to individu peer 1 . more specif, deliv qualiti of stream content to each peer should be proport to it incom access link bandwidth. achiev these goal is particularli challeng becaus particip peer often exhibit heterogen and asymmetri in their bandwidth connect. solut for construct peer-to-peer overlai often  requir two kei mechan to be implement at each peer: peer discoveri (pd) and parent select (ps). the pd mechan enabl each peer to learn about other  particip peer in the overlai. inform about other peer ar us by the ps mechan at each peer to determin proper parent peer through which it should connect to the overlai. the collect behavior of pd and ps mechan at all particip peer lead to an overlai structur that achiev the abov design goal. there ha been a wealth of previou research that explor design space of the pd and ps mechan as follow: peer discoveri: in structur peer-to-peer network, the exist structur enabl each peer to find other  particip peer in a scalabl fashion (e.g., [4]). howev, structur peer-to-peer network mai not be robust against high churn rate [5]. in contrast, unstructur peer-to-peer network can gracefulli accommod high churn rate [5] but requir a separ peer discoveri mechan.  meshfirst approach (e.g., [7, 6]) that requir each peer to know about all other particip peer as well as central  approach (e.g., [16]) to peer discoveri exhibit limit  scalabl. nice [2] leverag a hierarch structur to achiev 1 it is worth clarifi that our design goal is differ from common goal in build applic-level multicast tree [7] (i.e., minim stretch and stress). scalabl but each peer onli know about a group of  closebi peer who mai not be good parent (i.e., mai not provid suffici bandwidth). parent select: we examin two kei aspect of parent select: (i) select criteria: there ar two main criteria for  parent select: rel delai and avail bandwidth  between two peer. rel delai between ani two peer can be estim in a scalabl fashion with on of the exist landmark-base solut such as global network  posit (gnp) [15]. howev, estim avail bandwidth between two peer requir end-to-end measur.  us avail bandwidth as criteria for parent select doe not scale for two reason: first, to cope with dynam of bandwidth variat, each peer requir to period  estim the avail bandwidth from all other peer through measur (e.g., [6]). second, the probabl of  interfer among differ measur grow with the number of peer in an overlai (similar to joint experi in rlm [13]). most of the previou solut adopt the idea of  applic level multicast and us delai as the main select criteria. particip peer cooper run a distribut algorithm to organ themselv into a sourc-root tree structur in order to minim either overal delai across all branch of the tree (e.g., [7]), or delai between sourc and each receiv peer (e.g., [20]). while these parent  select strategi minim associ network load, thei mai not provid suffici bandwidth to individu peer becaus delai is often not a good indic for avail bandwidth between two peer [12, 14]. the kei issu is that minim overal delai (global design goal) and maxim deliv bandwidth to each peer (local design goal) could easili be in conflict. more specif, parent peer with longer rel distanc mai provid higher bandwidth than close-by  parent. thi suggest that there might exist a tradeoff between maxim provid bandwidth to each peer and  minim overal delai across the overlai. (ii) singl vs multipl parent: a singl tree structur for the overlai (where each peer ha a singl parent) is  inher unabl to accommod peer with heterogen and asymmetr bandwidth. a common approach to  accommod bandwidth heterogen is to us layer  structur content (either layer or multipl descript  encod) and allow each receiv to have multipl parent. thi approach could accommod heterogen but it  introduc sever new challeng. first, parent select  strategi should be determin base on locat of a bottleneck. if the bottleneck is at the (outgo) access link of parent peer 2 , then a receiv should simpli look for more parent. howev, when the bottleneck is els where in the network, a receiv should select parent with a divers set of path (i.e., util differ network path). in practic, a  combin of these case might simultan exist among particip peer [1]. second, stream a singl  content from multipl sender is challeng for two reason: 1) thi requir tight coordin among sender to  determin overal deliv qualiti (e.g., number of layer) and decid which sender is respons for deliveri of each  segment. 2) deliv segment from differ sender should arriv befor their playout time despit uncorrel  vari2 if bottleneck is at the receiv"s access link, then provid bandwidth to the receiv is alreadi maxim. 43 ation in (congest control) bandwidth from differ sender. thi also impli that those solut that build multi-parent overlai structur but do not explicitli ensur in-time deliveri of individu segment (e.g., [3, 11]) mai not be abl to support stream applic. on approach to build a multi-parent overlai is to  organ particip peer into differ tree where each layer of the stream is sent to a separ tree (e.g., [4, 16]). each peer can maxim it qualiti by particip in a proper number of tree. thi approach rais sever issu: 1) the provid bandwidth to peer in each tree is limit by  minimum uplink bandwidth among upstream peer on that tree. in the presenc of bandwidth asymmetri, thi could easili limit deliv bandwidth on each tree below the requir bandwidth for a singl layer, 2) it is not feasibl to build  separ tree that ar all optim for a singl select criteria (e.g., overal delai),. 3) connect across differ tree ar like to compet for avail bandwidth on a singl  bottleneck3 . we conclud that a practic solut for  peer-topeer stream applic should incorpor the follow design properti: (i) it should us an unstructur,  multipar peer-to-peer overlai, (ii) it should provid a scalabl peer discoveri mechan that enabl each peer to find it good parent effici, (iii) it should detect (and possibl avoid) ani share bottleneck among differ connect in the overlai, and (iv) it should deploi congest control connect but ensur in-time arriv of deliv segment to each receiv. in the next section, we explain how pro incorpor all the abov design properti. 3. p2p receiv-driven overlai assumpt: we assum that each peer can estim the rel distanc between ani two peer us the gnp mechan [15]. furthermor, each peer know the  incom and outgo bandwidth of it access link. each peer us the pal mechan to stream content from  multipl parent peer. all connect ar congest control by sender (e.g., [17]). to accommod peer bandwidth heterogen, we assum that the content ha a layer represent. in other word, with proper adjust, the framework should work with both layer and  multipledescript encod. particip peer have  heterogen and asymmetr bandwidth connect.  furthermor, peer mai join and leav in an arbitrari fashion. overview: in pro, each peer (or receiv) progress search for a subset of parent that collect maxim deliv bandwidth and minim overal delai from all  parent to the receiv. such a subset of parent mai chang over time as some parent join (or leav) the overlai, or  avail bandwidth from current parent significantli chang. note that each peer can be both receiv and parent at the same time 4 . each receiv period exchang  messag (i.e., gossip) with other peer in the overlai to learn about those particip peer that ar potenti good parent. potenti good parent for a receiv ar  identifi base on their rel util for the receiv. the util of a parent peer pi for a receiv pj is a function of their rel network distanc (delij) and the outgo  access link bandwidth of the parent (outbwi), (i.e., u(pi, pj) 3 these multi-tree approach often do not us congest control for each connect. 4 throughout thi paper we us receiv and parent as short form for receiv peer and parent peer. = f(delij, outbwi)). us parent" access link bandwidth instead of avail bandwidth ha sever advantag: (i) outgo bandwidth is an upper bound for avail  bandwidth from a parent. therefor, it enabl the receiv to roughli classifi differ parent. (ii) estim avail bandwidth requir end-to-end measur and such a  solut doe not scale with the number of peer, and more importantli, (iii) given a util function, thi approach  enabl ani peer in the overlai to estim rel util of ani other two peer. each receiv onli maintain  inform about a fix (and rel small) number of promis parent peer in it local imag. the local imag at each  receiv is dynam updat with new gossip messag as other peer join/leav the overlai. each peer select a new parent in a demand-driven fashion in order to minim the number of end-to-end bandwidth measur, and thu improv scalabl. when a receiv need a new parent, it ps mechan randomli select a peer from it local  imag where probabl of select a peer directli depend on it util. then, the actual properti (i.e., avail  bandwidth and delai) of the select parent ar verifi through passiv measur. toward thi end, the select parent is ad to the parent list which trigger pal to request content from thi parent. figur 1 depict the interact between pd and ps mechan. in pro, each receiv leverag congest control  bandwidth from it parent as an implicit signal to detect two event: (i) ani measur share bottleneck among  connect from differ parent, and (ii) ani chang in  network or overlai condit (e.g., departur or arriv of other close-by peer). figur 2 show part of an overlai to  illustr thi featur. each receiv continu monitor  avail bandwidth from all it parent. receiv p0 initi ha onli p1 as a parent. when p0 add a new parent (p2), the receiv examin the smooth avail bandwidth from p1 and p2 and ani measur correl between them. if the avail bandwidth from p1 decreas after p2 is ad, the receiv can conclud that these two parent ar behind the same bottleneck (i.e., link l0). we note that path from two parent might have some overlap that doe not includ ani bottleneck. assum anoth receiv p3 select p1 as a parent and thu compet with receiv p0 for  avail bandwidth on link l1. suppos that l1 becom a bottleneck and the connect between p1 to p3 obtain a significantli higher share of l1"s bandwidth than connect between p1 to p0. thi chang in avail bandwidth from p1 serv as a signal for p0. whenev a receiv detect such a drop in bandwidth, it wait for a random period of time (proport to the avail bandwidth) and then drop sourc peer disc. peer selec. gossip exam. a new parent criteriafor peerdiscoveri updat localimag oftheoverlai unknown peer in the overlai known peer in the overlai select intern compon of receiv peer receiv peer figur 1: interact between pd and ps  mechan through local imag 44 p1 p3 p0 l0 l1 l3 overlai connect network path p2 l2 p1 p3 p0 l0 l1 l3 p2 l2 initi overlai reshap overlai figur 2: us congest control bandwidth as signal to reshap the overlai the correspond parent if it bandwidth remain low [8]. therefor, the receiv with a higher bandwidth  connect (p3) is more like to keep p1 as parent wherea p0 mai examin other parent with higher bandwidth includ p3. the congest control bandwidth signal the receiv to properli reshap the overlai. we present a summari of kei featur and limit of pro in the next two section. tabl 1 summar our notat throughout thi paper. main featur: gossip provid a scalabl approach to peer discoveri becaus each peer doe not requir global knowledg about all group member, and it gener  traffic can be control. the pd mechan activ  particip in peer select by identifi peer for the  local imag which limit the possibl choic of parent for the ps mechan. pro construct a multi-parent,  unstructur overlai. but pro doe not have the same  limit that exist in multi-tree approach becaus it  allow each receiv to independ micro-manag it  parent to maxim it overal bandwidth base on local  inform. pro conduct passiv measur not onli to  determin avail bandwidth from a parent but also to detect ani share bottleneck between path from differ parent. furthermor, by select a new parent from the local  imag, pro increas the probabl of find a good parent in each select, and thu significantli decreas number of requir measur which in turn improv scalabl. pro can gracefulli accommod bandwidth heterogen and asymmetri among peer sinc pal is abl to manag deliveri of content from a group of parent with differ bandwidth. limit and challeng: the main hypothesi in our framework is that the best subset of parent for each receiv ar like to be part of it local imag i.e., pd mechan can find the best parent. whenev thi condit is not satisfi, either a receiv mai not be abl to maxim it overal bandwidth or result overlai mai not be effici. tabl 1: notat us throughout the paper symbol definit. pi peer i inbwi incom access link bw for pi outbwi outgo access link bw for pi min nopi min. no of parent for pi max nopi max. no of parent for pi nopi(t) no of activ parent for pi at time t img sz size of local imag at each peer sgm size of gossip messag delij estim delai between pi and pj clearli, properti of the select util function as well as accuraci of estim paramet (in particular us  outgo bandwidth instead of avail bandwidth) determin properti of the local imag at each peer which in turn  affect perform of the framework in some scenario. in these case, the util valu mai not effect guid the search process in identifi good parent which increas the averag converg time until each peer find a good subset of parent. similar to mani other adapt  mechan (e.g., [13]), the parent select mechan should  address the fundament tradeoff between respons and stabil. final, the congest control bandwidth from parent peer mai not provid a measur signal to  detect a share bottleneck when level of multiplex is high at the bottleneck link. howev, thi is not a major  limit sinc the neg impact of a share bottleneck in these case is minim. all the abov limit ar in part due to the simplic of our framework and would advers affect it perform. howev, we believ that thi is a reason design tradeoff sinc simplic is on of our kei design goal. in the follow section, we describ the two kei compon of our framework in further detail. 4. gossip-base peer discoveri peer discoveri at each receiv is basic a search among all particip peer in the overlai for a certain number (img sz) of peer with the highest rel util. pro adopt a gossip-like [10] approach to peer discoveri.  gossip (or rumor spread) ha been frequent us as a scalabl altern to flood that gradual spread  inform among a group of peer.howev, we us gossip as a search mechan [9] for find promis parent sinc it ha two appeal properti (i) the volum of exchang messag can be control, and (ii) the gossip-base  inform exchang can be custom to leverag rel util valu to improv search effici. the gossip mechan work as follow: each peer  maintain a local imag that contain up to img sz record where each record repres the follow inform for a  previous discov peer pi in the overlai: 1) ip address, 2) gnp coordin, 3) number of receiv layer, 4) timestamp when the record wa last gener by a peer, 5) outbwi and 6) inbwi. to bootstrap the discoveri process, a new  receiv need to learn about a hand of other particip peer in the overlai. thi inform can be obtain from the origin server (or a well-known rendezv point). the server should implement a strategi for select the initi peer that ar provid to each new receiv. we call thi the initi parent select mechan. onc the initi set of peer ar known, each peer pi period invok a target select mechan to determin a target peer (pj) from it local imag for gossip. given a util function, peer pi us a content select strategi to select sgm record (or smaller number when sgm record ar not avail) from it local imag that ar most us for pj and send those record to pj. in respons, pj follow the same step and repli with a gossip messag that includ sgm record from it local imag that ar most us for pi, i.e., bidirect  gossip. when a gossip messag arriv at each peer, an imag mainten scheme integr new record into the current local imag and discard excess record such that certain properti of the local imag is improv (e.g., increas  overal util of peer in the imag) aggreg perform of 45 a gossip mechan can be present by two averag  metric and their distribut among peer: (i) averag  converg time: averag number of gossip messag until all peer in an overlai reach their final imag, and (ii) averag effici ratio: averag ratio of uniqu record to the total number of receiv record by each peer. we have been explor the design space of four kei  compon of the gossip mechan. frequenc and size of gossip messag determin averag fresh of local imag. current, the server randomli select the initi parent from it local imag for each new peer. target select: target select randomli pick a peer from the current imag to evenli obtain inform from differ area of the overlai and speed up discoveri. content select: peer pk determin rel util of all the peer (pj) in it local imag for target peer pi, and then randomli select sgm peer to prepar a gossip messag for pi. howev, probabl of select a peer directli depend on it util. thi approach is bias toward peer with higher util but it random tend to reduc number of duplic record in differ gossip messag from on peer (i.e., improv effici). a potenti drawback of thi  approach is the increas in converg time. we plan to  examin more effici inform share scheme such as bloom filter [3] in our futur work. pro us joint-rank [15] to determin rel util of a parent for a receiv. given a collect of peer in a local imag of pk, the  jointrank scheme rank all the peer onc base on their  outgo bandwidth, and then base on their estim delai from a target peer pi. the util of peer pj (u(pj, pi)) is invers proport to the sum of pj"s rank in both rank. valu for each properti (i.e., bandwidth and  delai) of variou peer ar divid into multipl rang (i.e., bin) where all peer within each rang ar assum to have the same valu for that properti. thi bin scheme minim the sensit to minor differ in delai or bandwidth among differ peer. imag mainten: imag mainten mechan evict extra record (beyond img sz) that satisfi on of the  follow condit: (i) repres peer with the lower util, (ii) repres peer that were alreadi drop by the ps  mechan due to poor perform and (iii) have a timestamp older than a threshold. thi approach attempt to balanc imag qualiti (in term of overal util of exist peer) and it fresh. note that the gossip mechan can discov ani peer in the overlai as long as reachabl is provid through overlap among local imag at differ peer. the higher the amount of overlap, the higher the effici of discoveri, and the higher the robust of the overlai to dynam of peer particip. the amount of overlap among imag depend on both the size and shape of the local imag at each peer. the shape of the local imag is a function of the deploi util function. joint-rank util give the same weight to delai and bandwidth. delai tend to bia select toward near-by peer wherea outgo bandwidth introduc some degre of random in locat of select peer. therefor, the result local imag should exhibit a suffici degre of overlap. 5. parent select the ps mechan at each peer is essenti a  progress search within the local imag for a subset of parent peer such that the follow design goal ar achiev: (i) maxim deliv bandwidth 5 , (ii) minim the total delai from all parent to the receiv, and (iii)  maxim divers of path from parent (whenev it is feasibl). whenev these goal ar in conflict, a receiv optim the goal with the highest prioriti. current, our framework doe not directli consid divers of path from differ parent as a criteria for parent select. howev, the  indirect effect of share path among parent is address  becaus of it potenti impact on avail bandwidth from a parent when two or more parent ar behind the same bottleneck. the number of activ parent (nopi(t)) for each receiv should be within a configur rang [min nop, max nop]. each receiv tri to maxim it deliv bandwidth with the minimum number of parent. if thi goal can not be achiev after evalu of a certain number of new  parent, the receiv will gradual increas it number of  parent. thi flexibl is import in order to util  avail bandwidth from low bandwidth parent, i.e., cope with bandwidth heterogen. min nop determin minimum degre of resili to parent departur, and minimum level of path divers (whenev divers path ar avail). the number of children for each peer should not be limit.  instead, each peer onli limit maximum outgo bandwidth that it is abl (or will) to provid to it children. thi allow child peer to compet for congest control  bandwidth from a parent which motiv child peer with poor bandwidth connect to look for other parent (i.e.,  properli reshap the overlai). design of a ps mechan should address three main question as follow: 1) when should a new parent be select? there is a fundament tradeoff between respons of a receiv to chang in network condit (or converg time after a chang) and stabil of the overlai. pro adopt a conserv approach where each peer select a new  parent in a demand-driven fashion. thi should significantli reduc number of new parent select, which in turn  improv scalabl (by minim the interfer caus by new connect) and stabil of the overlai structur. a new parent is select in the follow scenario: (i) initi phase: when a new peer join the overlai, it period add a new parent until it ha min nop parent. (ii)  replac a poorli-perform parent: when avail  bandwidth from an exist parent is significantli reduc for a long time or a parent leav the session, the receiv can select anoth peer after a random delai. each receiv  select a random delai proport to it avail bandwidth from the parent peer [8]. thi approach dampen potenti oscil in the overlai while increas the chanc for  receiv with higher bandwidth connect to keep a parent (i.e., properli reshap the overlai). (iii) improv in perform: when it is like that a new parent would  significantli improv a non-optim aspect of perform (increas the bandwidth or decreas the delai). thi  strategi allow gradual improv of the parent subset as new peer ar discov (or join) the overlai. the avail inform for each peer in the imag is us as a heurist to predict perform of a new peer. such an improv should be examin infrequ. a hysteresi mechan 5 the target bandwidth is the lower valu between maximum stream bandwidth and receiv"s incom bandwidth. 46 is implement in scenario (ii) and (iii) to dampen ani  potenti oscil in the overlai. 2) which peer should be select as a new parent? at ani point of time, peer in the local imag ar the best known candid peer to serv as parent. in pro, each receiv randomli select a parent from it current imag where the probabl of select a parent is proport to it util. deploi thi select strategi by all peer lead to proport util of outgo bandwidth of all peer without make the select heavili bias toward high bandwidth peer. thi approach (similar to [5])  leverag heterogen among peer sinc number of children for each peer is proport to it outgo bandwidth. 3) how should a new parent be examin? each receiv continu monitor avail bandwidth from all parent and potenti correl between  bandwidth of two or more connect as signal for share  bottleneck. the degre of such correl also reveal the level of multiplex at the bottleneck link, and could serv as an indic for separ remot bottleneck from a local on. such a monitor should us averag bandwidth of each flow over a rel long time scale (e.g., hundr of rtt) to filter out ani transient variat in bandwidth. to avoid select a poorli-perform parent in the near futur, the receiv associ a timer to each parent and exponenti back off the timer after each fail  experi [13]. after the initi phase, each receiv maintain a fix number of parent at ani point of time (nopi(t)). thu, a new parent should replac on of the activ parent.  howev, to ensur monoton improv in overal  perform of activ parent, a new parent is alwai ad  befor on of the exist parent is drop (i.e., a receiv can temporarili have on extra parent). given the  avail bandwidth from all parent (includ the new on) and possibl correl among them, a receiv can us on of the follow criteria to drop a parent: (i) to maxim the bandwidth, the receiv can drop the parent that  contribut minimum bandwidth, (ii) to maxim path  divers among connect from parent, the receiv should drop the parent that is locat behind the same bottleneck with the largest number of activ parent and contribut minimum bandwidth among them. final, if the  aggreg bandwidth from all parent remain below the requir bandwidth after examin certain number of new parent (and nopi(t) < max nop), the receiv can increas the total number of parent by on. 6. conclus and futur work in thi paper, we present a simpl receiv-driven  framework for architect peer-to-pee overlai structur call pro. pro allow each peer to selfishli and independ determin the best wai to connect to the overlai to  maxim it perform. therefor, pro should be abl to maxim deliv qualiti to peer with heterogen and asymmetr bandwidth connect. both peer discoveri and peer select in thi framework ar scalabl.  furthermor, pro us congest control bandwidth as an implicit signal to detect share bottleneck among exist parent as well as chang in network or overlai condit to properli reshap the structur. we describ the basic framework and it kei compon, and sketch our  strawman solut. thi is a start point for our work on pro. we ar current evalu variou aspect of thi framework via simul, and explor the design space of kei  compon. we ar also prototyp thi framework to conduct real-world experi on the planet-lab in a near futur. 7. refer [1] a. akella, s. seshan, and a. shaikh. an empir evalu of wide-area internet bottleneck. in internet measur confer, 2003. [2] s. banerje, b. bhattacharje, and c. kommareddi. scalabl applic layer multicast. in acm sigcomm, 2002. [3] j. byer, j. considin, m. mitzenmach, and s. rost. inform content deliveri across adapt overlai network. in acm sigcomm, 2002. [4] m. castro, p. druschel, a.-m. kermarrec, a. r. a. nandi, and a. singh. splitstream: high-bandwidth content distribut in a cooper environ. in acm sosp, 2003. [5] y. chawath, s. ratnasami, l. breslau, n. lanham, and s. shenker. make gnutella-like p2p system scalabl. in acm sigcomm, 2003. [6] y. chu, s. g. rao, s. seshan, and h. zhang. enabl conferenc applic on the internet us an overlai multicast architectur. in acm sigcomm, 2001. [7] y. chu, s. g. rao, and h. zhang. a case for end-system multicast. in acm sigmetr, 2000. [8] s. floyd, v. jacobson, c. liu, s. mccann, and l. zhang. reliabl multicast framework for light-weight session and applic level frame. acm/ieee transact on network, 1997. [9] m. harchol-balter, f. t. leighton, and d. lewin. resourc discoveri in distribut network. in symposium on principl of distribut comput, page 229-237, 1999. [10] s. hedetniemi, s. hedetniemi, and a. liestman. a survei of gossip and broadcast in commun network. in network, 1988. [11] d. kostic, a. rodriguez, j. albrecht, and a. vahdat. bullet: high bandwidth data dissemin us an overlai mesh. in sosp, 2003. [12] k. lakshminarayanan and v. n. padmanabhan. some find on the network perform of broadband host. in internet measur confer, 2003. [13] s. mccann, v. jacobson, and m. vetter. receiv-driven layer multicast. in acm sigcomm, 1996. [14] t. s. e. ng, y. chu, s. g. rao, k. sripanidkulchai, and h. zhang. measur-base optim techniqu for bandwidth-demand peer-to-peer system. in ieee infocom, 2003. [15] t. s. e. ng and h. zhang. predict internet network distanc with coordin-base approach. in ieee infocom, 2002. [16] v. n. padmanabhan, h. j. wang, and p. a. chou. resili peer-to-peer stream. in ieee icnp, 2003. [17] r. rejai, m. handlei, and d. estrin. rap: an end-to-end rate-base congest control mechan for realtim stream in the internet. in ieee infocom, 1999. [18] r. rejai and a. ortega. pal: peer-to-peer adapt layer stream. in nossdav, 2003. [19] s. saroiu, p. k. gummadi, and s. d. gribbl. measur studi of peer-to-peer file system share. in spie mmcn, 2002. [20] d. a. tran, k. a. hua, and t. do. zigzag: an effici peer-to-peer scheme for media stream. in ieee infocom, 2003. 47 