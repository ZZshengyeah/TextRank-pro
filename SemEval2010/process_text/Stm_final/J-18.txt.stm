mediat in posit auction itai ashlagi, dov monder, and mosh tennenholtz faculti of industri engin and manag haifa, israel ashlagii@.tx.technion.ac.il, dov@ie.technion.ac.il, moshet@ie.technion.ac.il abstract a mediat is a reliabl entiti, which can plai on behalf of agent in a given game. a mediat howev can not enforc the us of it servic, and each agent is free to particip in the game directli. in thi paper we introduc a studi of mediat for game with incomplet inform, and  appli it to the context of posit auction, a central topic in electron commerc. vcg posit auction, which ar current not us in practic, possess some nice  theoret properti, such as the optim of social surplu and have domin strategi. these properti mai not be satisfi by current posit auction and their variant. we therefor concentr on the search for mediat that will allow to transform current posit auction into vcg posit auction. we requir that accept the  mediat servic, and report honestli to the mediat, will form an ex post equilibrium, which satisfi the follow ration condit: an agent"s payoff can not be neg regardless of the action taken by the agent who did not choos the mediat"s servic, or by the agent who report fals type to the mediat. we prove the exist of such desir mediat for the next-price (googl-like) posit auction, as well as for a richer class of posit auction, includ all k-price posit auction, k > 1. for k=1, the self-price posit auction, we show that the exist of such mediat depend on the tie break rule us in the auction. categori and subject descriptor j.4 [social and behavior scienc]: [econom]; i.2 [artifici intellig]: distribut artifici  intelligencemultiag system gener term econom, theori 1. introduct consid an interact in a multi-agent system, in which everi player hold some privat inform, which is call the player"s type. for exampl, in an auction interact the type of a player is it valuat, or, in more complex auction, it valuat function. everi player ha a set of action, and a strategi of a player is a function that map each of it possibl type to an action. thi interact is model as a game with incomplet inform. thi game is call a bayesian game, when a commonli known probabl measur on the profil of type is ad to the system. otherwis it is call a pre-bayesian game. in thi paper we deal onli with pre-bayesian game. the lead solut concept for pre-bayesian game is the ex post  equilibrium: a profil of strategi, on for each player, such that no player ha a profit deviat independ of the type of the other player. consid the follow simpl exampl of a pre-bayesian game, which possess an ex post equilibrium. the game is denot by h. a b a 5, 2 3, 0 b 0, 0 4, 2 a a b a 2, 2 0, 0 b 3, 3 5, 2 b at the game h there ar two player. both player can choos among two action: a and b. the column player, player 2, ha a privat type, a or b (player 1 ha onli on possibl type). a strategi of player 1 is g1,where g1 = a or g1 = b. a strategi of player 2 is a function g2 : {a, b} → {a, b}.that is, player 2 ha 4 strategi. in thi game the strategi profil (g1, g2) is an ex post equilibrium, where g1 = b and g2(a) = b, g2(b) = a. unfortun, pre-bayesian game do not, in gener,  possess ex post equilibria, even if we allow mix strategi. in order to address thi problem we suggest in thi paper the us of mediat. a mediat is a reliabl entiti that can interact with the player and perform on their behalf action in a given game. howev, a mediat can not enforc  behavior. inde, an agent is free to particip in the game without the help of the mediat. the mediat"s  behavior on behalf of the agent that give it the right of plai is pre-specifi, and is condit on inform the agent would provid to the mediat. thi notion is highli  natur; in mani system there is some form of reliabl parti or 279 administr that can be us as a mediat. the simplest form of a mediat discuss in the game theori literatur is captur by the notion of correl equilibrium [1]. thi notion wa gener to commun equilibrium by [5, 15]. anoth type of mediat is discuss in [13]. howev, in all these set the mediat can not perform action on behalf of the agent that allow it to do so. mediat that can obtain the right of plai but can not enforc the us of their servic have been alreadi defin and discuss for game with complet inform in [14].1 the topic of mediat for game with complet inform ha been further gener and analyz in [16]. in thi paper we introduc anoth us of mediat, in establish  behavior which ar stabl against unilater deviat in game with incomplet inform. notic that we assum that the multi-agent interact (formal as a game) is given, and all the mediat can do is to perform action on behalf of the agent that explicitli allow it to do so.2 in order to illustr the power of mediat for game with incomplet inform consid the follow pre-bayesian game g that doe not possess an ex post equilibrium. in g, the column player ha two possibl type: a and b. a b a 5, 2 3, 0 b 0, 0 2, 2 a a b a 2, 2 0, 0 b 3, 0 5, 2 b a mediat for g should specifi the action it will choos on behalf of the player that give it the right to plai. if player 2 want to give the mediat the right to plai it should also report a type. consid the follow mediat: if both player give the mediat the right of plai, then the mediat will plai on their behalf (a, a) if player 2 report a and (b, b) if player 2 report b. if onli player 1 give the mediat the right of plai then the mediat will choos a on hi behalf. if onli player 2 give the mediat the right of plai, the mediat will choos action a (resp. b) on it behalf, if b (resp. a) ha been report. the mediat gener a new pre-bayesian game,which is call the mediat game. in the mediat game player 1 ha three action: give the mediat the right of plai, denot by m, or plai directli a or b. player 2 ha four action: m − a, m − b,a,b, where m − a (m − b) mean report a (b) to the mediat and give it the right of plai. the mediat game is describ in the follow figur: m − a m − b a b m 5, 2 2, 2 5, 2 3, 0 a 3, 0 5, 2 5, 2 3, 0 b 2, 2 0, 0 0, 0 2, 2 a 1 for game with complet inform the main interest is in lead agent to behavior, which ar stabl against  deviat by coalit. a special case of mediat wa alreadi discuss in [8]. in thi paper the author discuss  mediat for a two-person game, which is known to the player but not to the mediat, and thei look for nash  equilibrium in the new game gener by the mediat. 2 thi natur set is differ from the on discuss in the classic theori of implement and mechan  design, where a design design a new game from scratch in order to yield some desir behavior. m − a m − b a b m 2, 2 5, 2 2, 2 0, 0 a 0, 0 2, 2 2, 2 0, 0 b 5, 2 3, 0 3, 0 5, 2 b it is now easi to verifi that give the mediat the right of plai, and report truthfulli, is an ex-post equilibrium at the mediat game. that is, (f1, f2) is an ex post  equilibrium, where f1 = m, and f2(a) = m−a, f2(b) = m−b. the aim of thi paper is twofold. we introduc mediat for game with incomplet inform, and appli them in the context of posit auction. our choic of posit  auction as the domain of applic is not an accid; inde, posit auction have becom a central issu in  advertis and the select of appropri posit auction for that task is a subject of consider amount of studi [17, 3, 9, 4].3 current posit auction howev do not possess ex-post equilibrium, i.e. solut which ar stabl against unilater deviat regardless of the agent" privat  inform, nor guarante optim social surplu. in contrast, in the vcg posit auction, which is current not us in practic, there is a truth-reveal ex post equilibrium, which yield optim surplu. we therefor suggest the us of mediat in order to attempt and implement the output of the vcg posit auction, by transform other (and in particular current) posit auction into a vcg posit auction.4 more specif, the mediat game will have an ex post equilibrium, which gener the outcom of the vcg posit auction. on such mediat ha alreadi been discuss for other purpos in the literatur: an english auction type of algorithm wa construct in [3] that take as an input the valuat of the player and output bid for the next-price posit auction. it wa prove there that  report the true type to thi algorithm by each player form an ex post equilibrium, which gener the vcg outcom. in our languag thi algorithm can be almost consid as a mediat for the next-price posit auction that implement the vcg outcom function. what is miss, is a  compon that punish player who send their bid directli to the auction, and a proof that us the mediat servic and report the true type by each player is an ex post equilibrium in the mediat game defin by the algorithm and by the addit compon. a mediat mai gener a desir outcom by punish the player who do not us it servic with veri high bid by the player that us it servic. we believ that such mediat ar not realist, and therefor we concentr on the search for valid  mediat that gener an ex post equilibrium and satisfi the addit ration condit: an agent"s payoff can not be neg regardless of the action taken by the agent who did not choos the mediat"s servic, or agent who report fals type to the mediat. we prove the exist of such desir mediat for the next-price (googl-like) posit auction5 , as well as for a richer class of posit auction, includ all k-price posit auction, k > 1. for k=1, the self-price posit auction, we show that the  ex3 see also [12], where posit auction ar titl ad auction. 4 in gener, except for the vcg posit auction we do not expect posit auction to possess an ex post equilibrium (see footnot 7). 5 our proof us an algorithm, which is differ from the algorithm in [3] discuss earlier. 280 istenc of such mediat depend on the tie break rule us in the auction. mediat in on-item auction (in particular first price and second price auction) have been alreadi discuss in [6, 11, 2]; howev thei all us a bayesian model.  posit auction ar a restrict type of gener pre-bayesian game. in thi confer version we make the formal  definit of mediat and implement by mediat for the special case of posit auction, and onli in the full version we present the gener theori of mediat for pre-bayesian game. most of the proof ar omit from thi confer version. 2. posit auction in a posit auction there is a seller who sell a finit number of posit j ∈ k = {1, ..., m}. there is a finit number of (potenti) bidder i ∈ n = {1, ..., n}. we assum that there ar more bidder than posit, i.e. n > m. the posit ar sold for a fix period of time. for each posit j there is a commonli-known number αj > 0, which is interpret as the expect number of visitor at that posit. αj is call the click-through rate of posit j. we assum that α1 > α2 > αm > 0. if i hold a posit then everi visitor to thi posit give i a revenu of vi > 0, where vi is call the valuat of i. the set of possibl valuat of i is vi = (0, ∞). we assum that the player" util function ar  quasilinear. that is, if player i is assign to posit j and pai pi per click then hi util is αj(vi − pi). everi player is requir to submit a bid, bi ∈ bi = [0, ∞). we assum that bid 0 is a symbol for non-particip. therefor, a player with a bid 0 is not assign to ani  posit, and it pai 0. in all posit auction we consid, the player with the highest posit bid receiv the first posit, the player with the second highest posit bid receiv the second  posit, and so on. it is us to defin for everi posit auction two dummi posit m + 1 and −1, which more than on player mai be assign to. all player, who  particip in the auction but do not get a posit in k ar assign to posit m + 1 and all player who choos not to particip ar assign to posit −1. we also defin αm+1 = α−1 = 0. an assign of player to posit is call an  alloc. henc, an alloc is a vector s = (s1, s2, · · · , sn) with si ∈ k ∪ {−1, m + 1} such that if si ∈ k then si = sl for everi l = i; si is the posit of player i. given the abov, a posit auction is defin by it tie break rule, which determin the alloc in case of ti, and by it payment scheme. these ar discuss below. 2.1 tie break rule in practic, the most commonli us tie break rule is the first-arriv rule: if a set of player submit the same bid, their prioriti in receiv the posit is determin by the time their bid were record; an earlier bid receiv a higher prioriti. in auction theori thi tie break rule is typic model by assum that the auction is us a random prioriti rule. more specif, let Γ be the set of all permut, γ = (γ1, ..., γn) of n. everi such γ defin a prioriti rule as follow: i ha a higher prioriti than k if and onli if γi < γk. everi vector of bid b and a permut γ uniqu determin an alloc. an auction who is us the random prioriti rule choos a fix prioriti rule γ by random uniformli over Γ. howev, the result prioriti rule is not told to the player befor thei make their bid. when the prioriti rule γ is told to the player befor thei make their bid, the tie break rule is call a fix prioriti rule. deal with a fix prioriti rule simplifi notat and proof, and in most case, and in particular in thi paper, result that ar obtain with thi tie break rule ar ident to the result obtain with the random prioriti rule. therefor we will assum thi tie break rule. in contrast, in section 7 we discuss a non-standard approach for analyz directli the first-arriv tie break rule. unless we sai specif otherwis we assum in thi  paper a fix prioriti rule. without loss of gener we assum that the fix  prioriti rule is defin by the natur order, ˜γ = (1, 2, ..., n). that is, bidder i ha a higher prioriti than bidder k if and onli if i < k. given thi fix prioriti rule we can make the follow definit, which appli to all posit auction: we denot by s(b, i) the posit player i is assign to when the bid profil is b. the alloc determin by b is denot by s(b) = (s(b, 1), s(b, 2), · · · , s(b, n)). for everi j ∈ k ∪ {−1, m + 1} we denot by δ(b, j) the set of player assign to posit j. note that for j ∈ k, δ(b, j) contain at most on player. 2.2 the payment scheme let α be a click-trough rate vector. each posit j ∈ k ∪ {−1, m + 1} is associ with a payment function, pα j : b → r+, where pα j (b) is the payment for posit j when the bid profil is b. natur we assum that pα −1 is ident zero. howev, we also assum that pα m+1 is ident zero. henc, a particip who is not assign a real posit pai noth. we call the vector of payment function pα = (pα j )j∈k the posit payment scheme. remark: whenev α is fix or it valu is clear from the context we will allow ourselv to omit the superscript α from the payment and other function. we deal with anonym posit payment scheme, i.e. the player" payment to the auction ar not influenc by their ident. thi is model as follow: let b ∈ b = b1 × b2 × · · · × bn be a bid profil. we denot by b(j) the jth highest bid in b. for j > n we let b(j) = 0. for exampl if b = (3, 7, 3, 0, 2) then b(1) = 7, b(2) = 3, b(3) = 3, b(4) = 2, b(5) = 0. we denot b∗ = (b(1), · · · , b(n)). anonym is model by the requir that for everi two bid profil b, d ∈ b, p(b) = p(d) whenev b∗ = d∗ . that is, for everi posit j there exist a real-valu function ˜pj defin over all order vector of bid such that for everi b ∈ b pj(b) = ˜pj(b∗ ). we further assum that a player never pai more than hi bid. that is pj(b) ≤ b(j) for everi b ∈ b and for everi j ∈ k. it is conveni in certain case to describ the payment function index by the player. let g be a posit  auction with a posit payment scheme p. for everi player i we denot qi(b) = ps(b,i)(b), 281 and q(b) = (q1(b), q2(b), · · · qn(b)). note that the correspond p → q is on-to-on. we call q the player payment scheme. all our assumpt about the posit payment scheme can be transform to analog assumpt about the player payment scheme. for  conveni, a posit auction will be describ either by it posit payment scheme or by it player payment scheme. the util function for player i, wi : vi × b → r+ is defin as follow: wi(vi, b) = αs(b,i)(vi − qi(b)) = αs(b,i)(vi − ps(b,i)(b)). 2.3 central posit auction we next describ the payment scheme of three central posit auction. self-price posit auction: each player who is assign to a posit with a posit click-through rate pai hi own bid. that is, for everi j ∈ k and everi b ∈ b pj(b) = b(j) (1) next-price posit auction: in thi auction (run with a slight variat by googl), everi player who is assign to a posit with a posit click-through rate pai the bid of the player assign to the posit right after him if there is such a player, and zero otherwis. that is for everi j ∈ k and for everi b ∈ b pj(b) = b(j+1) (2) vcg posit auction: in a vickrei-clark-grove (vcg) posit auction the payment function for posit j ∈ k is defin as follow.6 for everi b ∈ b pvcg j (b) = pm+1 k=j+1 b(k)(αk−1 − αk) αj (3) note that the vcg posit auction is not the next-price posit auction unless there is onli on posit and α1 = 1. 2.4 mediat for posit auction we denot by g = g(α, p) the posit auction with the click-through rate vector α and the payment scheme p. recal that the set of type of i is vi = (0, ∞). let v = v1 × v2 × · · · × vn be the set of profil of type, and for everi s ⊆ n let vs = ×i∈svi. a mediat for g is a vector of function m = (ms)s⊆n , where ms : vs → bs. the mediat m gener a  prebayesian game gm, which is call the mediat game. in thi game everi player i receiv hi type vi and can either send a type, ˆvi (not necessarili the true type) to the  mediat, or send a bid directli to the auction. if s is the set of player that send a type to the mediat, the mediat bid on their behalf ms(ˆvs). henc, the action set of player i in the mediat game is bi ∪vi, where conveni vi denot both, (0, ∞) , and a copi of (0, ∞), which is disjoint from 6 we us the standard payment function of the vcg  mechan. a gener vcg mechan mai be obtain from the standard on by ad an addit payment function to each player, which depend onli on the type of the other player. some author (see e.g., [7]) call the standard vcg mechan, the vc mechan. accord to thi  terminolog we actual deal with vc posit auction. howev, we decid to us the more common terminolog. bi. we introduc the follow terminolog: the t-strategi for a player in the mediat game is the strategi, in which thi player us the mediat"s servic and report hi true valu to the mediat. the t-strategi profil is the profil of strategi in which everi player is us the t-strategi. the t-strategi profil is an ex post equilibrium in the mediat game if for everi player i and type vi, and for everi vector of type of the other player, v−i, the follow two condit hold: e1: i is not better off when he give the mediat the right of plai and report a fals type. that is, for everi ˆvi ∈ vi wi(vi, mn (vi, v−i)) ≥ wi(vi, mn (ˆvi, v−i)). e2: i is not better off when he bid directli. that is for everi bi ∈ bi, wi(vi, mn (vi, v−i)) ≥ wi(vi, (bi, mn\i(v−i))). whenev the t-strategi profil is an ex post equilibrium in gm, the mediat m implement an outcom function in g. thi outcom function is denot by ϕm , and it is defin as follow: ϕm (v) = (s(mn (v)), q(mn (v)). henc, the rang of the function ϕm is the cartesian product of the set of alloc with rn +. 3. implement the vcg outcom function by mediat in gener, except for the vcg posit auction we do not expect posit auction to possess an ex post equilibrium.7 therefor, the behavior of the particip in most posit auction cannot be analyt predict, and in practic it can form a non-effici alloc: an alloc that doe not maxim social surplu. in contrast, in the vcg  posit auction the truth-report strategi is a domin strategi for everi player, and the result alloc is  effici. given a posit auction g our goal is to construct a mediat that would implement the outcom function of the vcg posit auction. thi outcom function is defin as follow: ϕvcg (v) = (s(v), qvcg (v)). definit: let g be a posit auction . let m be a mediat for g. we sai the m implement the vcg outcom function in g, or that it implement ϕvcg in g if the  tstrategi profil is an ex post equilibrium in gm, and ϕm = ϕvcg . we demonstr our definit so far by a simpl  exampl: exampl 1. consid a self-price auction g = g(α, p) with 2 player and on posit, with α1 = 1. that is, g is a standard two-person first-price auction. the  correspond vcg posit auction is a standard second-price  auction. we defin a famili of mediat mc , c ≥ 1, each of them implement the vcg posit auction. assum both 7 actual, it can be shown that if a strategi profil b in a posit auction is an ex post equilibrium then for everi player i bi is a domin strategi. it is commonli  conjectur that except for some extrem artifici combinatori auction , the vcg combinatori auction ar the onli on with domin strategi (see [10]). 282 player us the mediat"s servic and send him the type ˆv = (ˆv1, ˆv2), then all mediat act similarli and as follow: if ˆv1 ≥ ˆv2 the mediat make the follow bid on behalf of the player: b1 = ˆv2, and b2 = 0. if ˆv2 > ˆv1, the mediat make the bid b1 = 0, b2 = ˆv1. if onli on player us the mediat servic, sai player i, then mediat mc bid bi = cˆvi on behalf of i. we claim that for everi c > 1, the t-strategi profil is an ex post equilibrium in the mediat game gener by mc . inde, assum player 2 report hi type v2 to the mediat, and consid player 1. if v1 ≥ v2 then by us the t-strategi player 1 receiv the posit and pai v2. henc, 1"s util is v1 −v2. if player 1 deviat by us the mediat"s servic and report ˆv1 ≥ v2 hi util is still v1 − v2. if he report ˆv1 < v2 hi util will be 0. if player 1 doe not us the mediat, he should bid at least cv2 in order to get the posit, and therefor hi util cannot exce v1 − v2. if v1 < v2, then the t-strategi yield 0 to player 1, and ani other strategi yield a non-posit util. obvious each of the mediat mc implement the vcg outcom function. note howev, that the t-strategi is not a domin strategi when c > 1; e.g. if v1 > v2 and player 2 bid directli v2 (without us the mediat servic), then bid directli v1 is better for player 1 than us the  tstrategi: in the former case player 1"s util is 0 and in the latter case her util is neg. it is interest to note that thi simpl exampl can not be extend to gener self-price posit auction, as will be discuss in section 4. while each of the mediat mc in exampl 1 implement the vcg outcom function, the mediat with c = 1 ha a distinct characterist: a player who us the t-strategi cannot get a neg util. in contrast, for everi c > 1, if sai player 2 doe not us the mediat servic, particip directli and bid less than cv1, then the t-strategi yield a neg util of (1 − c)v1 to player 1. thi motiv our definit of valid mediat: let g be a posit auction. a mediat for g is valid, if for everi player, us the t-strategi guarante a  nonneg level of util. formal, a mediat m for g, is valid if for everi subset s ⊆ n and everi player i ∈ s wi(vi, ms(vs), b−s) ≥ 0 for everi b−s ∈ b−s and everi vs ∈ vs. 4. mediat in next-price posit auction we now show that there exist a valid mediat, which  implement the vcg outcom function in next-price posit auction. although in the follow section we prove a more gener result, we present thi result first, given the  import of next-price posit auction in the literatur and in practic. our proof make us of the follow technic lemma. lemma 1. let pvcg be the vcg payment scheme. 1. pvcg j (b) ≤ b(j+1) for everi j ∈ k. 2. pvcg j (b) ≥ pvcg j+1(b) for everi j = 1, ..., m − 1 and for everi b ∈ b, where for everi j, equal hold if and onli if b(j+1) = b(j+2) = · · · = b(m+1). the proof of lemma 1 is given in the full version. we can now show: theorem 2. let g be a next-price posit auction. there exist a valid mediat that implement ϕvcg in g. theorem 2 follow from a more gener theorem given in the next section. howev, we still provid a proof sinc a more simpl and intuit mediat is construct for thi case. proof of theorem 2. we defin a mediat m, which will implement the vcg outcom function in g: for everi v ∈ v let mn (v) = b(v), where b(v) is defin as follow: for everi player i such that 2 ≤ s(v, i) ≤ m let bi(v) = pvcg s(v,i)−1(v).8 for everi i ∈ δ(v, m + 1), bi(v) = pvcg m (v). let bδ(v,1)(v) = 1 + max{i:s(v,i)≥2}bi(v). for everi s ⊆ n such that s = n and for everi vs ∈ vs let ms(v) = vs. thi complet the descript of the mediat m. we show that ϕm (v) = ϕvcg (v) for everi v ∈ v . let v ∈ v be an arbitrari valuat vector. we have to show that s(b(v)) = s(v) and that q(b(v)) = qvcg (v): we begin by show that s(b(v)) = s(v). it is suffici to show that whenev 1 ≤ s(v, i) < s(v, l) ≤ m + 1 for some i = l, then s(b(v), i) < s(b(v), l). we first show it for s(v, i) = 1, that is δ(v, 1) = i. in thi case bδ(v,1)(v) > bj(v) for everi j = i, s(b(v), i) = 1. therefor s(b(v), i) < s(b(v), l). if s(v, i) > 1, we  distinguish between two case. 1. vi = vl. sinc s(v, i) < s(v, l), the fix prioriti rule impli that i < l. by the second part of lemma 1, pvcg s(v,i)−1(v) ≥ pvcg s(v,l)−1(v). therefor bi(v) ≥ bl(v), which yield s(b(v), i) < s(b(v), l). 2. vi > vl. let j + 1 = s(v, i). that is v(j+1) = vi, and therefor by the second part of lemma 1, pvcg s(v,i)−1(v) > pvcg s(v,i)(v). sinc s(v, i) ≤ s(v, l) − 1, by the second part of lemma 1, pvcg s(v,i)(v) ≥ pvcg s(v,l)−1(v).  therefor pvcg s(v,i)−1(v) > pvcg s(v,l)−1(v), which yield bi(v) > bl(v). therefor s(b(v), i) < s(b(v), l). thi complet the proof that s(b(v)) = s(v) for all v ∈ v . observ that for everi player i such that s(b(v), i) ∈ k ps(b(v),i)(b(v)) = pvcg s(v,i)(v). therefor qi(b(v)) = qvcg i (v) for everi i ∈ n. thi show that q(b(v)) = qvcg (v) for all v ∈ v . henc, ϕm = ϕvcg . we proce to prove that the t-strategi is an ex-post equilibrium. note that by the truth of vcg, it is not benefici for ani player i to miss report her valu to the mediat, given that all other player us the t-strategi. next we show that it is not benefici for a singl player i ∈ n to particip in the auction directli if all other player us the t-strategi. fix some v ∈ v . assum that player i is the onli player that particip directli in the auction. henc, v−i is the vector of bid submit by the mediat. let bi be player i"s bid. let k = s(v, i). therefor, sinc ϕm = ϕvcg , s(b(v), i) = k. let j be player i"s posit in the deviat. henc j = s((v−i, bi), i). if j /∈ k then player i"s 8 recal that s(b, i) denot the posit of player i under the bid profil b, and δ(b, j) denot the set of player assign to posit j. whenev j ∈ k, we slightli abus notat, and also refer to δ(b, j) as the player that is assign to posit j. 283 util is zero and therefor deviat is not worthwhil for i. suppos j ∈ k. then αk(vi − pk(b(v))) = αk(vi − pvcg k (v)) ≥ αj(vi − pvcg j (v−i, bi)) ≥ αj(vi − v(j+1)), where the first equal follow from ϕm = ϕvcg , the first inequ follow sinc vcg is truth, and the second  inequ follow from the first part of lemma 1. sinc pj is posit j"s payment function in the next-price posit auction, αj(vi − v(j+1)) = αj(vi − pj(v−i, bi)). therefor αk(vi − pk(b(v))) ≥ αj(vi − pj(v−i, bi)). henc, player i doe not gain from particip directli in the auction. final we show that m is valid. if all player choos the mediat then by the first part of lemma 1 each player which us the t-strategi will not pai more than hi valu. consid the situat in which a subset of player, s,  particip directli in the auction. sinc the mediat submit the report valu on behalf of the other player, these other player will not pai more than their report valu. henc a player which us the t-strategi will not pai more than hi valu. 2 5. mediat in gener  nextpric posit auction in the previou section we discuss the implement of the vcg outcom function in the next price posit  auction. in thi section we deal with a more gener famili of posit auction, in which the payment of each player who ha been assign a posit, is a function of the bid of player assign to lower posit than hi own. the payment scheme p of such a posit auction satisfi the follow condit: n1: for everi j ∈ k and everi b1 , b2 ∈ b such that b1 (l) = b2 (l) for everi l > j, we have that pj(b1 ) = pj(b2 ). we next provid suffici condit for implement the vcg outcom function by a valid mediat in posit  auction whose payment scheme satisfi n1. we need the follow notat and definit. for everi posit auction g and everi b ∈ b let ϕg (b) = (s(b), q(b)). we sai that g is a v cg cover if for everi v ∈ v there exist b ∈ b such that ϕg (b) = ϕvcg (v). we sai that g is monoton if pj(b) ≥ pj(b ) for everi j ∈ k and for everi b ≥ b , where b ≥ b if and onli if bi ≥ bi for everi i ∈ n. we ar now abl to show: theorem 3. let g = g(α, p) be a posit auction such that p satisfi n1. if the follow condit hold then there exist a valid mediat that implement ϕvcg in g: 1. g is a v cg cover 2. g is monoton. the proof of theorem 3 is given in the full version. we next provid the construct of the valid mediat, which will implement the vcg outcom function in a posit  auction g, which satisfi the condit of theorem 3: algorithm for build m for g: • for everi v ∈ v let mn (v) = b(v), where b(v) is some bid profil such that ϕg (b(v)) = ϕvcg (v) • for everi i and for everi v−i ∈ v−i, let vi = (v−i, m(v−i)), where m(v−i) = 1 + maxj=ivj. • for everi i ∈ n and everi v−i ∈ v−i, let mn\{i}(v−i) = b−i(vi ), where b(vi ) is some bid profil such that ϕg (b(vi )) = ϕvcg (vi ). • for everi s ⊆ n, such that 1 ≤ |s| ≤ n − 2, let ms(vs) = vs. remark: as we wrote, theorem 3 appli in particular to next-price posit auction discuss in section 4.  howev, thi theorem appli to mani other interest  posit auction as will be shown later. moreov, the mediat construct for thi gener case is differ from the on in the proof of theorem 2. we now show that condit n1 as well as the  requir that g is a v cg cover, and the requir that g is monoton ar all necessari for establish our result. it is easi to see that if g is not a v cg cover then theorem 3 doe not hold. the follow exampl show the necess of the monoton condit. exampl 4. let g = g(α, p) be the follow posit auction. let n = 4, m = 3, α = (100, 10, 1), p1(b) = b(2) − b(3) and p2(b) = b(3)+b(4) 2 , and p3(b) = b(4). notic that g is not monoton. observ that condit n1 is satisfi. in the full version we show that g is a v cg cover, and it is not possibl to implement the vcg outcom function in g with a valid mediat. the next exampl show that theorem 3 doe not hold, when condit n1 is not satisfi. exampl 5. let g = g(α, p) be the follow posit auction. let n = {1, 2, 3}, k = {1, 2} and α = (2, 1). let p1(b) = b(1) 4 and p2(b) = b(2). it is immedi to see that the monoton condit is satisfi. we next show that g is a v cg cover. let v ∈ v be an arbitrari valuat vector. we need to find a bid profil b(v) such that ϕg (b(v)) = ϕvcg (v). note that pvcg 1 (v) = v(2)+v(3) 2 and pvcg 2 (v) = v(3). we defin the bid profil b(v) as follow. let bδ(v,3)(v) = v(3) 2 , bδ(v,2)(v) = v(3) and bδ(v,1)(v) = 2v2 + 2v(3). by the construct of b(v), s(b(v), i) = s(v, i) for i = 1, 2, 3 . in addit observ that pj(b(v)) = pvcg j (v) for j = 1, 2, 3, 4. therefor ϕg (b(v)) = ϕvcg(v). sinc v is arbitrari, g is a v cg cover. natur n1 is not satisfi. suppos in negat that there exist a valid mediat m, which implement the vcg outcom function in g. consid the follow vector of valuat v = (12, 10, 8). if all player us the mediat then player 2 (with valuat 10) get posit 2, pai 8, and therefor her util is 1(10−8) = 2. player 2 can alwai bid more than the other player, and by that caus some other player to be posit second; sinc the mediat is requir to be valid it must be that the mediat submit not more than 12 on behalf of both player 1 and 3. but then player 2 can bid 13, and win the first posit; therefor, player 2"s util will be 2(10 − 13 4 ) > 8. thi contradict that m is a valid mediat that implement the vcg outcom function in g. to summar, we have shown suffici condit for transform a larg class of posit auction to the v cg 284 posit auction by mediat. moreov by drop ani of our condit we get that such transform might not be feasibl. in the next subsect we provid class of interest posit auction which can be transform to the vcg  posit auction by mediat. these auction satisfi the  condit of theorem 3. howev, in order to us theorem 3 on ha to check that a certain posit auction, g is a vcg cover. in the full version paper, befor we appli thi  theorem we present anoth us theorem that give suffici condit guarante that g is a vcg cover. 5.1 gener next-price posit auction in a gener next-price auction the payment scheme is of the follow form. for everi j ∈ k and for everi b ∈ b pj(b) = b(l(j)) where l(j) is an integ such that l(j) > j.9 . we show: proposit 1. let g be a gener next-price  posit auction. there exist a valid mediat that implement ϕvcg in g if and onli if the follow two condit hold: (i) l(j + 1) > l(j) for j = 1, ..., m − 1, and (ii) l(m) ≤ n. 5.2 k-next-price posit auction in k-next-price posit auction the payment scheme is defin as follow: for everi j ∈ k and for everi b pj(b) = b(j+k). k-next-price posit auction ar, in particular  gener next-price posit auction. therefor proposit 1 yield as a corollari: proposit 2. let k ≥ 1. let g be a k-next-price  posit auction. there exist a valid mediat that implement ϕvcg in g if and onli if n ≥ m + k − 1. 5.3 weight next-price posit auction in weight next-price posit auction the payment scheme ar of the follow form. for everi j ∈ k and for everi b ∈ b, pj(b) = b(j+1) cj , where cj ≥ 1. proposit 3. let g be a weight next-price posit auction with the weight c1, c2, ..., cm. there exist a valid mediat that implement ϕvcg in g if and onli if c1 ≥ · · · ≥ cm. 5.4 googl-like posit auction googl-like ad auction ar slightli differ from  nextpric auction. in these auction the click-trough rate of an ad i in posit j is the product of the qualiti of ad i, βi > 0, and the posit click-trough rate αj > 0.10 player ar rank in the posit by biβi. let b ∈ b. let ˜δ(b, j) be defin as follow. for everi j ∈ k, let ˜δ(b, j) be the player i that obtain posit j, and for j = m let ˜δ(b, j) = i, where i obtain posit m in case there is more than on player i such that bi = b(m), then i is chosen between them via the break rule ˜γ. if player i obtain posit j ∈ k then she pai pj(b) = β˜δ(b,j+1) b˜δ(b,j+1) βi . therefor player i"s util will be αjβi(vi − b˜δ(b,j+1) βi β˜δ(b,j+1)) = αj(viβi − b˜δ(b,j+1)β˜δ(b,j+1)). 9 recal that b(j) = 0 for everi j > n 10 see e.g. [17]. henc by denot ˜vi = viβi for everi i ∈ n, and by  appli theorem 2 we obtain: proposit 4. there exist a valid mediat which  implement the vcg outcom function in the googl-like  posit auction. 6. self-price posit auction let g be a self-price posit auction as describ at  section 2. at exampl 1 we show that when there is on posit and two player, the vcg outcom function is  implement by a valid mediat in thi auction. the proof in thi exampl can be easili gener to show that the vcg outcom function can be implement by a valid  mediat in a self-price posit auction, in which there is on posit and an arbitrari number of player, n ≥ 2. next we show that it is imposs to implement the vcg outcom function, even by a non-valid mediat, in a  selfpric posit auction which ha more than on posit (m > 1). theorem 6. let g be a self-price posit auction with more than on posit. there is no mediat that  implement the vcg outcom function in g. proof. let v ∈ v be the follow valuat profil. vn = 10 and v1 = v2 = · · · = vn−1 = 5. the vcg outcom function assign to thi v an alloc, in which player n receiv posit 1 and player 1 receiv posit 2. the payment of player n and 1 ar both equal to 5. in order to implement such an outcom, a mediat must bid 5 on behalf of player n (so that thi player pai 5), and it must bid less than 5 on behalf of ani other player, becaus otherwis anoth player receiv posit 1. note that the bid of ani other player cannot equal 5 becaus everi other player ha an higher prioriti than n. in particular, even if player 1 get inde posit 2 he will pai less than 5. henc, no mediat can implement the vcg outcom function in g.2 the proof of theorem 6 heavili us the fix prioriti rule assumpt. howev, as we have alreadi said, all our result includ thi theorem hold also for the tie break rule defin by the random prioriti rule. the proof of the imposs theorem for the random prioriti rule us the fact that the particular bad prioriti rule us in the proof of theorem 6, ha a posit probabl. as we previous discuss, the fix and random  prioriti rule ar just conveni wai to model the first-arriv rule, which is common in practic. when on attempt to directli model posit auction that us the first-arriv rule without these model choic he tackl a lot of  model problem. in particular, it is not clear how to model a posit auction with the first-arriv rule as a game with  incomplet inform. to do thi, on ha to allow a player not onli to submit a bid but also to decid about the time of the bid. thi rais a lot of addit model  problem, such as determin the relationship between the time a player decid to submit a bid and the time in which thi bid is actual record. henc, effici model as a game mai be untract. nevertheless, in the next section we will analyz mediat in posit auction, which us the first-arriv rule. we will defin ex post equilibrium and the notion of implement by mediat without explicitli model well-defin game. we will show that in thi case 285 there is a wai to implement the vcg outcom function in a self-price posit auction. moreov, we will find a valid mediat that doe the job. 7. posit auction with the first arriv rule let g be a posit auction with the first-arriv rule. everi mediat for g ha the abil to determin the order in which the bid he submit on behalf of the player ar record; he can just submit the bid sequenti, wait for a confirm befor submit the next bid. we need the follow notat. everi order of bid can be describ by some γ ∈ Γ; i bid befor k if and onli if γi < γk. henc, an order of bid can serv as a prioriti rule. for everi order of bid γ and a vector of bid b we defin s(b, γ, i) as the posit assign to i. we denot the payment of i when the vector of bid is b and the order of bid is γ by qi(b, γ) = ps(b,γ,i)(b), and we denot wi(vi, b, γ) the util of i. a mediat for g should determin the bid of the player who us it servic and also the order of bid as a function of the report type. howev, all mediat discuss in thi paper will us the same rule to determin the order of bid: if all player report the vector of type ˆv, the  mediat us the order of bid γˆv , which is defin as follow: γˆv i < γˆv k if and onli if ˆvi > ˆvk, or ˆvi = ˆvk and i < k. for exampl, if n = 3 and the report type ar ˆv = (6, 7, 6), then γˆv = (2, 1, 3). if onli a strict subset of the player us the mediat"s servic, the mediat appli the same order of bid rule to thi subset. a mediat for a posit auction with the first arriv rule is therefor defin by a vector m = (ms)s⊆n . howev, such a mediat is call a direct mediat in order to stress the fact that it  determin not onli the bid but also the order of bid. to summar: if all player us the direct mediat m, and the report bid ar ˆv, then the direct mediat bid mn (ˆv)i on behalf of i, i receiv the posit s(ˆv, γˆv , i), and pai qi(mn (ˆv), γˆv ). if onli the subset s us the  mediat"s servic, the report type ar ˆvs, and the other player bid directli b−s then the actual order of bid is not uniqu determin. if thi order is γ then the posit of i ∈ n is s(b, γ, i), and it payment is qi(b, γ), where b = (ms(ˆvs), b−s). in particular, if everi player is us the t-strategi and the player" profil of type is v, then the outcom gener by the direct mediat is ψm (v) = (s(v, γv ), q(mn (v), γv ). but why should the player us the t strategi? assum all player but i us the t strategi. if player i deviat from the t strategi by report a fals type to the direct mediat, the result outcom is well-defin. on the other hand, when thi player send a bid directli to the auction, the result outcom is not clear, becaus the order of bid is not clear.11 a good desir direct mediat would be on that no player would want to deviat from the t strategi  independ of the order in which the bid ar record becaus of hi deviat. more specif: definit: let g be a posit auction with the  firstarriv rule, and let m be a direct mediat for g. the 11 it is clear howev, that the result order γ is consist with the well-defin order of bid of n \ i. t-strategi profil is an ex post equilibrium with respect to m if for everi player i and type vi, and for everi vector of type of the other player, v−i, the follow two condit hold: f1: i is not better off when he give the direct mediat the right of plai and report a fals type. that is, for everi ˆvi ∈ vi wi(vi, mn (vi, v−i), γ(vi,v−i) ) ≥ wi(vi, mn (ˆvi, v−i), γ(ˆvi,v−i) ). f2: i is not better off when he bid directli independ of the result order of record bid. that is for everi bi ∈ bi, and for everi γ ∈ Γ, which is consist with the order of bid of member of n \ i result from the vector of type v−i, wi(vi, mn (vi, v−i), γ(vi,v−i) ) ≥ wi(vi, (bi, mn\i(v−i)), γ). the notion of valid direct mediat is analog  defin: definit: let g be a posit auction with the  firstarriv rule. a direct mediat for g is valid, if for everi player, us the t-strategi guarante a non-neg level of util. formal, a direct mediat m for g is valid, if for everi player i with type vi, for everi subset s ⊆ n such that i ∈ s, for everi vs\i, and for everi b−s, wi(vi, ms(vs), b−s, γ) ≥ 0 for everi γ ∈ Γ, which is consist with the standard order of bid of s determin by the mediat when the report type ar vs. the notion of implement by mediat remain as befor: the direct mediat m implement the vcg  outcom function in g if ψm = ϕvcg . our previou result remain true for direct mediat for posit auction with the first arriv rule. next we show that in contrast to theorem 6, it is possibl to implement the vcg outcom function in everi self-price posit auction with the first-arriv rule. theorem 7. let g = g(α, p) be the self-price posit auction with the first arriv rule. there exist a valid  direct mediat that implement the vcg outcom function in g. in the follow theorem we provid suffici condit for implement that the vcg outcom function in a  posit auction with the first-arriv rule. a special  characterist of auction satisfi these suffici condit is that player" payment mai depend also on their own bid, in contrast to the auction discuss in theorem 3. the long proof of thi theorem is in the spirit of all previou proof, and therefor it is omit. theorem 8. let g = g(α, p) be a posit auction with the first-arriv rule. if the follow condit hold then there exist a valid direct mediat for g that implement the vcg outcom function in g. 1. for everi v ∈ v there exist b ∈ b such that pj(b) = v(j) for everi j ∈ k. 2. g is monoton. 3. pj(b) ≥ pj+1(b) for everi j ∈ k and everi b ∈ b. 4. for everi j ∈ k and everi b1 , b2 ∈ b such that b1 (l) = b2 (l) for everi l ≥ j, pj(b1 ) = pj(b2 ). 286 8. refer [1] r.j. aumann. subject and correl in random strategi. journal of mathemat econom, 1:67-96, 1974. [2] n.a.r. bhat, k. leyton-brown, y. shoham, and m. tennenholtz. bid ring revisit. work paper, 2005. [3] b. edelman, m. ostrovski, and m. schwarz. internet advertis and the gener second price auction: sell billion of dollar worth of keyword. nber work paper 11765, novenmb 2005. [4] j. feng, h.k. bhargava, and d.m. pennock. implement sponsor search in web search engin: comput evalu of altern mechan. inform journal on comput, 2006. [5] f. m. forg. an approach to commun equilibria. econometrica, 54(6):1375-85, 1986. [6] d. graham and r. marshal. collus bidder behavior at singl-object second-price and english auction. journal of polit economi, 95:1217-1239, 1987. [7] r. holzman, n. kfir-dahav, d. monder, and m. tennenholtz. bundl equilibrium in combinatori auction. game and econom behavior, 47:104-123, 2004. [8] e. kalai and r.w. rosenth. arbitr of two-parti disput under ignor. intern journal of game theori, 7:65-72, 1976. [9] s. lahai. an analysi of altern slot auction design for sponsor search. in proceed of the 7th acm confer on electron commerc, page 218-227, 2006. [10] r. lavi, a. mu"alem, and n. nisan. toward a character of truth combinatori auction. in proceed of the 44th annual ieee symposium on foundat of comput scienc (foc)., 2003. [11] r. mcafe and j. mcmillan. bid ring. american econom review, 82:579-599, 1992. [12] a. mehta, a. saberi, , v. vazirani, and u. vazirani. adword and gener onlin match. in twentieth intern joint confer on artifici intellig (foc 05) , 2005. [13] d. monder and m. tennenholtz. k-implement. journal of artifici intellig research (jair), 21:37-62, 2004. [14] d. monder and m. tennenholtz. strong mediat equilibrium. in proceed of the aaai, 2006. [15] r. b. myerson. multistag game with commun. econometrica, 54(2):323-58, 1986. [16] o. rozenfeld and m. tennenholtz. rout mediat. in proceed of the 23rd intern joint confer on artifici intellig(ijcai-07), page 1488-1493, 2007. [17] h. varian. posit auction. technic report, uc berkelei, 2006. 287 