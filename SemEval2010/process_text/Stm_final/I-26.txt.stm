sequenti decis make in parallel two-side econom search david sarn school of engin and appli scienc harvard univers cambridg ma 02138 usa teijo arponen institut of mathemat helsinki univers of technolog sf-02015 tkk, finland abstract thi paper present a two-side econom search model in which agent ar search for benefici pairwis partnership. in each search stage, each of the agent is randomli match with sever other agent in parallel, and make a decis whether to accept a potenti partnership with on of them. the distinguish featur of the propos model is that the agent ar not restrict to  maintain a synchron (instantan) decis protocol and can sequenti accept and reject partnership within the same search stage. we analyz the dynam which drive the agent" strategi toward a stabl equilibrium in the new model and show that the propos search strategi weakli domin the on current in us for the two-side parallel econom search model. by identifi sever uniqu characterist of the equilibrium we manag to  effici bound the strategi space that need to be explor by the agent and propos an effici mean for extract the distribut equilibrium strategi in common environ. categori and subject descriptor i.2.11 [artifici intellig]: distribut artifici  intelligenceintellig agent gener term algorithm, econom 1. introduct a two-side econom search is a distribut mechan for form agent" pairwis partnership [5].1 on everi stage of the process, each of the agent is randomli match with anoth agent 1 notic that the concept of search here is veri differ from the classic definit of search in ai. while ai search is an activ process in which an agent find a sequenc of action that will bring it from the initi state to a goal state, econom search refer to the identif of the best agent to commit to a partnership with. and the two interact bilater in order to learn the benefit  encapsul in a partnership between them. the interact doe not involv bargain thu each agent mere need to choos  between accept or reject the partnership with the other agent. a typic market where thi kind of two-side search take place is the marriag market [22]. recent literatur suggest variou softwar agent-base applic where a two-side distribut (i.e., with no central match mechan) search take place. an import class of such applic includ secondari  market for exchang unexploit resourc. an exchang  mechan is us in those case where sell these resourc is not the core busi of the organ or when the overhead for  sell them make it non-benefici. for exampl, through a  twosid search, agent, repres differ servic provid, can exchang unus bandwidth [21] and commun satellit can transfer commun with a greater geograph coverag.  twosid agent-base search can also be found in applic of  buyer and seller in emarket and peer-to-peer applic. the  twosid natur of the search suggest that a partnership between a pair of agent is form onli if it is mutual accept. by form a partnership the agent gain an immedi util and termin their search. when resum the search, on the other hand, a more  suitabl partner might be found howev some resourc will need to be consum for maintain the search process. in thi paper we focu on a specif class of two-side search match problem, in which the perform of the partnership appli to both parti, i.e., both gain an equal util [13]. the equal util scenario is usual applic in domain where the partner gain from the synergi between them. for exampl,  consid tenni player that seek partner when plai doubl (or a cano"s paddler look for a partner to practic with). here the player ar be reward complet base on the team"s (rather than the individu) perform. other exampl ar the scenario where student need to form pair for work togeth on an assign, for which both partner share the same grade, and the scenario where two buyer agent interest in similar or  interchang product join forc to bui a product togeth, take advantag of discount for quantiti (i.e. each of them enjoi the same reduc price). in all these applic, ani two agent can form a partnership and the perform of ani given partnership depend on the skill or the characterist of it member.  furthermor, the equal util scenario can also hold whenev there is an option for side-payment and the partnership"s overal util is equal split among the two agent form it [22]. while the two-side search literatur offer comprehens  equilibrium analysi for variou model, it assum that the agent" search is conduct in a pure sequenti manner: each agent  locat and interact with on other agent in it environ at a time 450 978-81-904262-7-5 (rp) c 2007 ifaama [5, 22]. nevertheless, when the search is assign to autonom softwar agent a better search strategi can be us. here an agent can take advantag of it uniqu inher filter and inform process capabl and it abil to effici (in  comparison to peopl) maintain concurr interact with sever other agent at each stage of it search. such us of parallel interact in search is favor whenev the averag cost2 per interact with anoth agent, when interact in parallel with a batch of other agent, is smaller than the cost of maintain on  interact at a time (i.e., advantag to size). for exampl, the analysi of the cost associ with evalu potenti partnership between servic provid reveal both fix and variabl compon when us the parallel search, thu the averag cost per interact  decreas as the number of parallel interact increas [21]. despit the advantag identifi for parallel interact in  adjac domain (e.g., in on-side econom search [7, 16]), a first  attempt for model a repeat pairwis match process in which agent ar capabl of maintain interact with sever other agent at a time wa introduc onli recent [21]. howev, the agent in that semin model ar requir to synchron their  decis make process. thu each agent, upon review the  opportun avail in a specif search stage, ha to notifi all other agent of it decis whether to commit to a partnership (at most with on of them) or reject the partnership (with the rest of them). thi inher restrict impos a signific limit on the agent" strateg behavior. in our model, the agent ar free to notifi the other agent of their decis in an asynchron manner. the asynchron  approach allow the agent to re-evalu their strategi, base on each new respons thei receiv from the agent thei interact with. thi lead to a sequenti decis make process by which each agent, upon send a commit messag to on of the other agent, delai it decis concern a commit or reject of all other  potenti partnership until receiv a respons from that agent (i.e., the agent still maintain parallel interact in each search stage, except that it decis make process at the end of the stage is  sequenti rather than instantan). the new model is a much more realist pairwis model and, as we show in the analysi section, is alwai prefer by ani singl agent particip in the process. in the absenc of other econom two-side parallel search  model, we us the model that reli on an instantan (synchron) decis make process [21] (denot i-dm throughout the rest of the paper) as a benchmark for evalu the us of our propos sequenti (asynchron) decis make strategi  (denot s-dm). the main contribut of thi paper ar threefold: first, we  formal model and analyz a two-side search process in which the agent have no tempor decis make constraint concern the reject of or commit to potenti partnership thei  encount in parallel (the s-dm model). thi model is a gener search model which can be appli in variou (not necessarili  softwar agent-base) domain. second, we prove that the agent"  sdm strategi weakli domin the i-dm strategi, thu everi agent ha an incent to deviat to the s-dm strategi when all other agent ar us the i-dm strategi. final, by us an  innov recurs present of the accept probabl of  differ potenti partnership, we identifi uniqu characterist of the equilibrium strategi in the new model. these ar us for  suppli an appropri comput mean that facilit the  calcul of the agent" equilibrium strategi. thi latter contribut is 2 the term cost refer to resourc the agent need to consum for  maintain it search, such as: self advertis, locat other agent,  commun with them and process their offer. of special import sinc the transit to the asynchron mode add inher complex to the model (mainli becaus now each agent need to evalu the probabl of have each other agent be reject or accept by each of the other agent it interact with, in a multi-stage sequenti process). we manag to extract the agent" new equilibrium strategi without increas the  comput complex in comparison to the i-dm model. throughout the paper we demonstr the differ properti of the new model and compar it with the i-dm model us an artifici synthet environ. in the follow section we formal present the s-dm model. an equilibrium analysi and comput mean for find the equilibrium strategi ar provid in section 3. in section 4 we  review relat ma and econom search theori literatur. we  conclud with a discuss and suggest direct for futur research in section 5. 2. model and analysi we consid an environ popul with an infinit  number of self-interest fulli ration agent of differ type3 . ani agent ai can form a partnership with ani other agent aj in the  environ, associ with an immedi perceiv util u(ai, aj) for both agent. as in mani other partnership format model (see [5, 21]) we assum that the valu of u(x, y) (where x and y ar ani two agent in the environ) is randomli drawn from a continu popul character with a probabl  distribut function (p.d.f.) f(u) and a cumul distribut function (c.d.f.) f(u), (0 ≤ u < ∞). the agent ar assum to be  acquaint with the util distribut function f(x), howev thei cannot tell a-priori what util can be gain by a partnership with ani specif agent in their environ. therefor, the onli wai by which an agent ai can learn the valu of a partnership with anoth agent aj, u(ai, aj), is by interact with agent aj. sinc each agent in two-side search model ha no prior inform  concern ani of the other agent in it environ, it initi  interact (i.e., search) with other agent randomli. the natur of the two-side search applic suggest that the agent ar satisfi with have a singl partner, thu onc a partnership is form the two agent form it termin their search process and leav the environ. the agent ar not limit to interact with a singl potenti partner agent at a time, but rather can select to interact with sever other agent in parallel. we defin a search round/stage as the  interv in which the agent interact with sever agent in parallel and learn the util of form a partnership with each of them. base on the learn valu, the agent need to decid whether to commit or reject each of the potenti partnership avail to it.  commit is achiev by send a commit messag to the  appropri agent and an agent cannot commit to more than on potenti partnership simultan. declin a partnership is achiev by send a reject messag. the commun between the agent is assum to be asynchron and each agent can delai it  decis, concern ani given potenti partnership, as necessari.4 if two agent ai and aj mutual commit to a partnership between 3 the infinit number of agent assumpt is common in two-side search model (see [5, 22, 21]). in mani domain (e.g., ecommerc) thi deriv from the high entranc and leav rate, thu the probabl of run into the same agent in a random match is neglig. 4 notic that the asynchron procedur doe not elimin the inher structur of the search. the search is still base on stage/round where on each search round the agent interact with sever other agent, except that now the agent can delai it decis make process (within each search round) as necessari. the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 451 them, then the partnership is form and both agent gain the  immedi util u(ai, aj) associ with it. if an agent doe not form a partnership in a given search stage, it continu to it next search stage and interact with more agent in a similar manner. given the option for asynchron decis make, each  individu agent, ai, follow the follow procedur: 1: loop 2: set n (number of parallel interact for next search round) 3: locat randomli a set a = {a1, . . . , an } of agent to  interact with 4: evalu the set of util {u(ai, a1), . . . , u(ai, an )} 5: set a∗ ={aj|aj ∈a and u(ai, aj)>u(resum)} 6: send a reject messag to each agent in the set {a \ a∗ } 7: while (a∗ = ∅) do 8: send a commit messag to aj = argmax∈a∗ u(ai, al) 9: remov aj from a∗ 10: wait for aj"s decis 11: if (aj respond commit) then 12: send reject messag to the remain agent in a∗ 13: termin search 14: end if 15: end while 16: end loop where u(resum) denot the expect util of continu the search (in the follow paragraph we show that u(resum) is fix throughout the search and deriv from the agent"s strategi). in the abov algorithm, ani agent ai first identifi the set a∗ of other agent it is will to accept out of those review in the  current search stage and send a reject messag to the rest. then it send a commit messag to the agent aj ∈ a∗ that is associ with the partnership yield the highest util. if a reject messag wa receiv from agent aj then thi agent is remov from a∗ and a new commit messag is sent accord to the same criteria. the process continu until either: (a) the set a∗ becom empti, in which case the agent initi anoth search stage; or (b) a dual commit is obtain, in which case the agent send reject  messag to the remain agent in a∗ . the method differ from the on us in the i-dm model in the wai it handl the commit messag: in the i-dm model, after evalu the set of util (step 4), the agent mere send instantan a commit messag to the agent associ with the greatest util and a reject messag to all the other agent it interact with (as a replac to step 5-15 in the abov procedur). our propos s-dm model is much more intuit as it allow an agent to hold and possibl exploit rel benefici opportun even if it first prioriti  partnership is reject by the other agent. in the i-dm model, on the other hand, sinc reject messag ar sent alongsid the commit messag, simultan, a reject messag from the agent associ with the best partnership enforc a new search round. notic that the two-side search mechan abov align with most other two-side search mechan in a sens that it is base on random match (i.e., in each search round the agent  encount a random sampl of agent). while the mainten of the  random match infrastructur is an interest research question, it is beyond the scope of thi paper. notwithstand, we do wish to emphas that given the larg number of agent in the  environ and the fact that in ma the turnov rate is quit substanti due to the open natur of the environ (and the  interoper between environ). therefor, the probabl of end up interact with the same agent more than onc, when initi a random interact, is practic neglig. theorem 1. the s-dm agent"s decis make process: (a) is the optim on (maxim the util) for ani individu agent in the environ; and (b) guarante a zero deadlock probabl for ani given agent in the environ. proof: (a) the method is optim sinc it cannot be chang in a wai that produc a better util for the agent. sinc bargain is not  applic here (benefit ar non-divis) then the agent"s strategi is limit to accept or reject offer. the decis of reject a partnership in step 6 is base onli on the immedi util that can be gain from thi partnership in comparison to the expect  util of resum the search (i.e., move on to the next search stage) and is not affect by the willing of the other agent to commit or reject a partnership with ai. as for partnership that yield a  util greater than the expect util of resum the search (i.e., the partnership with agent from the set a∗ ), the agent alwai prefer to delai it decis concern partnership of thi type until  receiv all notif concern potenti partnership that ar associ with a greater immedi util. the delai never result with a loss of opportun sinc the other agent"s decis  concern thi opportun is not affect by agent ai"s willing to commit or reject thi opportun (but rather by the other agent"s estim of it expect util if resum the search and the  reject messag it receiv for more benefici potenti  partnership). final, the agent cannot benefit from delai a commit messag to the agent associ with the highest util in a∗ , thu will alwai send it a commit messag. (b) we first prove the follow lemma that state that the  probabl of have two partner opportun associ with an ident util is zero. lemma 2.1. when f is a continu distribut function, then lim y→x »z y z=x f(z)dz -2 ! = 0. proof: sinc f is continu and the interv between x and y is finit, by the intermedi valu theorem (found in most calculu text) there exist a c between x and y thatz y z=x f(z)dz = f(c)(y − x) (intuit, a rectangl with the base from z = x to z = y and height = f(c) ha the same area as the integr on the left hand side.). therefor »z y z=x f(z)dz -2 = |f(c)|2 |y − x|2 when y → x, f(c) stai bound due to continu of f, moreov limi→x f(c) = f(x), henc lim y→x »z y z=x f(z)dz -2 ! = f(x)2 lim y→x |y − x|2 = 0. . an immedi deriv from the abov lemma is that no  tiebreak procedur ar requir and an agent in a wait state is alwai wait for a repli from the singl agent that is associ with the highest util among the agent in the set a∗ (i.e., no other agent in the set a∗ is associ with an equal util). a deadlock can be form onli if we can creat a cyclic sequenc of agent in which ani agent is wait for a repli from the subsequ agent in the sequenc. howev, in our method ani agent ai will be  wait for a repli from anoth agent aj, to which it sent a commit messag, onli if: (1) ani agent ak ∈ a, associ with a  util u(ai, ak) > u(ai, aj), ha alreadi reject the partnership with agent ai; and (2) agent aj itself is wait for a repli from agent al where u(al, aj) > u(aj, ai). therefor, if we have a sequenc of wait agent then the util associ with  partnership between ani two subsequ agent in the sequenc must  increas along the sequenc. if the sequenc is cyclic, then we have a 452 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) pattern of the form: u(ai, al) > u(al, aj) > u(aj, ai). sinc u(ai, al) > u(aj, ai), agent ai can be wait for agent aj onli if it ha alreadi been reject by al (see (1) abov). howev, if agent al ha reject agent ai then it ha also reject agent aj. therefor, agent aj cannot be wait for agent al to make a decis. the same logic can be appli to ani longer sequenc. 2 the search activ is assum to be costli [11, 1, 16] in a wai that ani agent need to consum some of it resourc in order to locat other agent to interact with, and for maintain the  interact themselv. we assum util and cost ar addit and that the agent ar try to maxim their overal util, defin as the util from the partnership form minu the aggreg search cost along the search process. the agent"s cost of interact with n other agent (in parallel) is given by the function c(n). the search cost structur is princip a paramet of the environ and thu share by all agent. an agent"s strategi s(a ) → {commit aj ∈ a , reject a ⊂ a , n} defin for ani given set of partnership opportun, a , what is the subset of opportun that should be immedi  declin, to which agent to send a commit messag (if no pend notif from anoth agent is expect) or the number of new interact to initi (n). sinc the search process is two-side, our goal is to find an equilibrium set of strategi for the agent. 2.1 strategi structur recal that each agent declin partnership base on (a) the  partnership" immedi util in comparison to the agent"s expect util from resum search; and (b) achiev a mutual  commit (thu declin pend partnership that were not reject in (a)). therefor an agent"s strategi can be repres by a pair (nt , xt ) where nt is the number of agent with whom it choos to interact in search stage t and xt is it reserv valu5 (a  threshold) for accept/reject the result n potenti partnership. the subset a∗ , thu, will includ all partnership opportun of search stage t that ar associ with a util equal to or greater than xt . the reserv valu xt is actual the expect util for resum the search at time t (i.e., u(resum)). the agent will  alwai prefer commit to an opportun greater than the expect util of resum the search and will alwai prefer to resum the search otherwis. sinc the agent ar not limit by a decis horizon, and their search process doe not impli ani new inform about the  market structur (e.g., about the util distribut of futur partnership opportun), their strategi is stationari - an agent will not accept an opportun it ha reject beforehand (i.e., x1 = x2 = ... = x) and will us the same sampl size, n1 = n2 = ... = n, along it search. 2.2 calcul accept probabl the transit from instantan decis make process to a sequenti on introduc sever new difficulti in extract the agent" strategi. now, in order to estim the probabl of  be accept by ani of the other agent, the agent need to  recurs model, while set it strategi, the probabl of  reject other agent might face from other agent thei interact with. in the follow paragraph we introduc sever complementari definit and notat, facilit the formal introduct of the accept probabl. consid an agent ai, us a strategi (n, xn ) while oper in an environ where all other agent 5 notic the reserv valu us here is differ from a reserv price concept (that is usual us as buyer" privat evalu). the us of reserv-valu base strategi is common in econom search model [21, 17]. ar us a strategi (k, xk). the probabl that agent ai will receiv a commit messag from agent aj it interact with depend on the util associ with the potenti partnership  between them, x. thi probabl, denot by gk(x) can be  calcul as:6 gk(x) = 8 >< >: „ 1 − z ∞ y=x f(y)gk(y)dy «k−1 if x ≥ xk 0 otherwis. (1) the case where x < xk abov is trivial: none of the other agent will accept agent ai if the util in such a partnership is smaller than their reserv valu xk. howev even when the  partnership"s util is greater or equal to xk, commit is not  guarante. in the latter scenario, a commit messag from agent aj will be receiv onli if agent aj ha been reject by all other agent in it set a∗ that were associ with a util greater than the util of a partnership with agent ai. the uniqu solut to the recurs equat 1 is: gk(x) = 8 >>>>>< >>>>>:  1+(k−2) r ∞ y=xf(y)dy 1−k k−2 , k>2, x≥xk, exp(− r ∞ y=x f(y)dy), k=2, x≥xk, 1, k=1, x≥xk 0, x < xk. (2) notic that as expect, a partnership opportun that yield the maximum mutual util is necessarili accept by both agent, i.e., limx→∞ gk(x) = 1. on the other hand, when the util  associ with a potenti partnership opportun is zero (x = 0) the accept probabl is non-neglig: lim x→0 gk(x) = (k − 1) 1−k k−2 (3) thi non-intuit result deriv from the fact that there is still a non-neglig probabl that the other agent is reject by all other agent it interact with. 2.3 set the agent" strategi us the function gk(x), we can now formul and explor the agent" expect util when us their search strategi.  consid again an agent ai that is us a sampl of size n while all other agent ar us a strategi (k, xk). we denot by rn (x) the probabl that the maximum util that agent ai can be  guarante when interact with n agent (i.e., the highest util to which a commit messag will be receiv) is at most x. thi can be calcul as the probabl that none of n agent send agent ai a commit messag for a partnership associ with a util greater than x: rn (x) =  1 − z ∞ max(x,xk) f(y)gk(y)dy n (4) notic that rn (x) is in fact a cumul distribut function,  satisfi: limx→∞ rn (x) = 1 and drn (x)/dx > 0 (the function never get a zero valu simpli becaus there is alwai a posit probabl that none of the agent commit at all to a partnership with agent ai). therefor, the deriv of the function rn (x), denot rn (x), is in fact the probabl distribut function of the maximum util that can be guarante for agent ai when  sampl n other agent: rn (x) = drn (x) dx = 8 < : nf(x)gk(x) n+k−2 k−1 , x ≥ xk 0, x < xk (5) 6 the us of the recurs equat 1 is enabl sinc we assum that the number of agent is infinit (thu the probabl of have an overlap  between the interact agent and the affect of such overlap on the  probabl we calcul becom insignific). the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 453 thi function rn (x) is essenti for calcul vn (xn ), the  expect util of agent ai when us a strategi (n, xn ), given the strategi (k, xk) us by the other agent: vn (xn )= z ∞ y=max(xn ,xk) yrn (y)dy+  1− z ∞ y=max(xn ,xk) rn (y)dy  vn (xn ) − c(n) (6) the right hand side of the abov equat repres the expect util of agent ai from take an addit search stage. the first term repres the expect util from mutual commit  scenario, wherea the second term is the expect util associ with resum the search (which equal vn (xn ) sinc noth ha chang for the agent). us simpl mathemat manipul and substitut rn (x), equat 6 transform into: vn (x) = r ∞ y=max(x,xk) ynf(y)gk(y) n+k−2 k−1 dy − c(n) r ∞ y=max(x,xk) nf(y)gk(y) n+k−2 k−1 dy (7) and further simplifi into: vn (x) = max(x, xk) + z ∞ max(x,xk) (1 − gk(y) n k−1 )dy − c(n) 1 − gk(max(x, xk)) n k−1 (8) equat 8, allow us to prove some import characterist of the model as summar in the follow theorem 2. theorem 2. when other agent us strategi (k, xk): (a) an agent"s expect util function, vn (xn ), when us a strategi (n, x), is quasi concav in x with a uniqu maximum, obtain for the valu xn satisfi: vn (xn ) = xn (9) (b) the valu xn satisfi: c(n) = ` max(xn , xk) − xn ´` 1 − gk(xk) n k−1 ´ + + z ∞ max(xn ,xk) (1 − gk(y) n k−1 )dy (10) the proof is obtain by deriv vn (xn ) in equat 8 and  set it to zero. after appli further mathemat manipul we obtain (9) and (10). both part of theorem 2 can be us as an effici mean for extract the optim reserv valu xn of an agent, given the strategi of the other agent in the environ and the number of parallel interact it us. furthermor, in the case of  complex distribut function where extract xn from equat 10 is not immedi, a simpl algorithm (princip base on binari search) can be construct for calcul the agent"s optim  reserv valu (which equal it expect util, accord to 9), with a complex o(log( ˆx ρ )), where ρ is the requir precis level for xn and ˆx is the solut to: r ∞ y=ˆx ynf(y)f(y)n−1 dy = c(n). have the abil to calcul xn , we can now prove the  follow proposit 2.1. proposit 2.1. an agent oper in an environ where all agent ar us a strategi accord to the instantan  parallel search equilibrium (i.e., accord to the i-dm model [21]) can onli benefit from deviat to the propos s-dm strategi. sketch of proof: for the i-dm model the follow hold [21]: c(n) = n 2n − 1 z ∞ y=xi−dm n (1 − f(y)2n−1 )dy (11) we appli the methodolog us abov in thi subsect for  construct the expect util of the agent us the s-dm strategi as a function of it reserv valu, assum all other agent ar us the i-dm search strategi. thi result with an optim  reserv valu for the agent us s-dm, satisfi: c(n) = z ∞ y=xs−dm n (1 − (1 − 1 n + f(y)n n )n )dy (12) final, we prove that the integrand in equat 11 is smaller than the integrand in equat 12. given the fact that both term equal c(n), we obtain xs−dm n > xi−dm n and consequ (accord to theorem 2) a similar relationship in term of expect util. figur 1 illustr the superior of the propos search  strategi s-dm, as well as the expect util function"s  characterist (as reflect in theorem 2). for compar reason we us the same synthet environ that wa us for the i-dm model [21]. here the util ar assum to be drawn from a uniform distribut function and the cost function wa taken to be c(n) = 0.05 + 0.005n. the agent is us n = 3 while other agent ar us k = 25 and xk = 0.2. the differ curv depict the expect util of the agent as a function of the reserv valu, x, that it us, when: (a) all agent ar us the i-dm strategi (mark as i-dm); (b) the agent is us the s-dm strategi while the other agent ar us the i-dm strategi (mark as  i-dm/sdm); and (c) all agent ar us the s-dm strategi (mark as s-dm). as expect, accord to equat 8 and theorem 2, the agent"s expect util remain constant until it reserv valu exce xk. then, it reach a global maximum when the  reserv valu satisfi vn (x) = x. from the graph we can see that the agent alwai ha an incent to deviat from the i-dm strategi to s-dm strategi (as wa proven in proposit 2.1). 0.2 0.3 0.4 0.5 0.6 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 reserv valu (x) expect util vn(x) s-d m i-d m i-d m / s-d m figur 1: the expect util as a function of the reserv valu us by the agent 3. equilibrium dynam sinc all agent ar subject to similar search cost, and their  perceiv util ar drawn from the same distribut function, thei all share the same strategi in equilibrium. a multi-equilibria  scenario mai occur, howev as we discuss in the follow paragraph sinc all agent share the same prefer/prioriti (unlik, for exampl, in the famou battl of the sex scenario) we can  alwai identifi which equilibrium strategi will be us. notic that if all agent ar us the same sampl size, n, then the valu xn result from solv equat 10 by substitut k = n and xk = xn is a stabl reserv valu (i.e., none of the agent can benefit from chang just the valu of xn ). an equilibrium strategi (n, xn ) can be found by identifi an n valu for which no singl agent ha an incent to us a differ number of parallel interact, k (and the new optim reserv 454 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) valu that is associ with k accord to equat 10). while thi impli an infinit solut space, we can alwai bound it  us equat 8 and 10. within the framework of thi paper, we demonstr such a bound methodolog for the common case were c(n) is linear7 or convex, by us the follow theorem 3. theorem 3. when c(n) is linear (or convex), then: (a) when all other agent sampl k potenti partner over a search round, if an agent"s expect util of sampl k + 1 potenti partner, vk+1(xk+1), is smaller than vk(xk), then the expect util when sampl n potenti partner, vn (xn ), where n > k+1, is also smaller than vk(xk). (b) similarli, when all other agent sampl k potenti partner over a search round, if an agent"s expect util of us k − 1 potenti partner, vk−1(xk−1), is smaller than the expect util when us k potenti partner, vk(xk), then the expect util when us n potenti partner, where n < k − 1, is also smaller than vk(xk). proof: let us us the notat ci for c(i). sinc vk(xk) = xk ∀k (accord to equat 9), the claim ar: (a) if xk+1 < xk then xn < xk for all n ≥ k + 1, and (b) if xk−1 < xk then xn < xk for all n ≤ k − 1. (a) we start by prove that if xk+1 < xk then xk+2 < xk. assum otherwis, i.e., xk+1 < xk and xk+2 > xk. therefor, accord to equat 10, the follow hold: 0 < ck+2 − 2ck+1 + ck < z ∞ xk+2 (1 − gk(y) k+2 k−1 )dy − 2 z ∞ xk (1 − gk(y) k+1 k−1 )dy + z ∞ xk (1 − gk(y) k k−1 )dy where the transit to inequ is valid sinc c(i) is convex. sinc the assumpt in thi proof is that xk+2 > xk then the abov can be transform into: z ∞ xk  2gk(y) k+1 k−1 − gk(y) k+2 k−1 − gk(y) k k−1  dy > 0 (13) now notic that the integr term is actual −gk(y) k k−1 ` 1− gk(y) 1 k−1 ´2 which is obvious neg, contradict the initi assumpt, thu if xk+1 < xk then necessarili xk+2 < xk. now we need to prove the same for ani xk+j. we will prove thi in two step: first, if xk+i < xk then xk+2i < xk. second, if xk+i < xk and xk+i+1 < xk, then xk+2i+1 < xk. togeth these constitut the necessari induct argument to prove the case (a). we start with the even case, us a similar methodolog: assum otherwis, i.e., xk+l < xk ∀l = 1, ..., j − 1 and xk+2i > xk. accord to equat 10, and the fact that c(i) is convex, the  follow hold: z ∞ xk  2gk(y) k+i k−1 − gk(y) k+2i k−1 − gk(y) k k−1  dy > 0 (14) and again the integrand is actual −gk(y) k k−1 ` 1−gk(y) i k−1 ´2 which is obvious neg, contradict the initi assumpt, thu xk+2i < xk. as for the odd case, we us equat 10 onc for k + i + 1 parallel interact and onc for k + 2i + 1. from the convex of ci, we obtain: ck+2i+1 − ck+i − ck+i+1 + ck > 0, thu: z ∞ xk ` gk(y) k+i k−1 +gk(y) k+i+1 k−1 −gk(y) k+2i+1 k−1 −gk(y) k k−1 ´ dy>0 (15) 7 a linear cost function is mostli common in agent-base two-side search applic, sinc often the cost function can be divid into fix cost (e.g. oper the agent per time unit) and variabl cost (i.e., cost of  process a singl interact"s data). thi time the integr term in equat 15 can be re-written as gk(y) k k−1 (1 − gk(y) i k−1 )(gk(y) i+1 k−1 − 1) which is obvious neg, contradict the initi assumpt, thu xk+i+1 < xk. now us induct on can prove that if xk+1 < xk then xk+i < xk. thi conclud part (a) of the proof. the proof for part (b) of the theorem is obtain in a similar manner. in thi case: ck − 2ck−i + ck−2i > 0 and ck − ck−i−1 − ck−i + ck−2i−1 > 0. the abov theorem suppli us with a power tool for  elimin non-equilibrium n valu. it suggest that we can check the stabil of a sampl size n and the appropri reserv valu xn simpli by calcul the optim reserv valu of a  singl agent when deviat toward us sampl of size n − 1 and n + 1 (keep the other agent with strategi (n, xn )). if both the appropri reserv valu associ with the two  latter sampl size ar smaller than xn then accord to theorem 3 the same hold when deviat to ani other sampl size k. the abov process can be further simplifi by us vn+1(xn ) > xn and vn−1(xn ) > xn as the two elimin rule. thi deriv from theorem 3 and the properti of the function vn (x) found in theorem 2. notic that a multi-equilibria scenario mai occur, howev can easili be resolv. if sever strategi satisfi the stabil  condit defin abov, then the agent will alwai prefer the on  associ with the highest expect util. therefor an algorithm that goe over the differ n valu and check them accord to the rule abov can be appli, assum that we can bound the interv for search the equilibrium n. the follow theorem 4 suggest such an upper bound. theorem 4. an upper bound for the equilibrium number of partner to be consid over a search round is the solut of the equat: a(n) = c(n) (16) provid a(n − 1) > c(n − 1), where we denot, a(n) := z ∞ y=0 ynf(y)gk(y) n+k−2 k−1 dy. proof: we denot: a(n, x) = z ∞ y=x ynf(y)gk(y) n+k−2 k−1 dy so that a(n) = a(n, 0). from equat 7: vn (x) = a(n, x) − c(n) n r ∞ x f(y)gk(y)bdy = a(n, x) − c(n) posit , clearli a(n) ≥ a(n, x)∀x sinc the integrand is posit. henc if a(n) − c(n) < 0, then a(n, x) − c(n) < 0∀x and vn (x) < 0 ∀x. next we prove that if a(n)−c(n) get neg, it stai neg. recal that for ani g(y): d dn (g(y)b(n) ) = g(y)b(n) log(g(y)) db dn we get: a (n) = −1 (k − 1)2 z ∞ 0 gk(y) n k−1 (log gk(y))2 dy which is alwai neg, sinc the integrand is nonneg.  therefor a(n) is concav. sinc c(n) is convex, −c(n) is  concav, and a sum of concav function is concav, we obtain that the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 455 a(n) − c(n) is concav. thi guarante that onc the  concav express a(n) − c(n) shift from a posit valu to a neg on (with the increas in n), it cannot becom posit again. therefor, have n∗ such that a(n∗ ) = c(n∗ ), and a(n∗∗ ) > c(n∗∗ ) for some n∗∗ < n∗ , is an upper bound for n, i.e., vn (x) < 0 ∀n ≥ n∗ . the condit we specifi for n∗∗ is mere for ensur that vn is switch from a posit valu to a neg on (and not vice versa) and is trivial to implement. given the exist of the upper bound, we can design an  algorithm for find the equilibrium strategi (if on exist). the algorithm extract the upper bound, ˆn, for the equilibrium  number of parallel interact accord to theorem 4. out of the set of valu satisfi the stabil condit defin abov, the  algorithm choos the on associ with the highest reserv valu accord to equat 10. thi is the equilibrium associ with the highest expect util to all agent accord to theorem 2. 0.1875 0.39 0.41 0.43 0.45 0.47 0.49 2 3 4 5 6 7 8 9 10 11 12 13 expect util vn(x) num ber ofparallelinteract (n) vn+ 1 ( xn) vn( xn) vn-1 ( xn) enlarg figur 2: the incent to deviat from strategi (n, xn ) the process is illustr in figur 2 for an artifici environ where partnership" util ar associ with a uniform  distribut. the cost function us is c(n) = 0.2 + 0.02n. the graph depict a singl agent"s expect util when all other agent ar us n parallel interact (on the horizont axi) and the  appropri reserv valu xn (calcul accord to equat 10). the differ curv depict the expect util of the agent when it us a strategi: (a) (n, xn ) similar to the other agent (mark as vn (xn )); (b) (n + 1, xn ) (mark as vn+1(xn )); and (c) (n − 1, xn ) (mark as vn−1(xn )). accord to the discuss follow theorem 3, a stabl equilibrium satisfi: vn (xn ) > max{vn+1(xn ), vn−1(xn )}. the strategi satisfi the latter condit in our exampl is (9, 0.437). 4. relat work the two-side econom search for partnership in ai literatur is a sub-domain of coalit format8 . while coalit  format model usual consid gener coalit-size [24], the  partnership format model (often refer as matchmak)  consid environ where agent have a benefit onli when form a partnership and thi benefit can not be improv by extend the partnership to more than two agent [12, 23] (e.g., in the case of buyer and seller or peer-to-peer applic). as in the gener 8 the us of the term partnership in thi context refer to the agreement between two individu agent to cooper in a pre-defin manner. for exampl, in the buyer-seller applic a partnership is defin as an agre transact between the two-parti [9]. coalit format case, agent have the incent to form  partnership when thei ar incap of execut a task by their own or when the partnership can improv their individu util [14]. variou central match mechan can be found in the  literatur [6, 2, 8]. howev, in mani ma environ, in the absenc of ani reliabl central match mechan, the match process is complet distribut. while the search in agent-base environ is well recogn to be costli [11, 21, 1], most of the propos coalit format mechan assum that an agent can scan as mani partnership opportun in it environ as need or have access to central matcher or middl agent [6]. the incorpor of costli search in thi context is quit rare [21] and to the best of our knowledg, a distribut two-side search for partner model similar to the s-dm model ha not been studi to date. classic econom search theori ([15, 17], and refer therein) wide address the problem of a searcher oper in a costli  environ, seek to maxim hi long term util. in these  model, classifi as on-side search, the focu is on establish the optim strategi for the searcher, assum no mutual search  activ (i.e., no influenc on the environ). here the sequenti search procedur is often appli, allow the searcher to  investig a singl [15] or multipl [7, 19] opportun at a time. while the latter method is proven to be benefici for the searcher, it wa never us in the two-side search model that follow (where dual search activ ar model) [22, 5, 18]. therefor, in these model, the equilibrium strategi ar alwai develop base on the assumpt that the agent interact with other sequenti (i.e., with on agent at a time). a first attempt to integr the parallel search into a two-side search model is given in [21], as detail in the introduct section. sever of the two-side search essenc can be found in the strateg theori of bargain [3] - both coalit format and match can be repres as a sequenti bargain game [4] in which payoff ar defin as a function of the coalit structur and can be divid accord to a fix or negoti divis rule. nevertheless, in the sequenti bargain literatur, most emphasi is put on specifi the detail of the sequenti negoti process over the divis of the util (or cost) jointli own by parti or the strategi the coalit need to adopt [20, 4]. the model  present in thi area do not associ the coalit format process with search cost, which is the essenc of the analysi that  econom search theori aim to suppli. furthermor, even in repeat pairwis bargain [10] model the agent ar alwai limit to initi a singl bargain interact at a time. 5. discuss and conclus the phenomen growth evidenc in recent year in the number of softwar agent-base applic, alongsid the continu  improv in agent" process and commun capabl, suggest variou incent for agent to improv their search  perform by appli advanc search strategi such as parallel search. the multipl-interact techniqu is known to be  benefici for agent both in on-side and two-side econom search [7, 16, 21], sinc it allow the agent to decreas their averag cost of learn about potenti partnership and their valu. in thi paper we propos a new parallel two-side search mechan that differ from the exist on in a sens that it allow the agent to delai their decis make process concern the accept and reject of potenti partnership as necessari. thi, in  comparison to the exist instantan model [21] which forc each agent to make a simultan decis concern each of the  potenti partnership reveal to it dure the current search stage. 456 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) as discuss throughout the paper, the new method is much more intuit to the agent than the exist model - an agent will alwai prefer to keep all option avail. furthermor, as we prove in the former section, an agent"s transit to the new search method alwai result with a better util. as we prove in section 2, in spite of the transit to a sequenti decis make, deadlock never occur in the propos method as long as all agent us the propos strategi. sinc our analysi is equilibrium-base, a deviat from the propos strategi is not benefici. similarli, we show that a deviat of a singl agent (back) to the instantan decis make strategi is not  benefici. the onli problem that mai aris in the transit from an instantan to sequenti decis make is when an agent fail (technic) to function (endlessli delai the notif to the agent it interact with). while equilibrium analysi normal do not consid malfunct as a legitim strategi, we do wish to  emphas that the malfunct agent problem can be resolv by us a simpl timeout for receiv respons and skip thi agent in the sequenti decis process if the timeout is exceed. our analysi cover all aspect of the new two-side search  techniqu, from individu strategi construct throughout the  dynam that lead to stabil (equilibrium). the difficulti in the  extract of the agent" equilibrium strategi in the new model deriv from the need to recurs model, while set an agent"s  strategi, the reject other agent might face from other agent thei interact with. thi complex (that doe not exist in former  model) is resolv by the introduct of the recurs function gk(x) in section 2. us the differ theorem and proposit we prove, we proffer effici tool for calcul the agent"  equilibrium strategi. our capabl to produc an upper bound for the number of parallel interact us in equilibrium (theorem 4) and to quickli identifi (and elimin) non-equilibrium strategi (theorem 3) resolv the problem of the comput complex associ with have to deal with a theoret infinit strategi space. while the analysi we present is given in the context of softwar agent, the model we suggest is gener, and can be appli to ani two-side econom search environ where the searcher can search in parallel. in particular, in addit to weakli domin the instantan decis make model (as we prove in the  analysi section) the propos method weakli domin the pure  sequenti two-side search model (where each agent interact with onli on other agent at a time) [5]. thi deriv from the fact that the propos method is a gener of the latter (i.e., in the worst case scenario, the agent can interact with on other agent at a time in parallel). natur the attempt to integr search theori techniqu into dai-to-dai applic bring up the applic question.  justif and legitimaci consider for thi integr were  discuss in the wide literatur we refer to throughout the paper. the current paper is not focus on re-argu applic, but rather on the improv of the the core two-side search model. we see great import in futur research that will combin  bargain as part of the interact process. we believ such research can result in mani rich variant of our two-side search model. 6. refer [1] y. bako. reduc buyer search cost: implic for electron marketplac. manag scienc, 42(12):1676-1692, june 1997. [2] g. becker. a theori of marriag. journal of polit economi, 81:813-846, 1973. [3] k. binmor, m. osborn, and a. rubinstein. non-cooper model of bargain. in handbook of game theori with econom applic, page 180-220. elsevi, new york, 1992. [4] f. bloch. sequenti format of coalit in game with extern and fix payoff divis. game and econom behavior, 14(1):90-123, 1996. [5] k. burdett and r. wright. two-side search with nontransfer util. review of econom dynam, 1:220-245, 1998. [6] k. decker, k. sycara, and m. williamson. middl-agent for the internet. in proc. of ijcai, page 578-583, 1997. [7] s. gal, m. landsberg, and b. levykson. a compound strategi for search in the labor market. int. econom review, 22(3):597-608, 1981. [8] d. gale and l. shaplei. colleg admiss and the stabil of marriag. american math. monthli, 69:9-15, 1962. [9] m. hadad and s. krau. sharedplan in electron commerc. in m. klusch, editor, intellig inform agent, page 204-231. springer publish, 1999. [10] m. jackson and t. palfrei. effici and voluntari implement in market with repeat pairwis bargain. econometrica, 66(6):1353-1388, 1998. [11] j. kephart and a. greenwald. shopbot econom. jaama, 5(3):255-287, 2002. [12] m. klusch. agent-mediat trade: intellig agent and e-busi. j. on data and knowledg engin, 36(3), 2001. [13] s. krau, o. shehori, and g. taas. coalit format with uncertain heterogen inform. in proc. of aama "03, page 1-8, 2003. [14] k. lermann and o. shehori. coalit format for larg scale electron market. in proc. of icma"2000, page 216-222, boston, 2000. [15] s. a. lippman and j. j. mccall. the econom of job search: a survei. econom inquiri, 14:155-189, 1976. [16] e. manisterski, d. sarn, and s. krau. integr parallel interact into cooper search. in aama, page 257-264, 2006. [17] j. mcmillan and m. rothschild. search. in r. aumann and s. hart, editor, handbook of game theori with econom applic, page 905-927. 1994. [18] j. m. mcnamara and e. j. collin. the job search problem as an employ-candid game. journal of appli probabl, 27(4):815-827, 1990. [19] p. morgan. search and optim sampl size. review of econom studi, 50(4):659-675, 1983. [20] a. rubinstein. perfect equilibrium in a bargain model. econometrica, 50(1):97-109, 1982. [21] d. sarn and s. krau. agent strategi for the dual parallel search in partnership format applic. in proc. of amec2004, lnc 3435, page 158 - 172, 2004. [22] r. shimer and l. smith. assort match and search. econometrica, 68(2):343-370, 2000. [23] k. sycara, s. widoff, m. klusch, and j. lu. lark: dynam matchmak among heterogen softwar agent in cyberspac. jaama, 5:173-203, 2002. [24] n. tsvetovat, k. sycara, y. chen, and j. ying. custom coalit in electron market. in proc. of amec2000, page 121-138, 2000. the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 457 