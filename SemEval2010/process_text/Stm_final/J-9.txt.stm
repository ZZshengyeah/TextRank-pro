comput in a distribut inform market∗ joan feigenbaum † yale univers depart of comput scienc new haven, ct 06520 feigenbaum@cs.yale.edu lanc fortnow nec laboratori america 4 independ wai princeton, nj 08540 fortnow@nec-lab.com david m. pennock ‡ overtur servic, inc. 74 n. pasadena av, 3rd floor pasadena, ca 91103 david.pennock@overtur.com rahul sami § yale univers depart of comput scienc new haven, ct 06520 sami@cs.yale.edu abstract accord to econom theori-support by empir and laboratori evid-the equilibrium price of a financi  secur reflect all of the inform regard the secur"s valu. we investig the comput process on the path toward equilibrium, where inform distribut among trader is reveal step-by-step over time and incorpor into the market price. we develop a simplifi model of an inform market, along with trade strategi, in order to formal the comput properti of the process. we show that secur whose payoff cannot be express as weight threshold function of distribut input bit ar not guarante to converg to the proper equilibrium  predict by econom theori. on the other hand, secur whose payoff ar threshold function ar guarante to  converg, for all prior probabl distribut. moreov, these threshold secur converg in at most n round, where n is the number of bit of distribut inform. we also prove a lower bound, show a type of threshold secur that requir at least n/2 round to converg in the worst case. categori and subject descriptor f.m [theori of comput]: miscellan; j.4  [comput applic]: social and behavior  scienceseconom; c.2.4 [comput system organ]: comput-commun network-distribut system gener term econom, theori 1. introduct the strong form of the effici market hypothesi state that market price nearli instantli incorpor all  inform avail to all trader. as a result, market price  encod the best forecast of futur outcom given all  inform, even if that inform is distribut across mani sourc. support evid can be found in empir studi of option market [14], polit stock market [7, 8, 22], sport bet market [3, 9, 27], hors-race market [30], market game [23, 24], and laboratori investig of experiment market [6, 25, 26]. the process of inform incorpor is, at it essenc, a distribut comput. each trader begin with hi or her own inform. as trade ar made, summari  inform is reveal through market price. trader learn or infer what inform other ar like to have by observ price, then updat their own belief base on their  observ. over time, if the process work as advertis, all inform is reveal, and all trader converg to the same inform state. at thi point, the market is in what is call a ration expect equilibrium [11, 16, 19]. all inform avail to all trader is now reflect in the go price, and no further trade ar desir until some new inform becom avail. while most market ar not design with inform  aggreg as a primari motiv-for exampl, deriv 156 market ar intend mainli for risk manag and sport bet market for entertain-recent, some market have been creat sole for the purpos of aggreg  inform on a topic of interest. the iowa electron  market1 is a prime exampl, oper by the univers of iowa tippi colleg of busi for the purpos of investig how inform about polit elect distribut among trader get reflect in secur price whose payoff ar ti to actual elect outcom [7, 8]. in thi paper, we investig the natur of the  comput process wherebi distribut inform is reveal and combin over time into the price in inform  market. to do so, in section 3, we propos a model of an  inform market that is tractabl for theoret analysi and, we believ, captur much of the import essenc of real inform market. in section 4, we present our main  theoret result concern thi model. we prove that onli boolean secur whose payoff can be express as  threshold function of the distribut input bit of inform ar guarante to converg as predict by ration expect theori. boolean secur with more complex payoff mai not converg under some prior distribut. we also  provid upper and lower bound on the converg time for these threshold secur. we show that, for all prior  distribut, the price of a threshold secur converg to it ration expect equilibrium price in at most n round, where n is the number of bit of distribut inform. we show that thi worst-case bound is tight within a factor of two by illustr a situat in which a threshold secur requir n/2 round to converg. 2. relationship to relat work as mention, there is a great deal of document  evid support the notion that market ar abl to  aggreg inform in a number of scenario us a varieti of market mechan. the theoret ideal mechan requir what is call a complet market. a complet  market contain enough linearli independ secur to span the entir state space of interest [1, 31]. that is, the  dimension of the avail secur equal the dimension of the event space over which inform is to be  aggreg.2 in thi ideal case, all privat inform becom common knowledg in equilibrium, and thu ani function of the privat inform can be directli evalu by ani agent or observ. howev, thi theoret ideal is almost never achiev in practic, becaus it gener requir a number of secur exponenti in the number of random variabl of interest. when avail secur form an incomplet market [17] in relat to the desir inform space-as is usual the case-aggreg mai be partial. not all privat  inform is reveal in equilibrium, and price mai not convei enough inform to recov the complet joint probabl distribut over all event. still, it is gener assum that aggreg doe occur along the dimens repres in the market; that is, price do reflect a  consist project of the entir joint distribut onto the smaller-dimension space span by secur. in thi  pa1 http://www.biz.uiowa.edu/iem/ 2 when we refer to independ or dimension of  secur, we mean the independ or dimension of the random variabl on which the secur payoff ar base. per, we investig case in which even thi partial  aggreg fail. for exampl, even though there is enough privat inform to determin complet the price of a secur in the market, the equilibrium price mai in fact reveal no inform at all! so character of when a ration expect equilibrium is fulli reveal do not  immedi appli to our problem. we ar not ask whether all possibl function of privat inform can be evalu, but whether a particular target function can be evalu. we show that properti of the function itself plai a major role, not just the rel dimension of the inform and secur space. our second main contribut is examin the dynam of inform aggreg befor equilibrium, in particular prove upper and lower bound on the time to converg in those case in which aggreg succe. shoham and tennenholtz [29] defin a ration  comput function as a function of agent" valuat (type) that can be comput by a market, assum agent follow ration equilibrium strategi. the author mainli consid auction of good as their basic mechanist unit and  examin the commun complex involv in comput variou function of agent" valuat of good. for  exampl, thei give auction mechan that can comput the maximum, minimum, and kth-highest of the agent"  valuat of a singl good us 1, 1, and n − k + 1 bit of  commun, respect. thei also examin the potenti tradeoff between commun complex and revenu. 3. model of an inform  market to investig the properti and limit of the  process wherebi an inform market converg toward it ration-expect equilibrium, we formul a  repres model of the market. in design the model, our goal were two-fold: (1) to make the model rich enough to be realist and (2) to make the model simpl enough to admit meaning analysi. ani model decis must trade off these two gener conflict goal, and the  decis process is as much an art as a scienc. nonetheless, we believ that our model captur enough of the essenc of real inform market to lend credenc to the result that follow. in thi section, we present our model  assumpt and justif in detail. section 3.1 describ the initi inform state of the system, section 3.2 cover the market mechan, and section 3.3 present the agent" strategi. 3.1 initi inform state there ar n agent (trader) in the system, each of whom is privi to on bit of inform, denot xi. the  vector of all n bit is denot x = (x1, x2, . . . , xn). in the initi state, each agent is awar onli of her own bit of  inform. all agent have a common prior regard the joint distribut of bit among agent, but none ha ani specif inform about the actual valu of bit held by other. note that thi common-prior assumpt-typic in the econom literatur-doe not impli that all agent agre. to the contrari, becaus each agent ha differ inform, the initi state of the system is in gener a state of disagr. nearli ani disagr that could be model by assum differ prior can instead be  mod157 el by assum a common prior with differ inform, and so the common-prior assumpt is not as sever as it mai seem. 3.2 market mechan the secur be trade by the agent is a financi  instrument whose payoff is a function f(x) of the agent" bit. the form of f (the descript of the secur) is common knowledg3 among agent. we sometim refer to the xi as the input bit. at some time in the futur after trade is complet, the true valu of f(x) is reveal,4 and everi owner of the secur is paid an amount f(x) in cash per unit own. if an agent end with a neg quantiti of the secur (by sell short), then the agent must pai the amount f(x) in cash per unit. note that if someon were to have complet knowledg of all input bit x, then that person would know the true valu f(x) of the secur with certainti, and so would be will to bui it at ani price lower than f(x) and (short) sell it at ani price higher than f(x).5 follow dubei, geanakoplo, and shubik [4], and  jackson and peck [13], we model the market-price format process as a multiperiod shaplei-shubik market game [28]. the shaplei-shubik process oper as follow: the  market proce in synchron round. in each round, each agent i submit a bid bi and a quantiti qi. the semant ar that agent i is suppli a quantiti qi of the secur and an amount bi of monei to be trade in the market. for  simplic, we assum that there ar no restrict on credit or short sale, and so an agent"s trade is not constrain by her possess. the market clear in each round by settl at a singl price that balanc the trade in that round: the clear price is p = i bi/ i qi. at the end of the round, agent i hold a quantiti qi proport to the monei she bid: qi = bi/p. in addit, she is left with an amount of monei bi that reflect her net trade at price p: bi = bi − p(qi − qi) = pqi. note that agent i"s net trade in the secur is a purchas if p < bi/qi and a sale if p > bi/qi. after each round, the clear price p is publicli reveal. agent then revis their belief accord to ani inform garner from the new price. the next round proce as the previou. the process continu until an equilibrium is reach, mean that price and bid do not chang from on round to the next. in thi paper, we make a further simplifi restrict on the trade in each round: we assum that qi = 1 for each agent i. thi model assumpt serv two  analyt purpos. first, it ensur that there is forc trade in everi round. classic result in econom show that  perfectli ration and risk-neutral agent will never trade with each other for pure specul reason (even if thei have differ inform) [20]. there ar mani factor that can induc ration agent to trade, such as differ degre of risk avers, the presenc of other trader who ar trade for liquid reason rather than specul gain, or a  market maker who is pump monei into the market through a subsidi. we sidestep thi issu by simpli assum that the 3 common knowledg is inform that all agent know, that all agent know that all agent know, and so on ad infinitum [5]. 4 the valu of the input bit themselv mai or mai not be publicli reveal. 5 throughout thi paper we ignor the time valu of monei. inform agent will trade (for unspecifi reason).  second, forc qi = 1 for all i mean that the total volum of trade and the impact of ani on trader on the clear price ar common knowledg; the clear price p is a simpl function of the agent" bid, p = i bi/n. we will discuss the implic of altern market model in section 5. 3.3 agent strategi in order to draw formal conclus about the price  evolut process, we need to make some assumpt about how agent behav. essenti we assum that agent ar  riskneutr, myopic,6 and bid truthfulli: each agent in each round bid hi or her current valuat of the secur, which is that agent"s estim of the expect payoff of the  secur. expect ar comput accord to each agent"s probabl distribut, which is updat via bay" rule when new inform (reveal via the clear price)  becom avail. we also assum that it is common  knowledg that all the agent behav in the specifi manner. would ration agent actual behav accord to thi strategi? it"s hard to sai. certainli, we do not claim that thi is an equilibrium strategi in the game-theoret sens. furthermor, it is clear that we ar ignor some  legitim tactic, e.g., bid fals in on round in order to effect other agent" judgment in the follow round  (nonmyop reason). howev, we believ that the strategi outlin is a reason start point for analysi. solv for a true game-theoret equilibrium strategi in thi set seem extrem difficult. our assumpt seem  reason when there ar enough agent in the system such that extrem complex meta-reason is not like to improv upon simpli bid on"s true expect valu. in thi case, accord the the shaplei-shubik mechan, if the  clear price is below an agent"s expect valu that agent will end up bui (increas expect profit); otherwis, if the clear price is abov the agent"s expect valu, the agent will end up sell (also increas expect profit). 4. comput properti in thi section, we studi the comput power of  inform market for a veri simpl class of aggreg  function: boolean function of n variabl. we character the set of boolean function that can be comput in our market model for all prior distribut and then prove upper and lower bound on the worst-case converg time for these market. the inform structur we assum is as follow: there ar n agent, and each agent i ha a singl bit of privat  inform xi. we us x to denot the vector (x1, . . . , xn) of input. all the agent also have a common prior probabl distribut p : {0, 1}n → [0, 1] over the valu of x. we defin a boolean aggreg function f(x) : {0, 1}n → {0, 1} that we would like the market to comput. note that x, and henc f(x), is complet determin by the combin of all the agent" inform, but it is not known to ani on agent. the agent trade in a boolean secur f, which pai off $1 if f(x) = 1 and $0 if f(x) = 0. so an omnisci 6 risk neutral impli that each agent"s util for the  secur is linearli relat to hi or her subject estim of the expect payoff of the secur. myopic behavior mean that agent treat each round as if it were the final round: thei do not reason about how their bid mai affect the bid of other agent in futur round. 158 agent with access to all the agent" bit would know the true valu of secur f-either exactli $1 or exactli $0. in  realiti, risk-neutral agent with limit inform will valu f accord to their expect of it payoff, or ei[f(x)], where ei is the expect oper appli accord to agent i"s probabl distribut. for ani function f, trade in f mai happen to converg to the true valu of f(x) by coincid if the prior  probabl distribut is suffici degener. more  interestingli, we would like to know for which function f doe the price of the secur f alwai converg to f(x) for all prior probabl distribut p.7 in section 4.2, we prove a  necessari and suffici condit that guarante converg. in section 4.3, we address the natur follow-up question, by deriv upper and lower bound on the worst-case  number of round of trade requir for the valu of f(x) to be reveal. 4.1 equilibrium price character our analysi build on a character of the  equilibrium price of f that follow from a power result on  common knowledg of aggreg due to mckelvei and page [19], later extend by nielsen et al. [21]. inform market aim to aggreg the knowledg of all the agent. procedur, thi occur becaus the agent learn from the market: the price of the secur convei inform to each agent about the knowledg of other agent. we can model the flow of inform through price as follow. let Ω = {0, 1}n be the set of possibl valu of x; we sai that Ω denot the set of possibl state of the world. the prior p defin everyon"s initi belief about the likelihood of each state. as trade proce, some possibl state can be logic rule out, but the rel likelihood among the remain state ar fulli determin by the prior p. so the common knowledg after ani stage is complet describ by the set of state that an extern observ-with no  inform beyond the sequenc of price observ-consid possibl (along with the prior). similarli, the knowledg of agent i at ani point is also complet describ by the set of state she consid possibl. we us the notat sr to denot the common-knowledg possibl set after round r, and sr i to denot the set of state that agent i consid possibl after round r. initi, the onli common knowledg is that the input vector x is in Ω; in other word, the set of state consid possibl by an extern observ befor trade ha occur is the set s0 = Ω. howev, each agent i also know the valu of her bit xi; thu, her knowledg set s0 i is the set {y ∈ Ω|yi = xi}. agent i"s first-round bid is her condit expect of the event f(x) = 1 given that x ∈ s0 i . all the agent" bid ar process, and the clear price p1 is announc. an extern observ could predict agent i"s bid if he knew the valu of xi. thu, if he knew the valu of x, he could predict the valu of p1 . in other word, the extern observ know the function price1 (x) that relat the first round price to the true state x. of cours, he doe not know the valu of x; howev, he can rule out ani vector x that would have result in a differ clear price from the observ price p1 . 7 we assum that the common prior is consist with x in the sens that it assign a non-zero probabl to the actual valu of x. thu, the common knowledg after round 1 is the set s1 = {y ∈ s0 | price1 (y) = p1 }. agent i know the  common knowledg and, in addit, know the valu of bit xi. henc, after everi round r, the knowledg of agent i is given by sr i = {y ∈ sr |yi = xi}. note that, becaus knowledg can onli improv over time, we must alwai have sr i ⊆ sr−1 i and sr ⊆ sr−1 . thu, onli a finit number of chang in each agent"s knowledg ar possibl, and so eventu we must converg to an equilibrium after which no player learn ani further inform. we us s∞ to denot the common knowledg at thi point, and s∞ i to denot agent i"s knowledg at thi point. let p∞ denot the clear price at equilibrium. inform, mckelvei and page [19] show that, if n  peopl with common prior but differ inform about the likelihood of some event a agre about a suitabl  aggreg of their individu condit probabl, then their individu condit probabl of event a"s occur must be ident. (the precis definit of suitabl is describ below.) there is a strong connect to ration expect equilibria in market, which wa note in the origin mckelvei-page paper: the market price of a  secur is common knowledg at the point of equilibrium. thu, if the price is a suitabl aggreg of the condit  expect of all the agent, then in equilibrium thei must have ident condit expect of the event that the secur will pai off. (note that their inform mai still be differ.) definit 1. a function g : n → is call  stochast monoton if it can be written in the form g(x) = i gi(xi), where each function gi : → is strictli  increas. bergin and brandenburg [2] prove that thi simpl  definit of stochast monoton function is equival to the origin definit in mckelvei-page [19]. definit 2. a function g : n → is call  stochast regular if it can be written in the form g = h ◦ g , where g is stochast monoton and h is invert on the rang of g . we can now state the mckelvei-page result, as gener by nielsen et al. [21]. in our context, the follow simpl theorem statement suffic; more gener version of thi theorem can be found in [19, 21]. theorem 1. (nielsen et al. [21]) suppos that, at  equilibrium, the n agent have a common prior, but possibl  differ inform, about the valu of a random variabl f, as describ abov. for all i, let p∞ i = e(f|x ∈ s∞ i ). if g is a stochast regular function and g(p∞ 1 , p∞ 2 , . . . , p∞ n ) is common knowledg, then it must be the case that p∞ 1 = p∞ 2 = · · · = p∞ n = e(f|x ∈ s∞ ) = p∞ in on round of our simplifi shaplei-shubik trade model, the announc price is the mean of the condit expect of the n agent. the mean is a stochast regular function; henc, theorem 1 show that, at  equilibrium, all agent have ident condit expect of the payoff of the secur. it follow that the equilibrium 159 price p∞ must be exactli the condit expect of all agent at equilibrium. theorem 1 doe not in itself sai how the equilibrium is reach. mckelvei and page, extend an argument due to geanakoplo and polemarchaki [10], show that repeat announc of the aggreg will eventu result in  common knowledg of the aggreg. in our context, thi is achiev by announc the current price at the end of each round; thi will ultim converg to a state in which all agent bid the same price p∞ . howev, reach an equilibrium price is not suffici for the purpos of inform aggreg. we also want the price to reveal the actual valu of f(x). it is possibl that the equilibrium price p∞ of the secur f will not be either 0 or 1, and so we cannot infer the valu of f(x) from it. exampl 1: consid two agent 1 and 2 with privat input bit x1 and x2 respect. suppos the prior probabl distribut is uniform, i.e., x = (x1, x2) take the valu (0, 0), (0, 1), (1, 0), and (1, 1) each with probabl 1 4 . now, suppos the aggreg function we want to comput is the xor function, f(x) = x1 ⊕ x2. to thi end, we design a market to trade in a boolean secur f, which will  eventu payoff $1 iff x1 ⊕ x2 = 1. if agent 1 observ x1 = 1, she estim the expect valu of f to be the probabl that x2 = 0 (given x1 = 1), which is 1 2 . if she observ x1 = 0, her expect of the valu of f is the condit probabl that x2 = 1, which is also 1 2 . thu, in either case, agent 1 will bid 0.5 for f in the first round. similarli, agent 2 will also alwai bid 0.5 in the first round. henc, the first round of trade end with a clear price of 0.5. from thi, agent 2 can infer that agent 1 bid 0.5, but thi give her no inform about the valu of x1-it is still equal like to be 0 or 1. agent 1 also gain no inform from the first round of trade, and henc neither agent chang her bid in the follow round. thu, the market reach equilibrium at thi point. as predict by theorem 1, both agent have the same condit expect (0.5) at equilibrium. howev, the equilibrium price of the secur f doe not reveal the valu of f(x1, x2), even though the combin of agent" inform is enough to determin it precis. 4.2 character comput aggreg we now give a necessari and suffici character of the class of function f such that, for ani prior distribut on x, the equilibrium price of f will reveal the true valu of f. we show that thi is exactli the class of weight threshold function: definit 3. a function f : {0, 1}n → {0, 1} is a  weight threshold function iff there ar real constant w1, w2, . . . , wn such that f(x) = 1 iff n i=1 wixi ≥ 1 theorem 2. if f is a weight threshold function, then, for ani prior probabl distribut p, the equilibrium price of f is equal to f(x). proof: let s∞ i denot the possibl set of agent i at equilibrium. as befor, we us p∞ to denot the final trade price at thi point. note that, by theorem 1, p∞ is exactli agent i"s condit expect of the valu of f(x), given her final possibl set s∞ i . first, observ that if p∞ is 0 or 1, then we must have f(x) = p∞ , regardless of the form of f. for instanc, if p∞ = 1, thi mean that e(f(y)|y ∈ s∞ ) = 1. as f(·) can onli take the valu 0 or 1, it follow that p(f(y) = 1|y ∈ s∞ ) = 1. the actual valu x is alwai in the final possibl set s∞ , and, furthermor, it must have non-zero prior probabl, becaus it actual occur. henc, it follow that f(x) = 1 in thi case. an ident argument show that if p∞ = 0, f(x) = 0. henc, it is enough to show that, if f is a weight  threshold function, then p∞ is either 0 or 1. we prove thi by  contradict. let f(·) be a weight threshold function  correspond to weight {wi}, and assum that 0 < p∞ < 1. by theorem 1, we must have: p(f(y) = 1|y ∈ s∞ ) = p∞ (1) ∀i p(f(y) = 1|y ∈ s∞ i ) = p∞ (2) recal that s∞ i = {y ∈ s∞ |yi = xi}. thu, equat (2) can be written as ∀i p(f(y) = 1|y ∈ s∞ , yi = xi) = p∞ (3) now defin j+ i = p(yi = 1|y ∈ s∞ , f(y) = 1) j− i = p(yi = 1|y ∈ s∞ , f(y) = 0) j+ = n i=1 wij+ i j− = n i=1 wij− i becaus by assumpt p∞ = 0, 1, both j+ i and j− i ar well-defin (for all i): neither is condit on a  zeroprob event. claim: eq. 1 and 3 impli that j+ i = j− i , for all i. proof of claim: we consid the two case xi = 1 and xi = 0 separ. case (i): xi = 1. we can assum that j− i and j+ i ar not both 0 (or els, the claim is trivial true). in thi case, we have p(f(y) = 1|y ∈ s∞ ) · j+ i p(f(y) = 1|y ∈ s∞) · j+ i + p(f(y) = 0|y ∈ s∞) · j− i = p(f(y) = 1|yi = 1, y ∈ s∞ ) (bay" law) p∞ j+ i p∞j+ i + (1 − p∞)j− i = p∞ (by eq. 1 and 3) j+ i = p∞ j+ i + (1 − p∞ )j− i =⇒ j+ i = j− i (as p∞ = 1) case (ii): xi = 0. when xi = 0, observ that the argument of case (i) can be us to prove that (1 − j+ i ) = (1 − j− i ). it immedi follow that j+ i = j− i as well. 2 henc, we must also have j+ = j− . but us linear of expect, we can also write j+ as j+ = e n i=1 wiyi y ∈ s∞ , f(y) = 1 , 160 and, becaus f(y) = 1 onli when i wiyi ≥ 1, thi give us j+ ≥ 1. similarli, j− = e n i=1 wiyi y ∈ s∞ , f(y) = 0 , and thu j− < 1. thi impli j− = j+ , which lead to a contradict. 2 perhap surprisingli, the convers of theorem 2 also hold: theorem 3. suppos f : {0, 1}n → {0, 1} cannot be  express as a weight threshold function. then there exist a prior distribut p for which the price of the secur f doe not converg to the valu of f(x). proof: we start from a geometr character of  weight threshold function. consid the boolean hypercub {0, 1}n as a set of point in n . it is well known that f is express as a weight threshold function iff there is a hyperplan in n that separ all the point at which f ha valu 0 from all the point at which f ha valu 1. now, consid the set h+ = conv(f−1 (1)) and h− = conv(f−1 (0)), where conv(s) denot the convex hull of s in n . h+ and h− ar convex set in n , and so, if thei do not intersect, we can find a separ hyperlan between them. thi mean that, if f is not express as a weight threshold function, h+ and h− must intersect. in thi case, we show how to construct a prior p for which f(x) is not comput by the market. let x∗ ∈ n be a point in h+ ∩ h− . becaus x∗ is in h+ , there exist some point z1 , z2 , . . . , zm and constant λ1, λ2, . . . , λm, such that the follow constraint ar  satisfi: ∀k zk ∈ {0, 1}n , and f(zk ) = 1 ∀k 0 < λk ≤ 1 m k=1 λk = 1 m k=1 λkzk = x∗ similarli, becaus x∗ ∈ h− , there ar point y1 , y2 , . . . , yl and constant µ1, µ2, . . . , µl, such that ∀j yj ∈ {0, 1}n , and f(yj ) = 0 ∀j 0 < µj ≤ 1 l j=1 µj = 1 l j=1 µj yj = x∗ we now defin our prior distribut p as follow: p(zk ) = λk 2 for k = 1, 2, . . . , m p(yj ) = µj 2 for j = 1, 2, . . . , l, and all other point ar assign probabl 0. it is easi to see that thi is a valid probabl distribut. under thi distribut p, first observ that p(f(x) = 1) = 1 2 . further, for ani i such that 0 < x∗ i < 1, we have p(f(x) = 1|xi = 1) = p(f(x) = 1 ∧ xi = 1) p(xi = 1) = x∗ i 2 x∗ i = 1 2 and p(f(x) = 1|xi = 0) = p(f(x) = 1 ∧ xi = 0) p(xi = 0) = (1−x∗ i ) 2 (1 − x∗ i ) = 1 2 for indic i such that x∗ i is 0 or 1 exactli, i"s privat  inform reveal no addit inform under prior p, and so here too we have p(f(x) = 1|xi = 0) = p(f(x) = 1|xi = 1) = 1 2 . henc, regardless of her privat bit xi, each agent i will bid 0.5 for secur f in the first round. the clear price of 0.5 also reveal no addit inform, and so thi is an equilibrium with price p∞ = 0.5 that doe not reveal the valu of f(x). 2 the xor function is on exampl of a function that  cannot be express as weight threshold function; exampl 1 illustr theorem 3 for thi function. 4.3 converg time bound we have shown that the class of boolean function  comput in our model is the class of weight threshold  function. the next natur question to ask is: how mani round of trade ar necessari befor the equilibrium is reach? we analyz thi problem us the same  simplifi shaplei-shubik model of market clear in each round. we first prove that, in the worst case, at most n round ar requir. the idea of the proof is to consid the sequenc of  common knowledg set Ω = s0 , s1 , . . ., and show that, until the market reach equilibrium, each set ha a strictli lower dimens than the previou set. definit 4. for a set s ⊆ {0, 1}n , the dimens of set s is the dimens of the smallest linear subspac of n that contain all the point in s; we us the notat dim(s) to denot it. lemma 1. if sr = sr−1 , then dim(sr ) < dim(sr−1 ). proof: let k = dim(sr−1 ). consid the bid in round r. in our model, agent i will bid her current expect for the valu of f, br i = e(f(y) = 1|y ∈ sr−1 , yi = xi). thu, depend on the valu of xi, br i will take on on of two valu h (0) i or h (1) i . note that h (0) i and h (1) i depend onli on the set sr−1 , which is common knowledg befor round 161 r. set di = h (1) i − h (0) i , we can write br i = h (0) i + dixi. it follow that the clear price in round r is given by pr = 1 n n i=1 (h (0) i + dixi) (4) all the agent alreadi know all the h (0) i and di valu, and thei observ the price pr at the end of the rth round. thu, thei effect have a linear equat in x1, x2, . . . , xn that thei us to improv their knowledg by rule out ani  possibl that would not have result in price pr . in other word, after r round, the common knowledg set sr is the intersect of sr−1 with the hyperplan defin by  equat (4). it follow that sr is contain in the intersect of thi hyperplan with the k-dimens linear space contain sr−1 . if sr is not equal to sr−1 , thi intersect defin a linear subspac of dimens (k − 1) that contain sr , and henc sr ha dimens at most (k − 1). 2 theorem 4. let f be a weight threshold function, and let p be an arbitrari prior probabl distribut. then, after at most n round of trade, the price reach it  equilibrium valu p∞ = f(x). proof: consid the sequenc of common knowledg set s0 , s1 , . . ., and let r be the minimum index such that sr = sr−1 . then, the rth round of trade doe not improv ani agent"s knowledg, and thu we must have s∞ = sr−1 and p∞ = pr−1 . observ that dim(s0 ) = n, and appli lemma 1 to the first r − 1 round, we must have (r − 1) ≤ n. thu, the price reach it equilibrium valu within n round. 2 theorem 4 provid an upper bound of o(n) on the  number of round requir for converg. we now show that thi bound is tight to within a factor of 2 by construct a threshold function with 2n input and a prior distribut for which it take n round to determin the valu of f(x) in the worst case. the function we us ar the carri-bit function. the function cn take 2n input; for conveni, we write the input as x1, x2 . . . , xn, y1, y2, . . . , yn or as a pair (x, y). the function valu is the valu of the high-order carri bit when the binari number xnxn−1 · · · x1 and ynyn−1 · · · y1 ar  ad togeth. in weight threshold form, thi can be written as cn(x, y) = 1 iff n i=1 xi + yi 2n+1−i ≥ 1. for thi proof, let us call the agent a1, a2, . . . , an, b1, b2, . . . , bn, where ai hold input bit xi, and bi hold input bit yi. we first illustr our techniqu by prove that  comput c2 requir 2 round in the worst case. to do thi, we construct a common prior p2 as follow: • the pair (x1, y1) take on the valu (0, 0), (0, 1), (1, 0), (1, 1) uniformli (i.e., with probabl 1 4 each). • we extend thi to a distribut on (x1, x2, y1, y2) by specifi the condit distribut of (x2, y2) given (x1, y1): if (x1, y1) = (1, 1), then (x2, y2) take the valu (0, 0), (0, 1), (1, 0), (1, 1) with probabl 1 2 , 1 6 , 1 6 , 1 6 respect. otherwis, (x2, y2) take the valu (0, 0), (0, 1), (1, 0), (1, 1) with probabl 1 6 , 1 6 , 1 6 , 1 2 respect. now, suppos x1 turn out to be 1, and consid agent a1"s bid in the first round. it is given by b1 a1 = p(c2(x1, x2, y1, y2) = 1|x1 = 1)) = p(y1 = 1|x1 = 1) · p((x2, y2) = (0, 0)|x1 = 1, y1 = 1) +p(y1 = 0|x1 = 1) · p((x2, y2) = (1, 1)|x1 = 1, y1 = 0) = 1 2 · 1 2 + 1 2 · 1 2 = 1 2 on the other hand, if x1 turn out to be 0, agent a1"s bid would be given by b1 a1 = p(c2(x1, x2, y1, y2) = 1|x1 = 0)) = p((x2, y2) = (1, 1)|x1 = 0) = 1 2 thu, irrespect of her bit, a1 will bid 0.5 in the first round. note that the function and distribut ar  symmetr between x and y, and so the same argument show that b1 will also bid 0.5 in the first round. thu, the price p1 announc at the end of the first round reveal no  inform about x1 or y1. the reason thi occur is that, under thi distribut, the second carri bit c2 is statist  independ of the first carri bit (x1 ∧ y1); we will us thi trick again in the gener construct. now, suppos that (x2, y2) is either (0, 1) or (1, 0). then, even if x2 and y2 ar complet reveal by the first-round price, the valu of c2(x1, x2, y1, y2) is not reveal: it will be 1 if x1 = y1 = 1 and 0 otherwis. thu, we have shown that at least 2 round of trade will be requir to reveal the function valu in thi case. we now extend thi construct to show by induct that the function cn take n round to reach an equilibrium in the worst case. theorem 5. there is a function cn with 2n input and a prior distribut pn such that, in the worst case, the market take n round to reveal the valu of cn(·). proof: we prove the theorem by induct on n. the base case for n = 2 ha alreadi been shown to be true.  start from the distribut p2 describ abov, we construct the distribut p3, p4, . . . , pn by induct appli the follow rule: • let x−n denot the vector (x1, x2, . . . , xn−1), and  defin y−n similarli. we extend the distribut pn−1 on (x−n , y−n ) to a distribut pn on (x, y) by  specifi the condit distribut of (xn, yn) given (x−n , y−n ): if cn−1(x−n , y−n ) = 1, then (xn, yn) take the valu (0, 0), (0, 1), (1, 0), (1, 1) with  probabl 1 2 , 1 6 , 1 6 , 1 6 respect. otherwis, (xn, yn) take the valu (0, 0), (0, 1), (1, 0), (1, 1) with probabl 1 6 , 1 6 , 1 6 , 1 2 respect. claim: under distribut pn, for all i < n, p(cn(x, y) = 1|xi = 1) = p(cn(x, y) = 1|xi = 0). 162 proof of claim: a similar calcul to that us for c2 abov show that the valu of cn(x, y) under thi  distribut is statist independ of cn−1(x−n , y−n ). for i < n, xi can affect the valu of cn onli through cn−1. also, by contruct of pn, given the valu of cn−1, the  distribut of cn is independ of xi. it follow that cn(x, y) is statist independ of xi as well. of cours, a similar result hold for yi by symmetri. thu, in the first round, for all i = 1, 2, . . . , n − 1, the bid of agent ai and bi do not reveal anyth about their privat inform. thu, the first-round price doe not reveal ani inform about the valu of (x−n , y−n ). on the other hand, agent an and bn do have differ expect of cn(x) depend on whether their input bit is a 0 or a 1; thu, the first-round price doe reveal whether neither, on, or both of xn and yn ar 1. now, consid a situat in which (xn, yn) take on the valu (1, 0) or (0, 1). we show that, in thi case, after on round we ar left with the residu problem of comput the valu of cn−1(x−n , y−n ) under the prior pn−1. clearli, when xn + yn = 1, cn(x, y) = cn−1(x−n , y−n ). further, accord to the construct of pn, the event (xn+ yn = 1) ha the same probabl (1/3) for all valu of (x−n , y−n ). thu, condit on thi fact doe not alter the probabl distribut over (x−n , y−n ); it must still be pn−1. final, the induct assumpt tell us that solv thi residu problem will take at least n − 1 more round in the worst case and henc that find the valu of cn(x, y) take at least n round in the worst case. 2 5. discuss our result have been deriv in a simplifi model of an inform market. in thi section, we discuss the  applic of these result to more gener trade model. assum that agent bid truthfulli, theorem 2 hold in ani model in which the price is a known stochast  monoton aggreg of agent" bid. while it seem reason that the market price satisfi monoton properti, the exact form of the aggreg function mai not be known if the volum of each user"s trade is not observ; thi  depend on the detail of the market process. theorem 3 and theorem 5 hold more gener; thei onli requir that an agent"s strategi depend onli on her condit  expect of the secur"s valu. perhap the most fragil  result is theorem 4, which reli on the linear form of the shaplei-shubik clear price (in addit to the condit for theorem 2); howev, it seem plausibl that a similar dimens-base bound will hold for other famili of  nonlinear clear price. up to thi point, we have describ the model with the same number of agent as bit of inform. howev, all the result hold even if there is competit in the form of a known number of agent who know each bit of inform. inde, model such competit mai help allevi the strateg problem in our current model. anoth interest approach to address the strateg issu is to consid altern market that ar at least myopic incent compat. on exampl is a  market mechan call a market score rule, suggest by hanson [12]. these market have the properti that a  riskneutr agent"s best myopic strategi is to truthfulli bid her current expect valu of the secur. addition, the number of secur involv in each trade is fix and  publicli known. if the market structur is such that, for  exampl, the current score rule is post publicli after each agent"s trade, then in equilibrium there is common  knowledg of all agent" expect, and henc theorem 2 hold. theorem 3 also appli in thi case, and henc we have the same character for the set of comput boolean function. thi suggest that the problem of elicit  truth respons mai be orthogon to the problem of  comput the desir aggreg, reminisc of the revel principl [18]. in thi paper, we have restrict our attent to the simplest possibl aggreg problem: comput boolean function of boolean input. the proof of theorem 3 and 5 also hold if we consid boolean function of real input, where each agent"s privat inform is a real number. further, theorem 2 also hold provid the market reach equilibrium. with real input and arbitrari prior  distribut, howev, it is not clear that the market will reach an equilibrium in a finit number of step. 6. conclus 6.1 summari we have frame the process of inform aggreg in market as a comput on distribut inform. we have develop a simplifi model of an inform  market that we believ captur mani of the import aspect of real agent interact in an inform market. within thi model, we prove sever result character precis what the market can comput and how quickli. specif, we show that the market is guarante to converg to the true ration expect equilibrium if and onli if the  secur payoff function is a weight threshold function. we prove that the process wherebi agent reveal their  inform over time and learn from the result announc price take at most n round to converg to the correct full-inform price in the worst case. we show that thi bound is tight within a factor of two. 6.2 futur work we view thi paper as a first step toward understand the comput power of inform market. some  interest and import next step includ gain a better understand of the follow: • the effect of price accuraci and precis: we have  assum that the clear price is known with unlimit precis; in practic, thi will not be true. further, we have neglect influenc on the market price other than from ration trader; the market price mai also be influenc by other factor such as misinform or irrat trader. it is interest to ask what  aggreg can be comput even in the presenc of noisi price. • increment updat: if the agent have comput the valu of the function and a small number of input bit ar switch, can the new valu of the function be comput increment and quickli? • distribut comput: in our model, distribut  inform is aggreg through a central market 163 comput. in a sens, some of the comput  itself is distribut among the particip agent, but can the market comput also be distribut? for exampl, can we find a good distribut-comput model of a decentr market? • agent" comput: we have not account for the complex of the comput that agent must do to accur updat their belief after each round. • strateg market model: for reason of simplic and tractabl, we have directli assum that agent bid truthfulli. a more satisfi approach would be to  assum onli ration and solv for the result  gametheoret solut strategi, either in our current  comput model or anoth model of an inform market. • the common-prior assumpt: can we sai anyth about the market behavior when agent" prior ar onli approxim the same or when thei differ  greatli? • averag-case analysi: our neg result (theorem 3 and 5) examin worst-case scenario, and thu  involv veri specif prior probabl distribut. it is interest to ask whether we would get veri differ result for gener prior distribut. • inform market design: non-threshold function can be implement by layer two or more  threshold function togeth. what is the minimum number of threshold secur requir to implement a given function? thi is exactli the problem of minim the size of a neural network, a well-studi problem known to be np-hard [15]. what configur of  secur can best approxim a given function? ar there wai to defin and configur secur to speed up converg to equilibrium? what is the  relationship between machin learn (e.g., neural-network learn) and inform-market design? acknowledg we thank joe kilian for mani help discuss. we thank robin hanson and the anonym review for us  insight and pointer. 7. refer [1] k. j. arrow. the role of secur in the optim alloc of risk-bear. review of econom studi, 31(2):91-96, 1964. [2] j. bergin and a. brandenburg. a simpl character of stochast monoton function. econometrica, 58(5):1241-1243, sept. 1990. [3] s. debnath, d. m. pennock, c. l. gile, and s. lawrenc. inform incorpor in onlin in-game sport bet market. in proceed of the fourth annual acm confer on electron commerc (ec"03), june 2003. [4] p. dubei, j. geanakoplo, and m. shubik. the revel of inform in strateg market game: a critiqu of ration expect equilibrium. journal of mathemat econom, 16:105-137, 1987. [5] r. fagin, j. y. halpern, y. mose, and m. y. vardi. reason about knowledg. mit press, cambridg, ma, 1996. [6] r. forsyth and r. lundholm. inform aggreg in an experiment market. econometrica, 58(2):309-347, 1990. [7] r. forsyth, f. nelson, g. r. neumann, and j. wright. anatomi of an experiment polit stock market. american econom review, 82(5):1142-1161, 1992. [8] r. forsyth, t. a. rietz, and t. w. ross. wish, expect, and action: a survei on price format in elect stock market. journal of econom behavior and organ, 39:83-110, 1999. [9] j. m. gandar, w. h. dare, c. r. brown, and r. a. zuber. inform trader and price variat in the bet market for profession basketbal game. journal of financ, liii(1):385-401, 1998. [10] j. geanakoplo and h. polemarchaki. we can"t disagre forev. journal of econom theori, 28(1):192-200, 1982. [11] s. j. grossman. an introduct to the theori of ration expect under asymmetr inform. review of econom studi, 48(4):541-559, 1981. [12] r. hanson. combinatori inform market design. inform system frontier, 5(1), 2002. [13] m. jackson and j. peck. asymmetr inform in a strateg market game: reexamin the implic of ration expect. econom theori, 13:603-628, 1999. [14] j. c. jackwerth and m. rubinstein. recov probabl distribut from option price. journal of financ, 51(5):1611-1631, dec. 1996. [15] j.-h. lin and j. s. vitter. complex result on learn by neural net. machin learn, 6:211-230, 1991. [16] r. e. luca. expect and the neutral of monei. journal of econom theori, 4(2):103-24, 1972. [17] m. magil and m. quinzii. theori of incomplet market, vol. 1. mit press, 1996. [18] a. ma-colel, m. d. whinston, and j. r. green. microeconom theori. oxford univers press, new york, 1995. [19] r. d. mckelvei and t. page. common knowledg, consensu, and aggreg inform. econometrica, 54(1):109-127, 1986. [20] p. milgrom and n. stokei. inform, trade, and common knowledg. journal of econom theori, 26:17-27, 1982. [21] l. t. nielsen, a. brandenburg, j. geanakoplo, r. mckelvei, and t. page. common knowledg of an aggreg of expect. econometrica, 58(5):1235-1238, 1990. [22] d. m. pennock, s. debnath, e. j. glover, and c. l. gile. model inform incorpor in market, with applic to detect and explain event. in proceed of the eighteenth confer on uncertainti in artifici intellig, 2002. 164 [23] d. m. pennock, s. lawrenc, c. l. gile, and f. ˚a. nielsen. the real power of artifici market. scienc, 291:987-988, februari 2001. [24] d. m. pennock, s. lawrenc, f. ˚a. nielsen, and c. l. gile. extract collect probabilist forecast from web game. in proceed of the 7th acm sigkdd intern confer on knowledg discoveri and data mine, page 174-183, 2001. [25] c. r. plott and s. sunder. ration expect and the aggreg of divers inform in laboratori secur market. econometrica, 56(5):1085-1118, 1988. [26] c. r. plott, j. wit, and w. c. yang. parimutuel bet market as inform aggreg devic: experiment result. technic report social scienc work paper 986, california institut of technolog, apr. 1997. [27] c. schmidt and a. werwatz. how accur do market predict the outcom of an event? the euro 2000 soccer championship experi. technic report 09-2002, max planck institut for research into econom system, 2002. [28] l. shaplei and m. shubik. trade us on commod as a mean of payment. journal of polit economi, 85:937-968, 1977. [29] y. shoham and m. tennenholtz. ration comput and the commun complex of auction. game and econom behavior, 35(1-2):197-211, 2001. [30] r. h. thaler and w. t. ziemba. anomali: parimutuel bet market: racetrack and lotteri. journal of econom perspect, 2(2):161-174, 1988. [31] h. r. varian. the arbitrag principl in financi econom. journal of econom perspect, 1(2):55-72, 1987. 165 