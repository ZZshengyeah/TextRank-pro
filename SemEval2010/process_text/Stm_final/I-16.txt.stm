an advanc bid agent for advertis select on public displai alex roger1 , esther david2 , terri r. payn1 and nichola r. jen1 1 electron and comput scienc, univers of southampton, southampton, so17 1bj, uk. {acr,trp,nrj}@ec.soton.ac.uk 2 ashkelon colleg, ashkelon, israel. astrdod@ash-colleg.ac.il abstract in thi paper we present an advanc bid agent that  particip in first-price seal bid auction to alloc advertis space on bluscreen - an experiment public advertis system that detect user through the presenc of their bluetooth enabl  devic. our bid agent is abl to build probabilist model of both the behaviour of user who view the advert, and the auction that it particip within. it then us these model to maximis the exposur that it advert receiv. we evalu the effect of thi bid agent through simul against a rang of altern select mechan includ a simpl bid strategi, random alloc, and a centralis optim alloc with perfect  foresight. our bid agent significantli outperform both the simpl bid strategi and the random alloc, and in a mix  popul of agent it is abl to expos it advert to 25% more user than the simpl bid strategi. moreov, it perform is within 7.5% of that of the centralis optim alloc despit the highli uncertain environ in which it must oper. categori and subject descriptor i.2.11 [distribut artifici intellig]: intellig agent gener term algorithm, design, theori 1. introduct electron displai ar increasingli be us within public  environ, such as airport, citi centr and retail store, in order to advertis commerci product, or to entertain and inform  passersbi. recent, research have begun to investig how the  content of such displai mai be vari dynam over time in order to increas it varieti, relev and exposur [9]. particular  research attent ha focus on the need to take into account the dynam natur of the displai"s audienc, and to thi end, a number of interact public displai have been propos. these displai have typic address the need of a close set of known user with pre-defin interest and requir, and have facilit commun with these user through the activ us of handheld devic such as pda or phone [3, 7]. as such, these system assum prior knowledg about the target audienc, and requir  either that a singl user ha exclus access to the displai, or that user carri specif track devic so that their presenc can be identifi [6, 11]. howev, these approach fail to work in  public space, where no prior knowledg regard the user who mai view the displai exist, and where such displai need to react to the presenc of sever user simultan. by contrast, payn et al. have develop an intellig public displai system, name bluscreen, that detect and track user through the bluetooth enabl devic that thei carri with them  everydai [8]. within thi system, a decentralis multi-agent auction mechan is us to effici alloc advertis time on each public displai. each advert is repres by an individu  advertis agent that maintain a histori of user who have alreadi been expos to the advert. thi agent then seek to acquir advertis cycl (dure which it can displai it advert on the public displai) by submit bid to a marketplac agent who implement a seal bid auction. the valu of these bid is base upon the number of user who ar current present in front of the screen, the histori of these user, and an extern deriv estim of the valu of expos an advert to a user. in thi paper, we present an advanc bid agent that  significantli extend the sophist of thi approach. in particular, we consid the more gener set in which it is imposs to determin an a priori valuat for expos an advert to a user. thi is like to be the case for bluscreen instal within  privat organis where the item be advertis ar  forthcom event or new item of interest to employe and visitor, and thu have no direct monetari valu (inde in thi case bid is like to be conduct in some virtual currenc). in addit, it is also like to be the case within new commerci instal where limit market experi make estim a valuat  imposs. in both case, it is more appropri to assum that an advertis agent will be assign a total advertis budget, and that it will have a limit period of time in which to spend thi  budget (particularli so where the advert ar for forthcom event). the advertis agent is then simpli task with us thi budget to maximum effect (i.e. to achiev the maximum possibl advert exposur within thi time period). now, in order to achiev thi goal, the advertis agent must be capabl of model the behaviour of the user in order to predict the number who will be present in ani futur advertis cycl. in addit, it must also understand the auction environ in which 263 978-81-904262-7-5 (rp) c 2007 ifaama it compet, in order that it mai make best us of it limit budget. thu, in develop an advanc bid agent that achiev thi, we advanc the state of the art in four kei wai: 1. we enabl the advertis agent to model the arriv and departur of user as independ poisson process, and to make maximum likelihood estim of the rate of these process base on their observ. we show how these agent can then calcul the expect number of user who will be present dure ani futur advertis cycl. 2. us a decis theoret approach we enabl the  advertis agent to model the probabl of win ani given  auction when a specif amount is bid. the cumul form of the gamma distribut is us to repres thi probabl, and it paramet ar fit us observ of both the close price of previou auction, and the bid that that  advertis agent itself submit. 3. we show that our explicit assumpt that the advertis agent deriv no addit benefit by show an advert to a singl user more than onc, caus the expect util of each futur advertis cycl to be depend on the expect outcom of all the auction that preced it. we thu present a stochast optimis algorithm base upon simul  anneal that enabl the advertis agent to calcul the  optim sequenc of bid that maximis it expect util. 4. final, we demonstr that thi advanc bid strategi outperform a simpl strategi with none of these featur (within an heterogen popul the advertis agent who us the advanc bid strategi ar abl to expos their advert to 25% more user than those us the simpl bid strategi), and we show that it perform within 7.5% of that of a centralis optimis with perfect knowledg of the number of user who will arriv and depart in all futur advertis cycl. the remaind of thi paper is organis as follow: section 2  discuss relat work where agent and auction-base marketplac ar us to alloc advertis space. section 3 describ the  prototyp bluscreen system that motiv our work. in section 4 we present a detail descript of the auction alloc mechan, and in section 5 we describ our advanc bid strategi for the advertis agent. in section 6 we present an empir valid of our approach, and final, we conclud in section 7. 2. relat work the commerci attract of target advertis ha been  ampli demonstr on the internet, where recommend system and contextu banner advert ar the norm [1]. these system  typic select content base upon prior knowledg of the individu view the materi, and such system work well on person  devic where the owner"s prefer and interest can be gather and cach local, or within interact environ which utilis some form of credenti to identifi the user (e.g. e-commerc site such as amazon.com). attempt to appli these approach within the real world have been much more limit. gerd et al. present a simul system (casi) wherebi a vickrei auction mechan is us to sell  advertis space within a model electron shop mall [2]. the auction is us to rank a set of possibl advertis provid by differ retail outlet, and the top rank advertis ar  select for present on public displai. feedback is provid through subsequ sale inform, allow the model to build up a profil of a user"s prefer. howev, unlik the bluscreen figur 1: a deploi bluscreen prototyp. system that we consid here, it is not suitabl for advertis to mani individu simultan, as it requir explicit interact with a singl user to acquir the user"s prefer. by contrast, mccarthi et al. have present a prototyp  implement of a system (groupcast) that attempt to respond to a group of individu by assum a priori profil of sever  member of the audienc [7]. user identif is base on infrar badg and embed sensor within an offic environ. when sever user pass by the displai, a centralis system compar the user"s profil to identifi common area of interest, and content that match thi common interest is shown. thu, whilst casi is a simul system that allow advertis to compet for the attent of singl user, groupcast is a  prototyp system that detect the presenc of group of user and select content to match their profil. despit their similar, neither system address the set that interest us here: how to alloc advertis space between compet advertis who face an  audienc of multipl individu about whom there is no a priori profil inform. thu, in the next section we describ the prototyp bluscreen system that motiv our work. 3. the bluscreen prototyp bluscreen is base on the notion of a scalabl, extend,  advertis framework wherebi advert can be effici displai to as mani relev user as possibl, within a knowledg-poor  environ. to achiev these goal, sever requir have been identifi: 1. advert should be present to as divers an audienc as  possibl, whilst minimis the number of time the advert is present to ani singl user. 2. user should be identifi by exist ubiquit, consum devic, so that futur deploy within public arena will not requir uptak of new hardwar. 3. the number of displai should be scalabl, such that advert appear on differ displai at differ time. 4. knowledg about observ behaviour and composit of the audienc should be exploit to facilit infer of user interest which can be exploit by the system. to date, a prototyp system that address the first two goal ha been demonstr [8]. thi system us a 23 inch flat-screen  displai deploi within an offic environ to advertis event and new item. rather than requir the deploy of specialis hardwar, such as activ badg (see [11] for detail), bluscreen detect the presenc of user in the vicin of each displai through the bluetooth-enabl devic that thei carri with them everydai1 . 1 devic must be in discoveri mode to detect. 264 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) devic type uniqu sampl devic occasion < 10 135 frequent 10 − 1000 70 persist > 1000 6 tabl 1: number of bluetooth devic observ at differ  frequenc over a six month sampl period. thi approach is attract sinc the bluetooth wireless protocol is characteris by it rel matur, market penetr, and emphasi on short-rang commun. tabl 1 summaris the number of devic detect by thi prototyp instal over a six month period. of the 212 bluetooth devic detect,  approxim 70 were detect regularli, show that bluetooth is a  suitabl proxi for detect individu in front of the screen. in order to achiev a scalabl and extend solut a  multiag system design philosophi is adopt wherebi a number of differ agent type interact (see figur 2). the interact of these agent ar implement through a web servic protocol2 , and thei constitut a decentralis marketplac that alloc  advertis space in an effici and time manner. in more detail, the respons of each agent type ar: bluetooth devic detect agent: thi agent monitor the  environ in the vicin of a bluscreen displai and  determin the number and ident of ani bluetooth devic that ar close by. it keep histor record of the arriv and departur of bluetooth devic, and make thi inform avail to advertis agent as request. marketplac agent: thi agent facilit the sale of advertis space to the advertis agent. a singl marketplac agent repres each bluscreen displai, and access to thi screen is divid into discret advertis cycl of fix durat. befor the start of each advertis cycl, the marketplac agent hold a seal-bid auction (see section 4 for more  detail). the winner of thi auction is alloc access to the displai dure the next cycl. advertis agent: thi agent repres a singl advert and is respons for submit bid to the marketplac agent in order that it mai be alloc advertis cycl, and thu, displai it advert to user. it interact with the devic  detect agent in order to collect inform regard the number and ident of user who ar current in front of the displai. on the basi of thi inform, it past  experi, and it bid strategi, it calcul the valu of the bid that it should submit to the marketplac agent. thu, have describ the prototyp bluscreen system, we next go on to describ the detail of the auction mechan that we consid in thi work, and then the advanc bid agent that oper bid within thi auction. 4. the auction mechan as describ abov, bluscreen is design to effici alloc advertis cycl in a distribut and time manner. thu,  oneshot seal bid auction ar us for the market mechan of the marketplac agent. in previou work, each advertis agent wa assum to have an extern deriv estim of the valu of expos an advert to a user. under thi assumpt, a  secondpric seal-bid auction wa shown to be effect, sinc  adverti2 thi is implement on a distribut mac os x base system us the bonjour network protocol for servic discoveri. advert advert marketplac agent devic id advert advertis agent devic id devic id advertis agent advertis agent bluetoothdevic detectionag 2) bid base on predict futur devic presenc 1) devic presenc detect 3) win agent displai advert on the screen devic id figur 2: the bluscreen agent architectur for a singl displai. ing agent have a simpl strategi of truthfulli bid their  valuat in each auction [8]. howev, as describ earlier, in thi paper we consid the more gener set in which it is imposs to determin an a priori  valuat for expos an advert to a singl user. thi mai be becaus the bluscreen instal is within a privat organis where what is be advertis (e.g. new item or forthcom event) ha no monetari valu, or it mai be a new commerci instal where limit market experi make estim such a valuat imposs. in the absenc of such a valuat, the attract  econom properti of the second-price auction can not be achiev in practis, and thu, in our work there is no need to limit our  attent to the second-price auction. inde, sinc these auction ar actual extrem rare within real world set [10], in thi work we consid the more wide adopt first-price auction sinc thi increas the applic of our result. thu, in more detail, we consid an instanc of a bluscreen  instal with a singl displai screen that is manag by a singl marketplac agent3 . we consid that access to the displai screen is divid into discret advertis cycl, each of length tc, and a first-price seal bid auction is held immedi prior to the start of each advertis cycl. the marketplac agent announc the start and deadlin of the auction, and collect seal bid from each  advertis agent. at the close time of the auction the marketplac agent announc to all particip and observ the amount of the win bid, and inform the win advertis agent that it wa success (the ident of the win advertis agent is not  announc to all observ). in the case that no bid ar place within ani auction, a default advert is displai. have describ the market mechan that the marketplac agent implement, we now go on to describ and evalu an  advanc bid strategi for the advertis agent to adopt. 5. advanc bid strategi as describ abov, we consid the case that the advertis agent do not have an extern deriv estim of the valu of expos the advert to a singl user. rather, thei have a constrain budget, b, and a limit period of interest dure which thei wish to  displai their advert. their goal is then to find the appropri amount to bid within each auction in thi period, in order to maximis the exposur of their advert. in attempt to achiev thi goal the advertis agent is face with a high level of uncertainti about futur event. it will be  uncertain of the number of user who will be present dure ani  advertis cycl sinc even if the number of user current present 3 thi assumpt of have a singl bluscreen instanc is made to simplifi our task of valid the correct and the effici of the propos mechan and strategi, and generalis these result to the case of multipl screen is the aim of our futur work. the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 265 is known, some mai leav befor the advert commenc, and  other mai arriv. moreov, the amount that must be bid to ensur that an auction is won is uncertain sinc it depend on the number and behaviour of the compet advertis agent. thu, we enabl the agent to us it observ of the arriv and departur of user to build a probabilist model, base upon independ poisson process, that describ the number of user who ar like to be expos to ani advert. in addit, we enabl the agent to observ the outcom of previou advertis cycl  auction, and us the observ of the close price, and the success or otherwis of the bid that it itself submit, to build a  probabilist model of the bid requir to win the auction. the agent then us these two model to calcul it expect util in each advertis cycl, and in turn, determin the optim sequenc of bid that  maximis thi util given it constrain budget. have calcul thi sequenc of bid, then the first bid in the sequenc is actual us in the auction for the next advertis cycl. howev, at the close of thi cycl, the process is repeat with a new optim  sequenc of bid be calcul in order take to account of what actual happen in the preced auction (i.e. whether the bid wa success or not, and how mani user arriv or depart). thu, in the next three subsect we describ these two  probabilist model, and their applic within the bid strategi of the advertis agent. 5.1 predict the number of user in order to predict the number of user that will be present in ani futur advertis cycl, it is necessari to propos a probabilist model for the behaviour of the user. thu, our advanc bid strategi assum that their arriv and departur ar determin by two independ poisson process4 with arriv rate, λa, and  departur rate, λd. thi repres a simpl model that is commonli appli within queu theori5 [5], yet is on that we believ well describ the case where bluscreen displai ar place in  commun area where peopl meet and congreg. given the histori of user" arriv and departur obtain from the devic detect agent, the advertis agent make a maximum likelihood  estim of the valu of λa and λd. in more detail, if the advertis agent ha observ n user  arriv within a time period t, then the maximum likelihood  estim for the arriv rate λa is simpli given by: λa = n t (1) likewis, if an agent observ n user each with a durat of stai of t1, t2, . . . , tn time period, then the maximum likelihood  estim for the departur rate λd is given by: 1 λd = 1 n n i=1 ti (2) 4 given a poisson distribut with rate paramet λ, the number of event, n, within an interv of time t is given by: p(n) = e−λt (λt)n n! in addit, the probabl of have to wait a period of time, t, befor the next event is determin by: p(t) = λeλt 5 note howev that in queu theori it is typic the arriv rate and servic time of custom that ar model as poisson  process. our user ar not actual model as a queue sinc the durat of their stai is independ of that of the other user.  0 t t + tc τ (i) n user ? (iii) λatc user ? (ii) λat user ? figur 3: exampl show how to predict the number of user who see an advert shown in an advertis cycl of length tc, commenc at time t in the futur. in environ where these rate ar subject to chang, the agent can us a limit time window over which observ ar us to estim these rate. altern, in situat where cyclic chang in these rate ar like to occur (i.e. chang arriv and departur rate at differ time of the dai, as mai be seen in area where commut pass through), the agent can estim separ valu over each hour long period. have estim the arriv and departur rate of user, and know the number of user who ar present at the current time, the advertis agent is then abl to predict the number of user who ar like to be present in ani futur advertis cycl6 . thu, we consid the problem of predict thi number for an  advertis cycl of durat tc that start at a time t in the futur, given that n user ar current present (see figur 3). thi number will be compos of three factor: (i) the fraction of the n user that ar initi present who do not leav in the interv, 0 ≤ τ < t, befor the advertis cycl commenc, (ii) user that actual arriv in the interv, 0 ≤ τ < t, and ar still present when the advertis cycl actual commenc, and final, (iii) user that arriv dure the cours of the advertis cycl, t ≤ τ < t + tc. now, consid case (i) abov, the probabl of on of the n user still be present when the advertis cycl start is given by ∞ t λde−λdτ dτ = e−λdt . thu we expect ne−λdt of these user to be present. in case (ii), we expect λat new user to  arriv befor the advertis cycl commenc, and the probabl that ani of these will still be there when it actual doe so is given by 1 t t 0 e−λd(t−τ) dτ = 1 λdt 1 − e−λdt . thu we expect λa λd 1 − e−λdt of these user to be present. final, in case (iii) we expect λatc user to arriv dure the cours of the advertis cycl. thu, the combin of these three factor give an  express for the expect number of user who will be present within an advertis cycl of length tc, that commenc at time t in the futur, given that there ar n user current present: nn,t = ne−λdt + λa λd 1 − e−λdt + λatc (3) note that as t increas the result becom less depend upon the initi number of user, n. the mean number of user present at ani time is simpli λa/λd, and the mean number of user expos to an advert in ani advertis cycl is given by λa tc + 1 λd . 5.2 predict the probabl of win in addit to estim the number of user who will be present in ani advertis cycl, an effect bid agent must also be abl to predict the probabl of it win an auction given that it submit ani specifi bid. thi is a common problem within  bid agent, and approach can gener be classifi as game theoret or decis theoret. sinc our advertis agent ar unawar of the number or ident of the compet advertis 6 note that we do not requir a user to be present for the entir advertis cycl in order to be count as present. 266 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) agent, the game theoret approach is preclud. thu, we take a decis theoret approach similar to that adopt within  continu doubl auction where bid agent estim the market price of good by observ transact price [4]. thu, our advertis agent us a parameteris function to describ the probabl of win the auction given ani submit bid, p(b). thi function must have support [0, ∞) sinc bid must be posit. in addit, we expect it to exhibit by an ‘s" shape curv wherebi the probabl of win an auction is small when the submit bid is veri low, the probabl is close to on when the bid is veri high, and there is a transit point that characteris the chang from a lose to a wine bid. to thi end, we us the cumul form of the gamma distribut for thi function: p(b) = γ (k, b/θ) Γ (k) (4) where Γ(k) is the standard gamma function, and γ (k, b/θ) is the incomplet gamma function. thi function ha the necessari  properti describ abov, and ha two paramet, k and θ. the  transit point where p(b) = 0.5 is given by kθ and the sharp of the transit is describ by kθ2 . in figur 4 we show exampl of thi function for three differ valu of k and θ. the advertis agent choos the most appropri valu of k and θ by fit the probabl function to observ of previou auction. an observ is a pair {bi, oi} consist of the bid, bi, and an auction outcom, oi. each auction gener at least on pair in which bi is equal to the close price of the auction, and oi = 1. in addit, anoth pair is gener for each unsuccess bid submit by the advertis agent itself, and in thi case oi = 0. thu, have collect n such pair7 , the agent find the valu of k and θ by evalu: arg min k,θ n i=1 oi − γ (k, bi/θ) Γ (k) 2 (5) thi express can not be evalu analyt, but can be simpli found us a numer gradient descent method wherebi the  valu of k and θ ar initi estim us their relationship to the transit point describ abov. the gradient of thi express is then numer evalu at these point, and new estim of k and θ calcul by make a fix size move in the direct of maximum gradient. thi process is repeat until k and θ have converg to an appropri degre of accuraci. 5.3 expect util of an advertis cycl the goal of the advertis agent is to gain the maximum exposur for it advert given it constrain budget. we defin the util of ani advertis cycl as the expect number of user who will see the advert for the first time dure that cycl, and henc, we explicitli assum that no addit util is deriv by show the advert to ani user more than onc8 . thu, we can us the result of the previou two section to calcul the expect util of each advertis cycl remain within the advertis agent"s period of 7 in the case that no unsuccess bid have been observ, there is no evid of where the transit point between success and unsuccess bid is like to occur. thu, in thi case, an  addit pair with valu {α min(b1 . . . bn), 0} is automat  creat. here α ∈ [0, 1] determin how far below the lowest  success bid the advertis agent believ the transit point to be. we have typic us α = 0.5 within our experi. 8 as note befor, we assum that a user ha seen the advert if thei ar present dure ani part of the advertis cycl, and we do not differenti between user who see the entir advert, or user who see a fraction of it. 0 10 20 30 40 0 0.2 0.4 0.6 0.8 1 probabl of win auction p(b) bid (b) k = 5 k = 10 k = 20 figur 4: cumul gamma distribut repres the probabl of win an auction (θ = 1 and k = 5, 10 & 20). interest. in the first advertis cycl thi is simpli determin by the probabl of the advertis agent win the auction, given that it submit a bid b1, and the number of user who ar current in front of the bluscreen displai, but have not seen the advert befor, is n. thu, the expect util of thi advertis cycl is simpli describ by: u1 = p(b1)nn,0 (6) now, in the second advertis cycl, the expect util will clearli depend on the outcom of the auction for the first. if the first  auction wa inde won by the agent, then there will be no user who have yet to see the advert present at the start of the second  advertis cycl. thu, in thi case, the expect number of new user who will see the advert in the second advertis cycl is describ by n0,0 (i.e. onli newli arriv user will contribut ani util). by contrast, if the first auction wa not won by the agent, then the expect number of user who have yet to see the advert is given by nn,tc where tc is the length of the preced advert cycl (i.e. exactli the case describ in section 5.1 where there ar n user initi present and the advertis cycl start at a time tc in the futur). thu, the expect util of the second advertis cycl is given by: u2 = p(b2) [p(b1)n0,0 + (1 − p(b1))nn,tc ] (7) we can generalis thi result by note that the number of user  expect to be present within ani futur advertis cycl will depend on the number of cycl sinc an auction wa last won (sinc at thi point the number of user who ar present but have not seen the advert must be equal to zero). thu, we must sum over all possibl wai in which thi can occur, and weight each by it probabl. henc, the gener case for ani advertis cycl is describ by the rather complex express: ui = p(bi) i−1 j=1 n0,(i−j−1)tc p(bj) i−1 m=j+1 (1 − p(bm)) + nn,(i−1)tc i−1 m=1 (1 − p(bm)) (8) thu, given thi express, the goal of the advertis agent is to calcul the sequenc of bid over the c remain auction, such that the total expect util is maximis, whilst ensur that the remain budget, b, is not exceed: arg max b1...bc c i=1 ui such that c i=1 bi = b (9) the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 267 0 0.25 0.5 0.75 1 0 1 2 3 4 5 6 expect util (u) b 1 / b b = 5 b = 10 b = 20 b = 30 b = 40 figur 5: total expect util of the advertis agent over a continu rang of valu of b1 for a number of discret valu of budget, b, when there ar just two auction cycl. have calcul thi sequenc, a bid of b1 is submit in the next auction. onc the outcom of thi auction is known, the process repeat with a new optim sequenc of bid be calcul for the remain advertis cycl of the agent"s period of interest. 5.4 optim sequenc of bid solv for the optim sequenc of bid express in equat 9 can not be perform analyt. instead we develop a numer routin to perform thi maximis. howev, it is inform to initi consid the simpl case of just two auction. 5.4.1 two auction exampl in thi case the expect util of the advertis agent is simpli given by u1 + u2 (as describ in equat 6 and 7), and the  bid sequenc is sole depend on b1 (sinc b2 = b−b1). thu, we can plot the total expect util against b1 and graphic  determin the optim valu of b1 (and thu also b2). to thi end, figur 5 show an exampl calcul us  paramet valu λa = 1/120, λd = 1/480 and tc = 120. in thi case, we assum that k = 10 and θ = 1, and thu, given that kθ describ the midpoint of the cumul gamma distribut, a bid of 10  repres a 50% chanc of win ani auction (i.e. p(10) = 0.5). in addit, we assum that n = λa/λd = 4, and thu the initi number of user present is equal to the mean number that we expect to find present at ani time. the plot indic that when the budget is small, then the maximum util is achiev at the extrem valu of b1. thi correspond to bid in just on of the two auction (i.e. b1 = 0 and b2 = b or b1 = b and b2 = 0). howev, as the budget increas, the plot pass through a transit wherebi the maximum util occur at the midpoint of the x-axi,  correspond to bid equal in both auction (i.e. b1 = b2 = b/2). thi is simpli understood by the fact that continu to alloc the budget to a singl auction result in diminish return as the probabl of actual win thi auction approach on. in thi case, the plot is complet symmetr sinc the  number of user present at the start is equal to it expect valu (i.e. n = λa/λd). if howev, n < λa/λd the plot is skew such that when the budget is small, it should be alloc to the second  auction (sinc more user ar expect to arriv befor thi advertis cycl commenc). convers, when n > λa/λd the entir  budget should be alloc to the first auction (sinc the user who ar current present ar like to depart in the near futur). howev, in both case, a transit occur wherebi given suffici budget it is prefer to alloc the budget evenli between both auction9 . 9 in fact, on auction is still slightli prefer, but the differ in temp ← 1 rate ← 0.995 bold ← initi random alloc uold ← evalu(bold ) while temp > 0.0001 i, j ← random integ index within b t ← random real number between 0 and bi bnew ← bold bnew i ← bold i − t bnew j ← bold j + t unew ← evalu(bnew ) if rand < exp((unew − uold )/temp) then bold ← bnew uold ← unew endif temp ← temp × rate endwhil figur 6: stochast optimis algorithm to calcul the  optim sequenc of bid in the gener case of multipl auction. 5.4.2 gener case in gener, the behaviour seen in the previou exampl  characteris the optim bid behaviour of the advertis agent. if there is suffici budget, bid equal in all auction result in the maximum expect util. howev, typic thi is not  possibl and thu util is maximis by concentr what budget is avail into a subset of the avail auction. the choic of thi subset is determin by a number of factor. if there ar veri few user current present, it is optim to alloc the budget to later auction in the expect that more user will arriv.  convers, if there ar mani user present, a signific proport of the budget should be alloc to the first auction to ensur that it is inde won, and these user see the advert. final, sinc no util is deriv by show the advert to a singl user more than onc, the budget should be alloc such that there ar interv between show of the advert, in order that new user mai arriv. now, due to the complex form of the express for the expect util of the agent (shown in equat 8) it is not possibl to  analyt calcul the optim sequenc of bid. howev, the invers problem (that of calcul the expect util for ani given  sequenc of bid) is easi. thu, we can us a stochast optimis routin base on simul anneal to solv the maximis problem. thi algorithm start by assum some initi random alloc of bid (normalis such that the total of all the bid is equal to the budget b). it then make small adjust to thi  alloc by randomli transfer the budget from on auction to anoth. if thi transfer result in an increas in expect util, then it is accept. if it result in a decreas in expect util, it might still be accept, but with a probabl that is determin by a temperatur paramet. thi temperatur paramet is anneal such that the probabl of accept such transfer decreas over time. in figur 6 we present thi algorithm in pseudo-code. 6. evalu in order to evalu the effect of the advanc bid  strategi develop within thi paper we compar it perform to three altern mechan. on of these mechan repres a simpl altern bid strategi for the advertis agent, whilst the other two ar centralis alloc mechan that repres expect util between thi and an even alloc is negliabl. 268 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 20 30 40 50 60 0 0.2 0.4 0.6 0.8 1 number advertis agent mean normalis exposur random alloc simpl bid strategi advanc bid strategi optim alloc figur 7: comparison of four differ alloc mechan for alloc advertis cycl to advertis agent. result ar averag over 50 simul run and error bar indic the standard error in the mean. the upper and lower bound to the overal perform of the  system. in more detail, the four mechan that we compar ar: random alloc: rather than implement the auction  mechan, the advertis cycl is randomli alloc to on of the advertis agent. simpl bid strategi: we implement the full auction  mechan but with a popul of advertis agent that  emploi a simpl bid strategi. these advertis agent do not attempt to model the user or the auction environ in which thei bid, but rather, thei simpli evenli alloc their remain budget over the remain advertis cycl. advanc bid strategi: we implement the full auction  mechan with a popul of advertis agent us the  probabilist model and the bid strategi describ here. optim alloc: rather than implement the auction  mechan, the advertis cycl is alloc to the advertis agent that will deriv the maximum util from it, given  perfect knowledg of the number of user who will arriv and depart in all futur advertis cycl. us these four altern alloc mechan, we ran repeat simul of two hour of oper of the entir bluscreen  environ for a default set of paramet wherebi the arriv and departur rate of the user ar given by λa = 1/120s and λd = 1/480s, and the length of an advertis cycl is 120s. each  advertis agent is assign an advert with a period of interest drawn from a poisson distribut with a mean of 8 advertis cycl, and these agent ar initi alloc a budget equal to 10 time their period of interest. for each simul run, we measur the mean normalis exposur of each advert. that is, the fraction of user who were detect by the bluscreen displai dure the period of interest of the advertis agent who were actual expos to the agent"s advert. thu a mean normalis exposur of 1 indic that the agent manag to expos it advert to all of the user who were present dure it period of interest (and a mean normalis exposur of 0 mean that no user were expos to the advert). figur 7 show the result of thi experi. we first observ the gener result that as the number of advertis agent increas, and thu the competit between them increas, then the mean normalis exposur of all alloc mechan decreas. we then observ that in all case, there is no statist signific improv in us the simpl bid strategi compar to  random alloc (p > 0.25 in student"s t-test). sinc thi simpl  bid strategi doe not take account of the number of user present, and in gener, simpli increas it bid price in each auction until it doe in fact win on, thi is not unexpect. howev, in all case the advanc bid strategi doe inde significantli outperform the simpl bid agent (p < 0.0005 in student"s t-test), and it perform is within 7.5% of that of the optim alloc that ha perfect knowledg of the number of user who will arriv and depart in all futur advertis cycl. in addit, we present result of experi perform over a rang of paramet valu, and also with a mix popul of  advertis agent us both the advanc and simpl bid  strategi. thi is an import scenario sinc advertis mai wish to suppli their own bid agent, and thu, a homogen  popul is not guarante. in each case, keep all other paramet fix, we vari on paramet, and these result ar shown in  figur 8. in gener, we see the similar trend as befor. increas the departur rate caus an decreas in the mean normalis  exposur sinc advertis agent have less opportun to expos user to their advert. increas the period of interest of each agent decreas the mean normalis exposur, sinc more  advertis agent ar now compet for the same user. final,  increas the arriv rate of the user caus the result of the simpl and advanc bid strategi to approach on anoth, sinc the varianc in the number of user who ar present dure ani  advertis cycl decreas, and thu, model their behaviour provid less gain. howev, in all case, the advanc bid strategi  significantli outperform the simpl on (p < 0.0005 in student"s t-test). on averag, we observ that advertis agent who us the advanc bid strategi ar abl to expos their advert to 25% more user than those us the simpl bid strategi. final, we show that a ration advertis agent, who ha a choic of bid strategi, would alwai opt to us the advanc bid strategi over the simpl bid strategi, regardless of the composit of the popul that it find itself in. figur 9 show the averag normalis exposur of the advertis agent when the popul is compos of differ fraction of the two  bid strategi. in each case, the advanc bid strategi show a signific gain in perform compar to the simpl bid strategi (p < 0.0005 in student"s t-test), and thu, gain improv exposur over all popul composit. 7. conclus in thi paper, we present an advanc bid strategi for us by advertis agent within the bluscreen advertis system. thi bid strategi enabl advertis agent to model and predict the arriv and departur of user, and also to model their  success within a first-price seal bid auction by observ both the bid that thei themselv submit and the win bid. the  exth sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 269 1/600 1/480 1/360 0 0.2 0.4 0.6 0.8 departur rate (λ )d mean normalis exposur simpl bid strategi advanc bid strategi 6 8 10 0 0.2 0.4 0.6 0.8 mean period of interest (cycl) mean normalis exposur simpl bid strategi advanc bid strategi 1/240 1/120 1/80 0 0.2 0.4 0.6 0.8 arriv rate (λ )a mean normalis exposur simpl bid strategi advanc bid strategi (a) (b) (c) figur 8: comparison of an evenli mix popul of advertis agent us simpl and advanc bid strategi over a rang of paramet set. result ar averag over 50 simul run and error bar indic the standard error in the mean. 1/39 5/35 10/30 20/20 30/10 5/35 1/39 0 0.2 0.4 0.6 0.8 number of advertis agent mean normalis exposur simpl bid strategi advanc bid strategi figur 9: comparison of an unevenli mix popul of advertis agent us simpl and advanc bid strategi. result ar averag over 50 simul run and error bar indic the standard error in the mean. pect util, measur as the number of user who the advertis agent expos it advert to, wa shown to depend on these factor, and result in a complex express where the expect util of each auction depend on the success or otherwis of earlier  auction. we present an algorithm base upon simul anneal to solv for the optim bid strategi, and in simul, thi bid strategi wa shown to significantli outperform a simpl bid strategi that had none of these featur. it perform close approach that of a central optim alloc, with  perfect knowledg of the arriv and departur of user, despit the uncertain environ in which the strategi must oper. our futur work in thi area consist of extend thi bid strategi to richer environ where there ar multipl  interrel displai screen, where maintain profil of user allow a richer match of user to advert, and where altern auction mechan ar appli (we a particularli interest in  introduc a ‘pai per user" auction set similar to the ‘pai per click" auction emploi by internet search websit). thi work will continu to be done in conjunct with the deploy of more bluscreen prototyp in order to gain further real world experi. 8. acknowledg the author would like to thank heather packer and matthew  sharifi (support by the aladdin project - www.aladdinproject.org) for their help in develop the deploi prototyp. 9. refer [1] a. amiri and s. menon. effici schedul of internet banner advertis. acm transact on internet technolog, 3(4):334-346, 2003. [2] s. m. boht, e. gerd, and h. l. poutr. market-base recommend: agent that compet for consum attent. acm transact on internet technolog, 4(4):420-448, 2004. [3] k. cheverst, a. dix, d. fitton, c. krai, m. rouncefield, c. sa, g. sasli-lagoudaki, and j. g. sheridan. explor bluetooth base mobil phone interact with the herm photo displai. in proc. of the 7th int. conf. on human comput interact with mobil devic & servic, page 47-54, salzburg, austria, 2005. [4] s. gjerstad and j. dickhaut. price format in doubl auction. game and econom behavior, (22):1-29, 1998. [5] d. gross and c. m. harri. fundament of queue theori. wilei, 1998. [6] j. hightow and g. borriella. locat system for ubiquit comput. ieee comput, 34(8):57-66, 2001. [7] j. f. mccarthi, t. j. costa, and e. s. liongosari. unicast, outcast & groupcast: three step toward ubiquit, peripher displai. in proc. of the 3rd int. conf. on ubiquit comput, page 332-345, atlanta, usa, 2001. [8] t. r. payn, e. david, m. sharifi, and n. r. jen. auction mechan for effici advertis select on public displai. in proc. of the 17th european conf. on artifici intellig, page 285-289, trentino, itali, 2006. [9] a. ranganathan and r. h. campbel. advertis in a pervas comput environ. in proc. of the 2nd int. workshop on mobil commerc, page 10-14, atlanta, georgia, usa, 2002. [10] m. rothkopf, t. teisberg, and e. kahn. why ar vickrei auction rare? journal of polit economi, 98(1):94-109, 1990. [11] r. want, a. hopper, v. falcao, and j. gibbon. the activ badg locat system. acm transact on inform system, 10(1):91-102, 1992. 270 the sixth intl. joint conf. on autonom agent and multi-agent system (aama 07) 