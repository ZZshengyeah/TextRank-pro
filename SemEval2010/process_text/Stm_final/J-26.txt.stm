combinatori agenc [extend abstract] ∗ mosh babaioff school of inform manag and system uc berkelei berkelei, ca, 94720 usa mosh@sim.berkelei.edu michal feldman school of engin and comput scienc the hebrew univers of jerusalem jerusalem, 91904 israel mfeldman@cs.huji.ac.il noam nisan school of engin and comput scienc the hebrew univers of jerusalem jerusalem, 91904 israel noam@cs.huji.ac.il abstract much recent research concern system, such as the  internet, whose compon ar own and oper by differ parti, each with hi own selfish goal. the field of  algorithm mechan design handl the issu of privat  inform held by the differ parti in such comput set. thi paper deal with a complementari problem in such set: handl the hidden action that ar  perform by the differ parti. our model is a combinatori variant of the classic  principalag problem from econom theori. in our set a  princip must motiv a team of strateg agent to exert costli effort on hi behalf, but their action ar hidden from him. our focu is on case where complex combin of the effort of the agent influenc the outcom. the princip motiv the agent by offer to them a set of contract, which togeth put the agent in an equilibrium point of the induc game. we present formal model for thi set, suggest and embark on an analysi of some basic issu, but leav mani question open. categori and subject descriptor j.4 [social and behavior scienc]: econom; k.4.4 [electron commerc]: payment scheme; c.2.4  [computercommun network]: distribut system gener term design, econom, theori 1. introduct 1.1 background on of the most strike characterist of modern  comput network - in particular the internet - is that differ part of it ar own and oper by differ individu, firm, and organ. the analysi and design of  protocol for thi environ thu natur need to take into account the differ selfish econom interest of the  differ particip. inde, the last few year have seen much work address thi issu us game-theoret  notion (see [7] for an influenti survei). a signific part of the difficulti stem from underli asymmetri of  inform: on particip mai not know everyth that is known or done by anoth. in particular, the field of  algorithm mechan design [6] us appropri incent to extract the privat inform from the particip. thi paper deal with the complementari lack of  knowledg, that of hidden action. in mani case the actual  behavior - action - of the differ particip ar hidden from other and onli influenc the final outcom indirectli. hidden here cover a wide rang of situat includ not precis measur, costli to determin, or even non-contract - mean that it can not be formal us in a legal contract. an exampl that wa discuss in [3] is qualiti of servic rout in a network: everi intermedi link or router mai exert a differ amount of effort (prioriti, bandwidth, ...) when attempt to forward a packet of inform. while the final outcom of whether a packet reach it destin is clearli visibl, it is rare feasibl to monitor the exact amount of effort exert by each intermedi link - how can we ensur that thei realli do exert the appropri amount of effort? mani other complex resourc alloc problem exhibit similar hidden action, e.g., a task that run on a collect of share server mai be alloc, by each server, an unknown percentag of the cpu"s process power or of the physic memori. how can we ensur that the right combin of alloc is actual made by the differ server? a relat class of exampl concern secur issu: each link in a complex system mai exert differ level of effort for protect some desir secur properti of the system. how can we ensur that the desir level of 18 collect secur is obtain? our approach to thi problem is base on the well  studi princip-agent problem in econom theori: how can a princip motiv a ration agent to exert costli effort toward the welfar of the princip? the crux of the model is that the agent"s action (i.e. whether he exert effort or not) is invis to the princip and onli the final outcom, which is probabilist and also influenc by other factor, is visibl. thi problem is well studi in mani context in classic econom theori and we refer the reader to  introductori text on econom theori such as [5] chapter 14. the solut is base on the observ that a properli  design contract, in which the payment ar conting upon the final outcom, can influenc a ration agent to exert the requir effort. in thi paper we initi a gener studi of handl  combin of agent rather than a singl agent. while much work wa alreadi done on motiv team of agent [4], our emphasi is on deal with the complex combinatori structur of depend between agent" action. in the gener case, each combin of effort exert by the n differ agent mai result in a differ expect gain for the princip. the gener question ask which condit payment should the princip offer to which agent as to maxim hi net util? in our set and unlik in  previou work (see, e.g., [12]), the main challeng is to determin the optim amount of effort desir from each agent. thi paper suggest model for and provid some  interest initi result about thi combinatori agenc  problem. we believ that we have onli scratch the surfac and leav mani open question, conjectur, and direct for further research. we believ that thi type of analysi mai also find  applic in regular econom activ. consid for exampl a firm that sub-contract a famili of relat task to mani individu (or other firm). it will often not be possibl to exactli monitor the actual effort level of each sub-contractor (e.g., in case of public-relat activ, consult  activ, or ani activ that requir cooper between differ sub-contractor.) when the depend between the differ subtask ar complex, we believ that  combinatori agenc model can offer a foundat for the design of contract with appropri incent. it mai also be us to view our work as part of a gener research agenda stem from the fact that all type of econom activ ar increasingli be handl with the aid of sophist comput system. in gener, in such computer set, complex scenario involv multipl agent and good can natur occur, and thei need to be algorithm handl. thi call for the studi of the standard issu in econom theori in new complex set. the princip-agent problem is a prime exampl where such complex set introduc new challeng. 1.2 our model we start by present a gener model: in thi model each of n agent ha a set of possibl action, the  combin of action by the player result in some outcom, where thi happen probabilist. the main part of the specif of a problem in thi model is a function that specifi thi distribut for each n-tupl of agent" action. addition, the problem specifi the princip"s util for each possibl outcom, and for each agent, the agent"s cost for each possibl action. the princip motiv the agent by offer to each of them a contract that specifi a  payment for each possibl outcom of the whole project1 . kei here is that the action of the player ar non-observ and thu the contract cannot make the payment directli conting on the action of the player, but rather onli on the outcom of the whole project. given a set of contract, the agent will each optim hi own util: i.e. will choos the action that maxim hi expect payment minu the cost of hi action. sinc the outcom depend on the action of all player togeth, the agent ar put in a game and ar assum to reach a nash equilibrium2 . the princip"s problem, our problem in thi paper, is of design an optim set of contract: i.e.  contract that maxim hi expect util from the outcom, minu hi expect total payment. the main difficulti is that of determin the requir nash equilibrium point. in order to focu on the main issu, the rest of the paper deal with the basic binari case: each agent ha onli two possibl action exert effort and shirk and there ar onli two possibl outcom success and failur. it seem that thi case alreadi captur the main interest ingredi3 . in thi case, each agent"s problem boil down to whether to exert effort or not, and the princip"s problem boil down to which agent should be contract to exert effort. thi model is still pretti abstract, and everi problem descript contain a complet tabl specifi the success probabl for each subset of the agent who exert effort. we then consid a more concret model which concern a subclass of problem instanc where thi exponenti size tabl is succinctli repres. thi subclass will provid mani natur type of problem instanc. in thi subclass everi agent perform a subtask which succe with a low probabl γ if the agent doe not exert effort and with a higher probabl δ > γ, if the agent doe exert effort. the whole project succe as a determinist boolean function of the success of the subtask. thi boolean function can now be repres in variou wai. two basic exampl ar the and function in which the project succe onli if all subtask succe, and the or function which succe if ani of the subtask succe. a more complex exampl consid a commun network, where each agent  control a singl edg, and success of the subtask mean that a messag is forward by that edg. effort by the edg increas thi success probabl. the complet project  succe if there is a complet path of success edg between a given sourc and sink. complet definit of the model appear in section 2. 1.3 our result 1 on could think of a differ model in which the agent have intrins util from the outcom and payment mai not be need, as in [10, 11]. 2 in thi paper our philosophi is that the princip can  suggest a nash equilibrium point to the agent, thu  focus on the best nash equilibrium. on mai altern studi the worst case equilibrium as in [12], or altern, attempt model some kind of an extens game between the agent, as in [9, 10, 11]. 3 howev, some of the more advanc question we ask for thi case can be view as instanc of the gener model. 19 we address a host of question and prove a larg number of result. we believ that despit the larg amount of work that appear here, we have onli scratch the surfac. in mani case we were not abl to achiev the gener  character theorem that we desir and had to settl for analyz special case or prove partial result. in mani case, simul reveal structur that we were not abl to formal prove. we present here an inform overview of the issu that we studi, what we were abl to do, and what we were not. the full treatment of most of our result appear onli in the extend version [2], and onli some ar discuss, often with associ simul result, in the bodi of the paper. our first object of studi is the structur of the class of set of agent that can be contract for a given problem instanc. let us fix a given function describ success  probabl, fix the agent"s cost, and let us consid the set of contract agent for differ valu of the princip"s  associ valu from success. for veri low valu, no agent will be contract sinc even a singl agent"s cost is higher than the princip"s valu. for veri high valu, all agent will alwai be contract sinc the margin contribut of an agent multipli by the princip"s valu will overtak ani associ payment. what happen for intermedi princip"s valu? we first observ that there is a finit number of  transit between differ set, as the princip"s project valu increas. these transit behav veri differ for  differ function. for exampl, we show that for the and function onli a singl transit occur: for low enough  valu no agent will be contract, while for higher valu all agent will be contract - there is no intermedi rang for which onli some of the agent ar contract. for the or function, the situat is opposit: as the princip"s valu increas, the set of contract agent increas on-by-on. we ar abl to fulli character the type of function for which these two extrem type of transit behavior occur. howev, the structur of these transit in gener seem quit complex, and we were not abl to fulli analyz them even in simpl case like the major function (the project succe if a major of subtask succe) or veri simpl network. we do have sever partial result, includ a construct with an exponenti number of transit. dure the previou analysi we also studi what we term the price of unaccount: how much is the social  util achiev under the optim contract wors than what could be achiev in the non-strateg case4 , where the  social optim action ar simpli dictat by the princip? we ar abl to fulli analyz thi price for the and  function, where it is shown to tend to infin as the number of agent tend to infin. more gener analysi remain an open problem. our analysi of these question shed light on the  difficulti of the variou natur associ algorithm  problem. in particular, we observ that the optim contract can be found in time polynomi in the explicit  represent of the probabl function. we prove a lower bound that show that the optim contract cannot be found in number of queri that is polynomi just in the number of agent, in a gener black-box model. we also show that when the probabl function is succinctli repres as 4 the non-strateg case is often refer to as the case with contract action or the princip"s first-best solut. a read-onc network, the problem becom #p-hard. the statu of some algorithm question remain open, in  particular that of find the optim contract for technolog defin by serial-parallel network. in a follow-up paper [1] we deal with equilibria in mix strategi and show that the princip can gain from  induc a mix-nash equilibrium between the agent rather than a pure on. we also show case where the princip can gain by ask agent to reduc their effort level, even when thi effort come for free. both phenomena can not occur in the non-strateg set. 2. model and preliminari 2.1 the gener set a princip emploi a set of agent n of size n. each agent i ∈ n ha a possibl set of action ai, and a cost (effort) ci(ai) ≥ 0 for each possibl action ai ∈ ai (ci : ai → +). the action of all player determin, in a probabilist wai, a contract outcom o ∈ o, accord to a success function t : a1×, . . . × an → Δ(o) (where Δ(o) denot the set of probabl distribut on o). a technolog is a pair, (t, c), of a success function, t, and cost function, c = (c1, c2, . . . , cn). the princip ha a certain valu for each possibl outcom, given by the function v : o → . as we will onli consid risk-neutral player in thi paper5 , we will also treat v as a function on Δ(o), by take simpl expect valu. action of the player ar invis, but the final outcom o is visibl to him and to other (in particular the court), and he mai design enforc contract base on the final outcom. thu the contract for agent i is a function (payment) pi : o → ; again, we will also view pi as a function on Δ(o). given thi set, the agent have been put in a game, where the util of agent i under the vector of action a = (a1, . . . , an) is given by ui(a) = pi(t(a))−ci(ai). the agent will be assum to reach nash equilibrium, if such  equilibrium exist. the princip"s problem (which is our problem in thi paper) is how to design the contract pi as to  maxim hi own expect util u(a) = v(t(a)) − p i pi(t(a)), where the action a1, . . . , an ar at nash-equilibrium. in the case of multipl nash equilibria we let the princip choos the equilibrium, thu focus on the best nash  equilibrium. a variant, which is similar in spirit to strong  implement in mechan design would be to take the worst nash equilibrium, or even, stronger yet, to requir that onli a singl equilibrium exist. final, the social welfar for a ∈ a is u(a) + p i∈n ui(a) = v(t(a)) − p i∈n ci(ai). 2.2 the binari-outcom binari-action model we wish to concentr on the complex introduc by the combinatori structur of the success function t, we restrict ourselv to a simpler set that seem to focu more clearli on the structur of t. a similar model wa us in [12]. we first restrict the action space to have onli two state (binari-action): 0 (low effort) and 1 (high effort). the cost function of agent i is now just a scalar ci > 0 denot the cost of exert high effort (where the low effort ha cost 0). the vector of cost is c = (c1, c2, . . . , cn), 5 the risk-avers case would obvious be a natur second step in the research of thi model, as ha been for  noncombinatori scenario. 20 and we us the notat (t, c) to denot a technolog in such a binari-outcom model. we then restrict the outcom space to have onli two state (binari-outcom): 0 (project failur) and 1 (project success). the princip"s valu for a success project is given by a scalar v > 0 (where the valu of project failur is 0). we assum that the princip can pai the agent but not fine them (known as the limit liabil constraint). the contract to agent i is thu now given by a scalar valu pi ≥ 0 that denot the payment that i get in case of project success. if the project fail, the agent get 0. when the lowest cost action ha zero cost (as we assum), thi immedi impli that the particip constraint hold. at thi point the success function t becom a function t : {0, 1}n → [0, 1], where t(a1, . . . , an) denot the probabl of project success where player with ai = 0 do not exert effort and incur no cost, and player with ai = 1 do exert effort and incur a cost of ci. as we wish to concentr on motiv agent, rather than on the coordin between agent, we assum that more effort by an agent alwai lead to a better probabl of success, i.e. that the success function t is strictli  monoton. formal, if we denot by a−i ∈ a−i the (n −  1)dimension vector of the action of all agent exclud agent i. i.e., a−i = (a1, . . . , ai−1, ai+1, . . . , an), then a  success function must satisfi: ∀i ∈ n, ∀a−i ∈ a−i t(1, a−i) > t(0, a−i) addition, we assum that t(a) > 0 for ani a ∈ a (or equival, t(0, 0, . . . , 0) > 0). definit 1. the margin contribut of agent i,  denot by Δi, is the differ between the probabl of  success when i exert effort and when he shirk. Δi(a−i) = t(1, a−i) − t(0, a−i) note that sinc t is monoton, Δi is a strictli posit function. at thi point we can alreadi make some simpl observ. the best action, ai ∈ ai, of agent i can now be easili determin as a function of what the other do, a−i ∈ a−i, and hi contract pi. claim 1. given a profil of action a−i, agent i"s best strategi is ai = 1 if pi ≥ ci Δi(a−i) , and is ai = 0 if pi ≤ ci Δi(a−i) . (in the case of equal the agent is indiffer  between the two altern.) as pi ≥ ci Δi(a−i) if and onli if ui(1, a−i) = pi ·t(1, a−i)−ci ≥ pi ·t(0, a−i) = ui(0, a−i), i"s best strategi is to choos ai = 1 in thi case. thi allow us to specifi the contract that ar the  princip"s optim, for induc a given equilibrium. observ 1. the best contract (for the princip) that induc a ∈ a as an equilibrium ar pi = 0 for agent i who exert no effort (ai = 0), and pi = ci Δi(a−i) for agent i who exert effort (ai = 1). in thi case, the expect util of agent i who exert effort is ci ·  t(1,a−i) Δi(a−i) − 1  , and 0 for an agent who shirk. the princip"s expect util is given by u(a, v) = (v−p)·t(a), where p is the total payment in case of success, given by p = p i|ai=1 ci Δi(a−i) . we sai that the princip contract with agent i if pi > 0 (and ai = 1 in the equilibrium a ∈ a). the princip"s goal is to maxim hi util given hi valu v, i.e. to determin the profil of action a∗ ∈ a, which give the highest valu of u(a, v) in equilibrium. choos a ∈ a correspond to choos a set s of agent that exert effort (s = {i|ai = 1}). we call the set of agent s∗ that the princip contract with in a∗ (s∗ = {i|a∗ i = 1}) an optim contract for the princip at valu v. we sometim abus notat and denot t(s) instead of t(a), when s is exactli the set of agent that exert effort in a ∈ a. a natur yardstick by which to measur thi decis is the non-strateg case, i.e. when the agent need not be motiv but ar rather control directli by the princip (who also bear their cost). in thi case the princip will simpli choos the profil a ∈ a that optim the social welfar (global effici), t(a) · v − p i|ai=1 ci. the worst ratio between the social welfar in thi non-strateg case and the social welfar for the profil a ∈ a chosen by the princip in the agenc case, mai be term the price of unaccount. given a technolog (t, c), let s∗ (v) denot the optim contract in the agenc case and let s∗ ns(v) denot an optim contract in the non-strateg case, when the princip"s valu is v. the social welfar for valu v when the set s of agent is contract is t(s) · v − p i∈s ci (in both the agenc and non-strateg case). definit 2. the price of unaccount pou(t, c) of a technolog (t, c) is defin as the worst ratio (over v) between the total social welfar in the non-strateg case and the agenc case: pou(t, c) = supv>0 t(s∗ ns(v)) · v − p i∈s∗ ns(v) ci t(s∗(v)) · v − p i∈s∗(v) ci in case where sever set ar optim in the agenc case, we take the worst set (i.e., the set that yield the lowest social welfar). when the technolog (t, c) is clear in the context we will us pou to denot the price of unaccount for technolog (t, c). note that the pou is at least 1 for ani technolog. as we would like to focu on result that deriv from properti of the success function, in most of the paper we will deal with the case where all agent have an ident cost c, that is ci = c for all i ∈ n. we denot a technolog (t, c) with ident cost by (t, c). for the simplic of the present, we sometim us the term technolog function to refer to the success function of the technolog. 2.3 structur technolog function in order to be more concret, we will especi focu on technolog function whose structur can be describ easili as be deriv from independ agent task - we call these structur technolog function. thi subclass will first give us some natur exampl of technolog function, and will also provid a succinct and natur wai to repres the technolog function. in a structur technolog function, each individu  succe or fail in hi own task independ. the project"s success or failur depend, possibl in a complex wai, on the set of success sub-task. thu we will assum a  monoton boolean function f : {0, 1}n → {0, 1} which denot 21 whether the project succe as a function of the success of the n agent" task (and is not determin by ani set of n−1 agent). addition there ar constant 0 < γi < δi < 1, where γi denot the probabl of success for agent i if he doe not exert effort, and δi (> γi) denot the probabl of success if he doe exert effort. in order to reduc the  number of paramet, we will restrict our attent to the case where γ1 = . . . = γn = γ and δ1 = . . . = δn = 1 − γ thu leav ourselv with a singl paramet γ s.t. 0 < γ < 1 2 . under thi structur, the technolog function t is defin by t(a1, . . . , an) be the probabl that f(x1, . . . , xn) = 1 where the bit x1, . . . , xn ar chosen accord to the  follow distribut: if ai = 0 then xi = 1 with probabl γ and xi = 0 with probabl 1 − γ; otherwis, i.e. if ai = 1, then xi = 1 with probabl 1 − γ and xi = 0 with probabl γ. we denot x = (x1, . . . , xn). the question of the represent of the technolog  function is now reduc to that of repres the underli monoton boolean function f. in the most gener case, the function f can be given by a gener monoton boolean circuit. an especi natur sub-class of function in the structur technolog set would be function that can be repres as a read-onc network - a graph with a given sourc and sink, where everi edg is label by a  differ player. the project succe if the edg that belong to player"s whose task succeed form a path between the sourc and the sink6 . a few simpl exampl should be in order here: 1. the and technolog: f(x1, . . . , xn) is the logic conjunct of xi (f(x) = v i∈n xi). thu the project succe onli if all agent succe in their task. thi is shown graphic as a read-onc network in  figur 1(a). if m agent exert effort ( p i ai = m), then t(a) = tm = γn−m (1 − γ)m . e.g. for two player, the technolog function t(a1a2) = ta1+a2 is given by t0 = t(00) = γ2 , t1 = t(01) = t(10) = γ(1 − γ), and t2 = t(11) = (1 − γ)2 . 2. the or technolog: f(x1, . . . , xn) is the logic  disjunct of xi (f(x) = w i∈n xi). thu the project succe if at least on of the agent succe in their task. thi is shown graphic as a read-onc  network in figur 1(b). if m agent exert effort, then tm = 1 − γm (1 − γ)n−m .e.g. for two player, the technolog function is given by t(00) = 1 − (1 − γ)2 , t(01) = t(10) = 1 − γ(1 − γ), and t(11) = 1 − γ2 . 3. the or-of-and (ooa) technolog: f(x) is the  logic disjunct of conjunct. in the simplest case of equal-length claus (denot by nc the number of claus and by nl their length), f(x) = wnc j=1( vnl k=1 xj k). thu the project succe if in at least on claus all agent succe in their task. thi is shown  graphic as a read-onc network in figur 2(a). if mi agent on path i exert effort, then t(m1, ..., mnc ) = 1 − q i(1 − γnl−mi (1 − γ)mi ). e.g. for four  player, the technolog function t(a1 1 a1 2, a2 1 a2 2) is given by t(00, 00) = 1 − (1 − γ2 )2 , t(01, 00) = t(10, 00) = t(00, 01) = t(00, 10) = 1 − (1 − γ(1 − γ))(1 − γ2 ), and so on. 6 on mai view thi represent as directli correspond to the project of deliv a messag from the sourc to the sink in a real network of comput, with the edg be control by selfish agent. figur 1: graphic represent of (a) and and (b) or technolog. figur 2: graphic represent of (a) ooa and (b) aoo technolog. 4. the and-of-or (aoo) technolog: f(x) is the  logic conjunct of disjunct. in the simplest case of equal-length claus (denot by nl the number of claus and by nc their length), f(x) = vnl j=1( wnc k=1 xj k). thu the project succe if at least on agent from each disjunct-form-claus succe in hi task. thi is shown graphic as a read-onc network in  figur 2(b). if mi agent on claus i exert effort, then t(m1, ..., mnc ) = q i(1 − γmi (1 − γ)nc−mi ). e.g. for four player, the technolog function t(a1 1 a1 2, a2 1 a2 2) is given by t(00, 00) = (1 − (1 − γ)2 )2 , t(01, 00) = t(10, 00) = t(00, 01) = t(00, 10) = (1 − γ(1 − γ))(1 − (1 − γ)2 ), and so on. 5. the major technolog: f(x) is 1 if a major of the valu xi ar 1. thu the project succe if most player succe. the major function, even on 3  input, can not be repres by a read-onc network, but is easili repres by a monoton boolean  formula maj(x, y, z) = xy+yz+xz. in thi case the  technolog function is given by t(000) = 3γ2 (1 − γ) + γ3 , t(001) = t(010) = t(100) = γ3 +2(1−γ)2 γ +γ2 (1−γ), etc. 3. analysi of some anonym  technolog a success function t is call anonym if it is symmetr with respect to the player. i.e. t(a1, . . . , an) depend onli on p i∈n ai (the number of agent that exert effort). a  technolog (t, c) is anonym if t is anonym and the cost c is ident to all agent. of the exampl present abov, the and, or, and major technolog were anonym (but not aoo and ooa). as for an anonym t onli the number of agent that exert effort is import, we can shorten the notat and denot tm = t(1m , 0n−m ), Δm = tm+1 − tm, pm = c Δm−1 and um = tm · (v − m · pm), for the case of ident cost c. 22 v 3 0 gamma 200 150 0.4 100 50 0.3 0 0.20.10 2 1 0 3 12000 6000 8000 4000 2000 gamma 0 0.4 0.45 10000 0.3 0.350.250.2 figur 3: number of agent in the optim contract of the and (left) and or (right) technolog with 3 player, as a function of γ and v. and technolog: either 0 or 3 agent ar contract, and the transit valu is monoton in γ. or technolog: for ani γ we can see all transit. 3.1 and and or technolog let us start with a direct and full analysi of the and and or technolog for two player for the case γ = 1/4 and c = 1. exampl 1. and technolog with two agent, c = 1, γ = 1/4: we have t0 = γ2 = 1/16, t1 = γ(1 − γ) = 3/16, and t2 = (1 − γ)2 = 9/16 thu Δ0 = 1/8 and Δ1 = 3/8. the princip ha 3 possibl: contract with 0, 1, or 2 agent. let us write down the express for hi util in these 3 case: • 0 agent: no agent is paid thu and the princip"s util is u0 = t0 · v = v/16. • 1 agent: thi agent is paid p1 = c/Δ0 = 8 on success and the princip"s util is u1 = t1(v − p1) = 3v/16− 3/2. • 2 agent: each agent is paid p2 = c/Δ1 = 8/3 on success, and the princip"s util is u2 = t2(v−2p2) = 9v/16 − 3. notic that the option of contract with on agent is alwai inferior to either contract with both or with none, and will never be taken by the princip. the princip will contract with no agent when v < 6, with both agent whenev v > 6, and with either non or both for v = 6. thi should be contrast with the non-strateg case in which the princip complet control the agent (and bear their cost) and thu simpli optim global. in thi case the princip will make both agent exert effort whenev v ≥ 4. thu for exampl, for v = 6 the global optim decis (non-strateg case) would give a global util of 6 · 9/16 − 2 = 11/8 while the princip"s decis (in the agenc case) would give a global util of 3/8, give a ratio of 11/3. it turn out that thi is the worst price of unaccount in thi exampl, and it is obtain exactli at the transit point of the agenc case, as we show below. exampl 2. or technolog with two agent, c = 1, γ = 1/4: we have t0 = 1 − (1 − γ)2 = 7/16, t1 = 1 − γ(1 − γ) = 13/16, and t2 = 1 − γ2 = 15/16 thu Δ0 = 3/8 and Δ1 = 1/8. let us write down the express for the princip"s util in these three case: • 0 agent: no agent is paid and the princip"s util is u0 = t0 · v = 7v/16. • 1 agent: thi agent is paid p1 = c/Δ0 = 8/3 on success and the princip"s util is u1 = t1(v − p1) = 13v/16 − 13/6. • 2 agent: each agent is paid p2 = c/Δ1 = 8 on  success, and the princip"s util is u2 = t2(v − 2p2) = 15v/16 − 15/2. now contract with on agent is better than contract with none whenev v > 52/9 (and is equival for v = 52/9), and contract with both agent is better than  contract with on agent whenev v > 128/3 (and is  equival for v = 128/3), thu the princip will contract with no agent for 0 ≤ v ≤ 52/9, with on agent for 52/9 ≤ v ≤ 128/3, and with both agent for v ≥ 128/3. in the non-strateg case, in comparison, the princip will make a singl agent exert effort for v > 8/3, and the second on exert effort as well when v > 8. it turn out that the price of unaccount here is 19/13, and is achiev at v = 52/9, which is exactli the transit point from 0 to 1 contract agent in the agenc case. thi is not a coincid that in both the and and or technolog the pou is obtain for v that is a  transit point (see full proof in [2]). lemma 1. for ani given technolog (t, c) the price of  unaccount pou(t, c) is obtain at some valu v which is a transit point, of either the agenc or the non-strateg case. proof sketch: we look at all transit point in both case. for ani valu lower than the first transit point, 0 agent ar contract in both case, and the social welfar ratio is 1. similarli, for ani valu higher than the last  transit point, n agent ar contract in both case, and the social welfar ratio is 1. thu, we can focu on the  interv between the first and last transit point. between ani pair of consecut point, the social welfar ratio is between two linear function of v (the optim contract ar fix on such a segment). we then show that for each segment, the suprimum ratio is obtain at an end point of the segment (a transit point). as there ar finit mani such point, the global suprimum is obtain at the transit point with the maxim social welfar ratio. 2 we alreadi see a qualit differ between the and and or technolog (even with 2 agent): in the first case either all agent ar contract or none, while in the second case, for some intermedi rang of valu v, exactli on agent is contract. figur 3 show the same phenomena for and and or technolog with 3 player. theorem 1. for ani anonym and technolog7 : • there exist a valu8 v∗ < ∞ such that for ani v < v∗ it is optim to contract with no agent, for v > v∗ it is optim to contract with all n agent, and for v = v∗, both contract (0, n) ar optim. 7 and technolog with ani number of agent n and ani γ, and ani ident cost c. 8 v∗ is a function of n, γ, c. 23 • the price of unaccount is obtain at the  transit point of the agenc case, and is pou = ` 1 γ − 1 ´n−1 + (1 − γ 1 − γ ) proof sketch: for ani fix number of contract agent, k, the princip"s util is a linear function in v, where the slope equal the success probabl under k contract agent. thu, the optim contract correspond to the  maximum over a set of linear function. let v∗ denot the point at which the princip is indiffer between contract with 0 or n agent. in [2] we show that at v∗, the  princip"s util from contract with 0 (or n) agent is higher than hi util when contract with ani number of agent k ∈ {1, . . . , n − 1}. as the number of contract agent is monoton non-decreas in the valu (due to lemma 3), for ani v < v∗, contract with 0 agent is optim, and for ani v > v∗, contract with n agent is optim. thi is true for both the agenc and the non-strateg case. as in both case there is a singl transit point, the claim about the price of unaccount for and  technolog is prove as a special case of lemma 2 below. for and technolog tn−1 t0 = (1−γ)n−1 ·γ γn =  1 γ − 1 n−1 and tn−1 tn = (1−γ)n−1 ·γ (1−γ)n = γ 1−γ , and the express for the pou follow. 2 in [2] we present a gener character of technolog with a singl transit in the agenc and the non-strateg case, and provid a full proof of theorem 1 as a special case. the properti of a singl transit occur in both the agenc and the non-strateg case, where the transit  occur at a smaller valu of v in the non-strateg case. notic that the pou is not bound across the and famili of technolog (for variou n, γ) as pou → ∞ either if γ → 0 (for ani given n ≥ 2) or n → ∞ (for ani fix γ ∈ (0, 1 2 )). next we consid the or technolog and show that it exhibit all n transit. theorem 2. for ani anonym or technolog, there exist finit posit valu v1 < v2 < . . . < vn such that for ani v s.t. vk < v < vk+1, contract with exactli k agent is optim (for v < v1, no agent is contract, and for v > vn, all n agent ar contract). for v = vk, the princip is indiffer between contract with k − 1 or k agent. proof sketch: to prove the claim we defin vk to be the valu for which the princip is indiffer between  contract with k − 1 agent, and contract with k agent. we then show that for ani k, vk < vk+1. as the number of  contract agent is monoton non-decreas in the valu (due to lemma 3), v1 < v2 < . . . < vn is a suffici condit for the theorem to hold. 2 the same behavior occur in both the agenc and the  nonstrateg case. thi character is a direct corollari of a more gener character given in [2]. while in the and technolog we were abl to fulli  determin the pou analyt, the or technolog is more difficult to analyz. open question 1. what is the pou for or with n > 2 agent? is it bound by a constant for everi n? we ar onli abl to determin the pou of the or  technolog for the case of two agent [2]. even for the 2 agent case we alreadi observ a qualit differ between the pou in the and and or technolog. observ 2. while in the and technolog the pou for n = 2 is not bound from abov (for γ → 0), the highest pou in or technolog with two agent is 2 (for γ → 0). 3.2 what determin the transit? theorem 1 and 2 sai that both the and and or  technolog exhibit the same transit behavior (chang of the optim contract) in the agenc and the non-strateg case. howev, thi is not true in gener. in [2] we provid a full character of the suffici and necessari condit for gener anonym technolog to have a singl  transit and all n transit. we find that the condit in the agenc case ar differ than the on in the non-strateg case. we ar abl to determin the pou for ani anonym technolog that exhibit a singl transit in both the agenc and the non-strateg case (see full proof in [2]). lemma 2. for ani anonym technolog that ha a  singl transit in both the agenc and the non-strateg case, the pou is given by: pou = 1 + tn−1 t0 − tn−1 tn and it is obtain at the transit point of the agenc case. proof sketch: sinc the payment in the agenc case ar higher than in the non-strateg case, the transit point in the agenc case occur for a higher valu than in the non-strateg case. thu, there exist a region in which the optim number of contract agent in the agenc and the non-strateg case ar 0 and n, respect. by lemma 1 the pou is obtain at a transit point. as the social welfar ratio is decreas in v in thi region, the pou is obtain at the higher valu, that is, at the transit point of the agenc case. the transit point in the agenc case is the point at which the princip is indiffer between contract with 0 and with n agent, v∗ = c·n tn−t0 · tn tn−tn−1 . substitut the transit point of the agenc case into the pou express yield the requir express. pou = v∗ · tn − c · n v∗ · t0 = 1 + tn−1 t0 − tn−1 tn 2 3.3 the major technolog the project under the major function succe if the major of the agent succe in their task (see  section 2.3). we ar unabl to character the transit  behavior of the major technolog analyt. figur 4 present the optim number of contract agent as a  function of v and γ, for n = 5. the phenomena that we observ in thi exampl (and other that we look at) lead us to the follow conjectur. conjectur 1. for ani major technolog (ani n, γ and c), there exist l, 1 ≤ l ≤ n/2 such that the first transit is from 0 to l agent, and then all the remain n − l transit exist. 24 4 5 3 1 0 2 400 0 0.3 100 gamma 0.2 300 0.450.25 200 v 500 0.35 0.4 figur 4: simul result show the number of agent in the optim contract of the major  technolog with 5 player, as a function of γ and v. as γ decreas the first transit is at a lower valu and to a higher number of agent. for ani suffici small γ, the first transit is to 3 = 5/2 agent, and for ani suffici larg γ, the first transit is to 1 agent. for ani γ, the first transit is never to more than 3 agent, and after the first transit we see all follow possibl transit. moreov, for ani fix c, n, l = 1 when γ is close enough to 1 2 , l is a non-decreas function of γ (with imag {1, . . . , n/2 }), and l = n/2 when γ is close enough to 0. 4. non-anonym technolog in non-anonym technolog (even with ident cost), we need to talk about the contract set of agent and not onli about the number of contract agent. in thi section, we identifi the set of agent that can be obtain as the optim contract for some v. these set construct the orbit of a technolog. definit 3. for a technolog t, a set of agent s is in the orbit of t if for some valu v, the optim contract is exactli with the set s of agent (where ti between differ s"s ar broken accord to a lexicograph order9 ). the  korbit of t is the collect of set of size exactli k in the orbit. observ that in the non-strateg case the k-orbit of ani technolog with ident cost c is of size at most 1 (as all set of size k ha the same cost, onli the on with the maxim probabl can be on the orbit). thu, the orbit of ani such technolog in the non-strateg case is of size at most n + 1. we show that the pictur in the agenc case is veri differ. a basic observ is that the orbit of a technolog is actual an order list of set of agent, where the order is determin by the follow lemma. lemma 3. ( monoton lemma) for ani technolog (t, c), in both the agenc and the non-strateg case, the 9 thi impli that there ar no two set with the same  success probabl in the orbit. expect util of the princip at the optim contract, the success probabl of the optim contract, and the expect payment of the optim contract, ar all monoton  nondecreas with the valu. proof. suppos the set of agent s1 and s2 ar  optim in v1 and v2 < v1, respect. let q(s) denot the expect total payment to all agent in s in the case that the princip contract with the set s and the project  succe (for the agenc case, q(s) = t(s) · p i∈s ci t(s)−t(s\i) , while for the non-strateg case q(s) = p i∈s ci). the  princip"s util is a linear function of the valu, u(s, v) = t(s)·v−q(s). as s1 is optim at v1, u(s1, v1) ≥ u(s2, v1), and as t(s2) ≥ 0 and v1 > v2, u(s2, v1) ≥ u(s2, v2). we conclud that u(s1, v1) ≥ u(s2, v2), thu the util is  monoton non-decreas in the valu. next we show that the success probabl is monoton non-decreas in the valu. s1 is optim at v1, thu: t(s1) · v1 − q(s1) ≥ t(s2) · v1 − q(s2) s2 is optim at v2, thu: t(s2) · v2 − q(s2) ≥ t(s1) · v2 − q(s1) sum these two equat, we get that (t(s1) − t(s2)) · (v1 − v2) ≥ 0, which impli that if v1 > v2 than t(s1) ≥ t(s2). final we show that the expect payment is monoton non-decreas in the valu. as s2 is optim at v2 and t(s1) ≥ t(s2), we observ that: t(s2) · v2 − q(s2) ≥ t(s1) · v2 − q(s1) ≥ t(s2) · v2 − q(s1) or equival, q(s2) ≤ q(s1), which is what we want to show. 4.1 aoo and ooa technolog we begin our discuss of non-anonym technolog with two exampl; the and-of-or (aoo) and or-of-and (ooa) technolog. the aoo technolog (see figur 2) is compos of  multipl or-compon that ar and togeth. theorem 3. let h be an anonym or technolog, and let f = vnc j=1 h be the aoo technolog that is obtain by a conjunct of nc of these or-compon on disjoint  input. then for ani valu v, an optim contract contract with the same number of agent in each or-compon. thu, the orbit of f is of size at most nl + 1, where nl is the number of agent in h. part of the proof of the theorem (for the complet proof see [2]), is base on such aoo technolog be a special case of a more gener famili of technolog, in which  disjoint anonym technolog ar and-ed togeth, as  explain in the next section. we conjectur that a similar result hold for the ooa technolog. conjectur 2. in an ooa technolog which is a  disjunct of the same anonym path (with the same  number of agent, γ and c, but over disjoint input), for ani valu v the optim contract is construct from some  number of fulli-contract path. moreov, there exist v1 < . . . < vnl such that for ani v, vi ≤ v ≤ vi+1, exactli i path ar contract. we ar unabl to prove it in gener, but can prove it for the case of an ooa technolog with two path of length two (see [2]). 25 4.2 orbit character the aoo is an exampl of a technolog whose orbit size is linear in it number of agent. if conjectur 2 is true, the same hold for the ooa technolog. what can be said about the orbit size of a gener non-anonym technolog? in case of ident cost, it is imposs for all subset of agent to be on the orbit. thi hold by the observ that the 1-orbit (a singl agent that exert effort) is of size at most 1. onli the agent that give the highest success probabl (when onli he exert effort) can be on the orbit (as he also need to be paid the least). nevertheless, we next show that the orbit can have exponenti size. a collect of set of k element (out of n) is  admiss, if everi two set in the collect differ by at least 2 element (e.g. for k=3, 123 and 234 can not be togeth in the collect, but 123 and 345 can be). theorem 4. everi admiss collect can be obtain as the k − orbit of some t. proof sketch: the proof is construct. let s be some admiss collect of k-size set. for each set s ∈ s in the collect we pick s, such that for ani two admiss set si = sj, si = sj . we then defin the technolog function t as follow: for ani s ∈ s, t(s) = 1/2 − s and ∀i ∈ s, t(s \ i) = 1/2 − 2 s. thu, the margin contribut of everi i ∈ s is s. note that sinc s is admiss, t is well defin, as for ani two set s, s ∈ s and ani two agent i, j, s \ i = s \ j. for ani other set z, we defin t(z) in a wai that ensur that the margin contribut of each agent in z is a veri small (the technic detail appear in the full version). thi complet the definit of t. we show that each admiss set s ∈ s is optim at the valu vs = ck 2 2 s . we first show that it is better than ani other s ∈ s. at the valu vs = ck 2 2 s , the set s that  correspond to s maxim the util of the princip. thi result is obtain by take the deriv of u(s, v).  therefor s yield a higher util than ani other s ∈ s. we also pick the rang of s to ensur that at vs, s is better than ani other set s \ i s.t. s ∈ s. now we ar left to show that at vs, the set s yield a higher util than ani other set z ∈ s. the construct of t(z) ensur thi sinc the margin contribut of each agent in z is such a small , that the payment is too high for the set to be optim. 2 in [2] we present the full proof of the theorem, as well as the full proof of all other claim present in thi section without such a proof. we next show that there exist veri larg admiss collect. lemma 4. for ani n ≥ k, there exist an admiss  collect of k-size set of size Ω( 1 n · `n k ´ ). proof sketch: the proof is base on an error correct code that correct on bit. such a code ha a distanc ≥ 3, thu admiss. it is known that there ar such code with Ω(2n /n) code word. to ensur that an appropri fraction of these code word have weight k, we construct a new code by xor-ing each code word with a random word r. the properti of xor ensur that the new code remain admiss. each code word is now uniformli map to the whole cube, and thu it probabl of have weight k is `n k ´ /2n . thu the expect number of weight k word is Ω( `n k ´ /n), and for some r thi expect is achiev or exceed. 2 for k = n/2 we can construct an exponenti size  admiss collect, which by theorem 4 can be us to build a technolog with exponenti size orbit. corollari 1. there exist a technolog (t, c) with orbit of size Ω( 2n n √ n ). thu, we ar abl to construct a technolog with  exponenti orbit, but thi technolog is not a network technolog or a structur technolog. open question 2. is there a read onc network with exponenti orbit? is there a structur technolog with  exponenti orbit? nevertheless, so far, we have not seen exampl of  seriesparallel network whose orbit size is larger than n + 1. open question 3. how big can the orbit size of a  seriesparallel network be? we make the first step toward a solut of thi question by show that the size of the orbit of a conjunct of two disjoint network (take the two in a serial) is at most the sum of the two network" orbit size. let g and h be two boolean function on disjoint input and let f = g v h (i.e., take their network in seri). the optim contract for f for some v, denot by s, is compos of some agent from the h-part and some from the g-part, call them t and r respect. lemma 5. let s be an optim contract for f = g v h on v. then, t is an optim contract for h on v · tg(r), and r is an optim contract for g on v · th(t). proof sketch: we exress the pricip"s util u(s, v) from contract with the set s when hi valu is v. we abus notat and us the function to denot the technolog as well. let Δf i (s \ i) denot the margin contribut of agent i ∈ s. then, for ani i ∈ t, Δf i (s \ i) = g(r) · Δh i (t \ i), and for ani i ∈ r, Δf i (s \ i) = h(t) · Δg i (r \ i). by substitut these express and f(s) = h(t) · g(r), we deriv that u(s, v) = h(t)  g(r) · v − p i∈t ci Δh i (t \i)  + g(r) · p i∈r ci Δ g i (r\i) . the first term is maxim at a set t that is optim for h on the valu g(r) · v, while the second term is independ of t and h. thu, s is optim for f on v if and onli if t is an optim contract for h on v · tg(r). similarli, we show that r is an optim contract for g on v · th(t). 2 lemma 6. the real function v → th(t), where t is the h − part of an optim contract for f on v, is monoton non-decreas (and similarli for the function v → tg(r)). proof. let s1 = t1 ∪ r1 be the optim contract for f on v1, and let s2 = t2 ∪r2 be the optim contract for f on v2 < v1. by lemma 3 f(s1) ≥ f(s2), and sinc f = g · h, f(s1) = h(t1) · g(r1) ≥ h(t2) · g(r2) = f(s2). assum in contradict that h(t1) < h(t2), then sinc h(t1)·g(r1) ≥ h(t2)·g(r2) thi impli that g(r1) > g(r2). by lemma 5, t1 is optim for h on v1 · g(r1), and t2 is optim for h on v2 ·g(r2). as v1 > v2 and g(r1) > g(r2), t1 is optim for h on a larger valu than t2, thu by lemma 3, h(t1) ≥ h(t2), a contradict. 26 base on lemma 5 and lemma 6, we obtain the follow lemma. for the full proof, see [2]. lemma 7. let g and h be two boolean function on  disjoint input and let f = g v h (i.e., take their network in seri). suppos x and y ar the respect orbit size of g and h; then, the orbit size of f is less or equal to x + y − 1. by induct we get the follow corollari. corollari 2. assum that {(gj, cj )}m j=1 is a set of  anonym technolog on disjoint input, each with ident agent cost (all agent of technolog gj ha the same cost cj). then the orbit of f = vm j=1 gj is of size at most ( pm j=1 nj ) − 1, where nj is the number of agent in technolog gj (the orbit is linear in the number of agent). in particular, thi hold for aoo technolog where each or-compon is anonym. it would also be interest to consid a disjunct of two boolean function. open question 4. doe lemma 7 hold also for the boolean function f = g w h (i.e., when the network g, h ar taken in parallel)? we conjectur that thi is inde the case, and that the correspond lemma 5 and 7 exist for the or case as well. if thi is true, thi will show that seri-parallel network have polynomi size orbit. 5. algorithm aspect our analysi throughout the paper shed some light on the algorithm aspect of comput the best contract. in thi section we state these implic (for the proof see [2]). we first consid the gener model where the  technolog function is given by an arbitrari monoton function t (with ration valu), and we then consid the case of structur technolog given by a network represent of the underli boolean function. 5.1 binari-outcom binari-action  technolog here we assum that we ar given a technolog and valu v as the input, and our output should be the optim  contract, i.e. the set s∗ of agent to be contract and the contract pi for each i ∈ s∗ . in the gener case, the success function t is of size exponenti in n, the number of agent, and we will need to deal with that. in the special case of anonym technolog, the descript of t is onli the n+1 number t0, . . . , tn, and in thi case our analysi in section 3 complet suffic for comput the optim contract. proposit 1. given as input the full descript of a technolog (the valu t0, . . . , tn and the ident cost c for an anonym technolog, or the valu t(s) for all the 2n possibl subset s ⊆ n of the player, and a vector of cost c for non-anonym technolog), the follow can all be comput in polynomi time: • the orbit of the technolog in both the agenc and the non-strateg case. • an optim contract for ani given valu v, for both the agenc and the non-strateg case. • the price of unaccount pou(t, c). proof. we prove the claim for the non-anonym case, the proof for the anonym case is similar. we first show how to construct the orbit of the technolog (the same procedur appli in both case). to construct the orbit we find all transit point and the set that ar in the orbit. the empti contract is alwai optim for v = 0. assum that we have calcul the optim contract and the transit point up to some transit point v for which s is an optim contract with the highest success probabl. we show how to calcul the next transit point and the next optim contract. by lemma 3 the next contract on the orbit (for higher  valu) ha a higher success probabl (there ar no two set with the same success probabl on the orbit). we  calcul the next optim contract by the follow procedur. we go over all set t such that t(t) > t(s), and  calcul the valu for which the princip is indiffer between contract with t and contract with s. the minim  indiffer valu is the next transit point and the contract that ha the minim indiffer valu is the next optim contract. linear of the util in the valu and  monoton of the success probabl of the optim contract ensur that the abov work. clearli the abov calcul is polynomi in the input size. onc we have the orbit, it is clear that an optim contract for ani given valu v can be calcul. we find the largest transit point that is not larger than the valu v, and the optim contract at v is the set with the higher success probabl at thi transit point. final, as we can calcul the orbit of the technolog in both the agenc and the non-strateg case in polynomi time, we can find the price of unaccount in polynomi time. by lemma 1 the price of unaccount pou(t) is obtain at some transit point, so we onli need to go over all transit point, and find the on with the maxim social welfar ratio. a more interest question is whether if given the  function t as a black box, we can comput the optim contract in time that is polynomi in n. we can show that, in gener thi is not the case: theorem 5. given as input a black box for a success function t (when the cost ar ident), and a valu v, the number of queri that is need, in the worst case, to find the optim contract is exponenti in n. proof. consid the follow famili of technolog. for some small > 0 and k = n/2 we defin the success probabl for a given set t as follow. if |t| < k, then t(t) = |t| · . if |t| > k, then t(t) = 1 − (n − |t|) · . for each set of agent ˆt of size k, the technolog t ˆt is defin by t( ˆt) = 1 − (n − | ˆt|) · and t(t) = |t| · for ani t = ˆt of size k. for the valu v = c·(k + 1/2), the optim contract for t ˆt is ˆt (for the contract ˆt the util of the princip is about v −c·k = 1/2·c > 0, while for ani other contract the util is neg). if the algorithm queri about at most ` n n/2 ´ − 2 set of size k, then it cannot alwai determin the optim  contract (as ani of the set that it ha not queri about might be the optim on). we conclud that ` n n/2 ´ − 1 queri ar need to determin the optim contract, and thi is exponenti in n. 27 5.2 structur technolog in thi section we will consid the natur represent of read-onc network for the underli boolean function. thu the problem we address will be: the optim contract problem for read onc  network: input: a read-onc network g = (v, e), with two specif vertic s, t; ration valu γe, δe for each player e ∈ e (and ce = 1), and a ration valu v. output: a set s of agent who should be contract in an optim contract. let t(e) denot the probabl of success when each edg succe with probabl δe. we first notic that even  comput the valu t(e) is a hard problem: it is call the network reliabl problem and is known to be #p − hard [8]. just a littl effort will reveal that our problem is not easier: theorem 6. the optim contract problem for read onc network is #p-hard (under ture reduct). proof. we will show that an algorithm for thi problem can be us to solv the network reliabl problem. given an instanc of a network reliabl problem < g, {ζe}e∈e > (where ζe denot e"s probabl of success), we defin an instanc of the optim contract problem as follow: first defin a new graph g which is obtain by and g with a new player x, with γx veri close to 1 2 and δx = 1 − γx. for the other edg, we let δe = ζe and γe = ζe/2. by choos γx close enough to 1 2 , we can make sure that player x will enter the optim contract onli for veri larg valu of v, after all other agent ar contract (if we can find the optim contract for ani valu, it is easi to find a valu for which in the origin network the optim contract is e, by keep doubl the valu and ask for the optim contract. onc we find such a valu, we choos γx s.t. c 1−2γx is larger than that valu). let us denot βx = 1 − 2γx. the critic valu of v where player x enter the optim contract of g , can be found us binari search over the algorithm that supposedli find the optim contract for ani network and ani valu. note that at thi critic valu v, the princip is indiffer between the set e and e ∪ {x}. now when we write the express for thi indiffer, in term of t(e) and Δt i(e) , we observ the follow. t(e) · γx · v − x i∈e c γx · Δt i(e \ i) ! = t(e)(1 − γx) v − x i∈e c (1 − γx) · Δt i(e \ i) − c t(e) · βx ! if and onli if t(e) = (1 − γx) · c (βx)2 · v thu, if we can alwai find the optim contract we ar also abl to comput the valu of t(e). in conclus, comput the optim contract in gener is hard. these result suggest two natur research  direct. the first avenu is to studi famili of technolog whose optim contract can be comput in polynomi time. the second avenu is to explor approxim  algorithm for the optim contract problem. a possibl candid for the first direct is the famili of seri-parallel network, for which the network reliabl problem (comput the valu of t) is polynomi. open question 5. can the optim contract problem for read onc seri-parallel network be solv in polynomi time? we can onli handl the non-trivial level of aoo network: lemma 8. given a read onc and-of-or network such that each or-compon is an anonym technolog, the optim contract problem can be solv in polynomi time. acknowledg. thi work is support by the  israel scienc foundat, the usa-israel binat scienc foundat, the ladi davi fellowship trust, and by a  nation scienc foundat grant number ani-0331659. 6. refer [1] m. babaioff, m. feldman, and n. nisan. the price of puriti and free-labor in combinatori agenc. in work paper, 2005. [2] m. babaioff, m. feldman, and n. nisan. combinatori agenc, 2006. www.sim.berkelei.edu/˜mosh/comb-agenc.pdf. [3] m. feldman, j. chuang, i. stoica, and s. shenker. hidden-action in multi-hop rout. in ec"05, page 117-126, 2005. [4] b. holmstrom. moral hazard in team. bell journal of econom, 13:324-340, 1982. [5] a. mass-colel, m. whinston, and j. green. microeconom theori. oxford univers press, 1995. [6] n. nisan and a. ronen. algorithm mechan design. game and econom behaviour, 35:166 - 196, 2001. a preliminari version appear in stoc 1999. [7] c. papadimitri. algorithm, game, and the internet. in proceed of 33rd stoc, page 749-753, 2001. [8] j. s. provan and m. o. ball. the complex of count cut and of comput the probabl that a graph is connect. siam j. comput., 12(4):777-788, 1983. [9] a. ronen and l. wahrmann. predict game. wine, page 129-140, 2005. [10] r. smorodinski and m. tennenholtz. sequenti inform elicit in multi-agent system. 20th confer on uncertainti in ai, 2004. [11] r. smorodinski and m. tennenholtz. overcom free-ride in multi-parti comput - the anonym case. forthcom, geb, 2005. [12] e. winter. incent and discrimin. american econom review, 94:764-773, 2004. 28 